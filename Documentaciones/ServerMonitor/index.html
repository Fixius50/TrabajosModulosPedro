<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentación - ServerMonitorApp</title>
    <style>
        :root {
            --primary: #3b82f6;
            --bg: #f8fafc;
            --text: #1e293b;
            --card-bg: #ffffff;
        }
        body {
            font-family: system-ui, -apple-system, sans-serif;
            line-height: 1.6;
            color: var(--text);
            background: var(--bg);
            margin: 0;
            padding: 2rem;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
        }
        header {
            text-align: center;
            margin-bottom: 3rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid #e2e8f0;
        }
        h1 { font-size: 2.5rem; color: var(--primary); margin-bottom: 0.5rem; }
        .subtitle { color: #64748b; font-size: 1.1rem; }
        
        section {
            background: var(--card-bg);
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
            margin-bottom: 2rem;
        }
        
        h2 { color: var(--primary); border-bottom: 2px solid #e2e8f0; padding-bottom: 0.5rem; }
        
        .prompt-card {
            background: #f1f5f9;
            border-left: 4px solid var(--primary);
            padding: 1rem;
            margin: 1.5rem 0;
            border-radius: 0 8px 8px 0;
        }
        .prompt-text { font-style: italic; color: #475569; }
        .implementation { margin-top: 1rem; }
        .tag {
            display: inline-block;
            background: #dbeafe;
            color: #1e40af;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            font-weight: 500;
        }
        
        footer {
            text-align: center;
            margin-top: 4rem;
            color: #94a3b8;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ServerMonitorApp</h1>
            <div class="subtitle">Infraestructura Híbrida de Monitorización (Next.js + Supabase + Docker)</div>
        </header>

        <section id="vision">
            <h2>1. Visión y Estrategia</h2>
            <p><strong>ServerMonitorApp</strong> es una aplicación de monitorización y gestión de infraestructura diseñada para controlar servidores remotos (nodos en contenedores) alojados en una Máquina Virtual Local (o VPS) desde un panel web centralizado en la nube.</p>
            <ul>
                <li><strong>Infraestructura</strong>: MV Local (Ubuntu Server 24.04 LTS) con Cloudflare Tunnel.</li>
                <li><strong>Backend</strong>: Agente Node.js + Supabase (Self-hosted).</li>
                <li><strong>Frontend</strong>: Next.js + Tremor (Visualización de datos en tiempo real).</li>
            </ul>
        </section>

        <section id="bitacora">
            <h2>2. Bitácora de Desarrollo</h2>
            
            <div class="entry">
                <div class="prompt-card">
                    <div class="prompt-text">"¿Qué vamos a hacer hoy? (He analizado el PDF y estoy listo para crear el Manifiesto y el Hito 1 de infraestructura)."</div>
                </div>
                <div class="implementation">
                    <span class="tag">Inicio del Proyecto</span>
                    <p>Se inicializó la estructura del proyecto y se creó el <code>manifiesto.md</code> definiendo la arquitectura híbrida (Vercel + Oracle Cloud/Local VM).</p>
                </div>
            </div>

            <div class="entry">
                <div class="prompt-card">
                    <div class="prompt-text">"he cambiado donde se aloja el servidor, esta vez en una mv local. Aquí te paso la info..."</div>
                </div>
                <div class="implementation">
                    <span class="tag">Re-Planificación</span>
                    <p>Adaptación del Manifiesto y credenciales para usar una MV Local (192.168.2.154) en lugar de Oracle Cloud. Se guardaron las credenciales en <code>Docs/credentials_local.md</code>.</p>
                </div>
            </div>

            <div class="entry">
                <div class="prompt-card">
                    <div class="prompt-text">"investiga apis que te he dejado en el archivo de Investigador.txt PARA aplicarlo bien"</div>
                </div>
                <div class="implementation">
                    <span class="tag">Investigación</span>
                    <p>Se incorporó la API de Geolocalización (<code>ip-api.com</code>) al Dashboard para mostrar datos ricos del host, basado en las referencias de investigación.</p>
                </div>
            </div>

             <div class="entry">
                <div class="prompt-card">
                    <div class="prompt-text">"si, de la base de datos como se esta compartiendo con otros proyectos altera tablas si existen o crea nuevas usando un numero..."</div>
                </div>
                <div class="implementation">
                    <span class="tag">Backend Logic</span>
                    <ul>
                        <li>Diseño de Schema SQL con prefijo <code>sm_</code> para evitar colisiones.</li>
                        <li>Desarrollo del Agente Node.js (<code>agent/index.js</code>) para reportar métricas y controlar Docker.</li>
                    </ul>
                </div>
            </div>
            
             <div class="entry">
                <div class="prompt-card">
                    <div class="prompt-text">"me sale esto (Screenshots de éxito)"</div>
                </div>
                <div class="implementation">
                    <span class="tag">Verificación Final</span>
                    <ul>
                        <li>Validación visual del Dashboard funcionando.</li>
                        <li>Corrección de dependencias (<code>dockerode</code>) en el Agente.</li>
                        <li>Generación de documentación técnica final.</li>
                    </ul>
                </div>
            </div>

        </section>

        <section id="tecnologia">
            <h2>3. Stack Tecnológico</h2>
            <ul>
                <li><strong>Frontend:</strong> Next.js 14 (App Router), Tailwind CSS, Tremor Components.</li>
                <li><strong>Backend:</strong> Supabase (PostgreSQL + Realtime), Node.js (Agente).</li>
                <li><strong>Infraestructura:</strong> Docker, Cloudflare Tunnel.</li>
                <li><strong>Herramientas IA:</strong> Google AI Studio (Modelos Thinking).</li>
            </ul>
        </section>

        <footer>
            <p>Desarrollado por Roberto Monedero Alonso</p>
            <p>&copy; 2026 ServerMonitorApp</p>
        </footer>
    </div>
</body>
</html>
