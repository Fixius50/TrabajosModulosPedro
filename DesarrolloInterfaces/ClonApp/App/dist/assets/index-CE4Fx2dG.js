function jx(n,e){for(var r=0;r<e.length;r++){const i=e[r];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();function zc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Ex(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var r=function i(){var o=!1;try{o=this instanceof i}catch{}return o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var o=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(r,i,o.get?o:{enumerable:!0,get:function(){return n[i]}})}),r}var Nu={exports:{}},ai={},Ou={exports:{}},we={};var up;function Cx(){if(up)return we;up=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.iterator;function y(N){return N===null||typeof N!="object"?null:(N=x&&N[x]||N["@@iterator"],typeof N=="function"?N:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,S={};function E(N,$,he){this.props=N,this.context=$,this.refs=S,this.updater=he||w}E.prototype.isReactComponent={},E.prototype.setState=function(N,$){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,$,"setState")},E.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function M(){}M.prototype=E.prototype;function T(N,$,he){this.props=N,this.context=$,this.refs=S,this.updater=he||w}var j=T.prototype=new M;j.constructor=T,_(j,E.prototype),j.isPureReactComponent=!0;var R=Array.isArray,q=Object.prototype.hasOwnProperty,F={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function A(N,$,he){var ge,_e={},ve=null,Ee=null;if($!=null)for(ge in $.ref!==void 0&&(Ee=$.ref),$.key!==void 0&&(ve=""+$.key),$)q.call($,ge)&&!C.hasOwnProperty(ge)&&(_e[ge]=$[ge]);var ke=arguments.length-2;if(ke===1)_e.children=he;else if(1<ke){for(var Te=Array(ke),Ye=0;Ye<ke;Ye++)Te[Ye]=arguments[Ye+2];_e.children=Te}if(N&&N.defaultProps)for(ge in ke=N.defaultProps,ke)_e[ge]===void 0&&(_e[ge]=ke[ge]);return{$$typeof:n,type:N,key:ve,ref:Ee,props:_e,_owner:F.current}}function D(N,$){return{$$typeof:n,type:N.type,key:$,ref:N.ref,props:N.props,_owner:N._owner}}function B(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function J(N){var $={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(he){return $[he]})}var ne=/\/+/g;function le(N,$){return typeof N=="object"&&N!==null&&N.key!=null?J(""+N.key):$.toString(36)}function me(N,$,he,ge,_e){var ve=typeof N;(ve==="undefined"||ve==="boolean")&&(N=null);var Ee=!1;if(N===null)Ee=!0;else switch(ve){case"string":case"number":Ee=!0;break;case"object":switch(N.$$typeof){case n:case e:Ee=!0}}if(Ee)return Ee=N,_e=_e(Ee),N=ge===""?"."+le(Ee,0):ge,R(_e)?(he="",N!=null&&(he=N.replace(ne,"$&/")+"/"),me(_e,$,he,"",function(Ye){return Ye})):_e!=null&&(B(_e)&&(_e=D(_e,he+(!_e.key||Ee&&Ee.key===_e.key?"":(""+_e.key).replace(ne,"$&/")+"/")+N)),$.push(_e)),1;if(Ee=0,ge=ge===""?".":ge+":",R(N))for(var ke=0;ke<N.length;ke++){ve=N[ke];var Te=ge+le(ve,ke);Ee+=me(ve,$,he,Te,_e)}else if(Te=y(N),typeof Te=="function")for(N=Te.call(N),ke=0;!(ve=N.next()).done;)ve=ve.value,Te=ge+le(ve,ke++),Ee+=me(ve,$,he,Te,_e);else if(ve==="object")throw $=String(N),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return Ee}function Fe(N,$,he){if(N==null)return N;var ge=[],_e=0;return me(N,ge,"","",function(ve){return $.call(he,ve,_e++)}),ge}function xe(N){if(N._status===-1){var $=N._result;$=$(),$.then(function(he){(N._status===0||N._status===-1)&&(N._status=1,N._result=he)},function(he){(N._status===0||N._status===-1)&&(N._status=2,N._result=he)}),N._status===-1&&(N._status=0,N._result=$)}if(N._status===1)return N._result.default;throw N._result}var be={current:null},G={transition:null},se={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:G,ReactCurrentOwner:F};function Y(){throw Error("act(...) is not supported in production builds of React.")}return we.Children={map:Fe,forEach:function(N,$,he){Fe(N,function(){$.apply(this,arguments)},he)},count:function(N){var $=0;return Fe(N,function(){$++}),$},toArray:function(N){return Fe(N,function($){return $})||[]},only:function(N){if(!B(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},we.Component=E,we.Fragment=r,we.Profiler=o,we.PureComponent=T,we.StrictMode=i,we.Suspense=h,we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,we.act=Y,we.cloneElement=function(N,$,he){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var ge=_({},N.props),_e=N.key,ve=N.ref,Ee=N._owner;if($!=null){if($.ref!==void 0&&(ve=$.ref,Ee=F.current),$.key!==void 0&&(_e=""+$.key),N.type&&N.type.defaultProps)var ke=N.type.defaultProps;for(Te in $)q.call($,Te)&&!C.hasOwnProperty(Te)&&(ge[Te]=$[Te]===void 0&&ke!==void 0?ke[Te]:$[Te])}var Te=arguments.length-2;if(Te===1)ge.children=he;else if(1<Te){ke=Array(Te);for(var Ye=0;Ye<Te;Ye++)ke[Ye]=arguments[Ye+2];ge.children=ke}return{$$typeof:n,type:N.type,key:_e,ref:ve,props:ge,_owner:Ee}},we.createContext=function(N){return N={$$typeof:u,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:l,_context:N},N.Consumer=N},we.createElement=A,we.createFactory=function(N){var $=A.bind(null,N);return $.type=N,$},we.createRef=function(){return{current:null}},we.forwardRef=function(N){return{$$typeof:d,render:N}},we.isValidElement=B,we.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:xe}},we.memo=function(N,$){return{$$typeof:m,type:N,compare:$===void 0?null:$}},we.startTransition=function(N){var $=G.transition;G.transition={};try{N()}finally{G.transition=$}},we.unstable_act=Y,we.useCallback=function(N,$){return be.current.useCallback(N,$)},we.useContext=function(N){return be.current.useContext(N)},we.useDebugValue=function(){},we.useDeferredValue=function(N){return be.current.useDeferredValue(N)},we.useEffect=function(N,$){return be.current.useEffect(N,$)},we.useId=function(){return be.current.useId()},we.useImperativeHandle=function(N,$,he){return be.current.useImperativeHandle(N,$,he)},we.useInsertionEffect=function(N,$){return be.current.useInsertionEffect(N,$)},we.useLayoutEffect=function(N,$){return be.current.useLayoutEffect(N,$)},we.useMemo=function(N,$){return be.current.useMemo(N,$)},we.useReducer=function(N,$,he){return be.current.useReducer(N,$,he)},we.useRef=function(N){return be.current.useRef(N)},we.useState=function(N){return be.current.useState(N)},we.useSyncExternalStore=function(N,$,he){return be.current.useSyncExternalStore(N,$,he)},we.useTransition=function(){return be.current.useTransition()},we.version="18.3.1",we}var cp;function Dc(){return cp||(cp=1,Ou.exports=Cx()),Ou.exports}var dp;function Tx(){if(dp)return ai;dp=1;var n=Dc(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(d,h,m){var v,x={},y=null,w=null;m!==void 0&&(y=""+m),h.key!==void 0&&(y=""+h.key),h.ref!==void 0&&(w=h.ref);for(v in h)i.call(h,v)&&!l.hasOwnProperty(v)&&(x[v]=h[v]);if(d&&d.defaultProps)for(v in h=d.defaultProps,h)x[v]===void 0&&(x[v]=h[v]);return{$$typeof:e,type:d,key:y,ref:w,props:x,_owner:o.current}}return ai.Fragment=r,ai.jsx=u,ai.jsxs=u,ai}var hp;function Px(){return hp||(hp=1,Nu.exports=Tx()),Nu.exports}var f=Px(),z=Dc();const ja=zc(z);var Ko={},Au={exports:{}},Tt={},Ru={exports:{}},Iu={};var fp;function Nx(){return fp||(fp=1,(function(n){function e(G,se){var Y=G.length;G.push(se);e:for(;0<Y;){var N=Y-1>>>1,$=G[N];if(0<o($,se))G[N]=se,G[Y]=$,Y=N;else break e}}function r(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var se=G[0],Y=G.pop();if(Y!==se){G[0]=Y;e:for(var N=0,$=G.length,he=$>>>1;N<he;){var ge=2*(N+1)-1,_e=G[ge],ve=ge+1,Ee=G[ve];if(0>o(_e,Y))ve<$&&0>o(Ee,_e)?(G[N]=Ee,G[ve]=Y,N=ve):(G[N]=_e,G[ge]=Y,N=ge);else if(ve<$&&0>o(Ee,Y))G[N]=Ee,G[ve]=Y,N=ve;else break e}}return se}function o(G,se){var Y=G.sortIndex-se.sortIndex;return Y!==0?Y:G.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var h=[],m=[],v=1,x=null,y=3,w=!1,_=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(G){for(var se=r(m);se!==null;){if(se.callback===null)i(m);else if(se.startTime<=G)i(m),se.sortIndex=se.expirationTime,e(h,se);else break;se=r(m)}}function R(G){if(S=!1,j(G),!_)if(r(h)!==null)_=!0,xe(q);else{var se=r(m);se!==null&&be(R,se.startTime-G)}}function q(G,se){_=!1,S&&(S=!1,M(A),A=-1),w=!0;var Y=y;try{for(j(se),x=r(h);x!==null&&(!(x.expirationTime>se)||G&&!J());){var N=x.callback;if(typeof N=="function"){x.callback=null,y=x.priorityLevel;var $=N(x.expirationTime<=se);se=n.unstable_now(),typeof $=="function"?x.callback=$:x===r(h)&&i(h),j(se)}else i(h);x=r(h)}if(x!==null)var he=!0;else{var ge=r(m);ge!==null&&be(R,ge.startTime-se),he=!1}return he}finally{x=null,y=Y,w=!1}}var F=!1,C=null,A=-1,D=5,B=-1;function J(){return!(n.unstable_now()-B<D)}function ne(){if(C!==null){var G=n.unstable_now();B=G;var se=!0;try{se=C(!0,G)}finally{se?le():(F=!1,C=null)}}else F=!1}var le;if(typeof T=="function")le=function(){T(ne)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,Fe=me.port2;me.port1.onmessage=ne,le=function(){Fe.postMessage(null)}}else le=function(){E(ne,0)};function xe(G){C=G,F||(F=!0,le())}function be(G,se){A=E(function(){G(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){_||w||(_=!0,xe(q))},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return r(h)},n.unstable_next=function(G){switch(y){case 1:case 2:case 3:var se=3;break;default:se=y}var Y=y;y=se;try{return G()}finally{y=Y}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(G,se){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var Y=y;y=G;try{return se()}finally{y=Y}},n.unstable_scheduleCallback=function(G,se,Y){var N=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?N+Y:N):Y=N,G){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=Y+$,G={id:v++,callback:se,priorityLevel:G,startTime:Y,expirationTime:$,sortIndex:-1},Y>N?(G.sortIndex=Y,e(m,G),r(h)===null&&G===r(m)&&(S?(M(A),A=-1):S=!0,be(R,Y-N))):(G.sortIndex=$,e(h,G),_||w||(_=!0,xe(q))),G},n.unstable_shouldYield=J,n.unstable_wrapCallback=function(G){var se=y;return function(){var Y=y;y=se;try{return G.apply(this,arguments)}finally{y=Y}}}})(Iu)),Iu}var pp;function Ox(){return pp||(pp=1,Ru.exports=Nx()),Ru.exports}var mp;function Ax(){if(mp)return Tt;mp=1;var n=Dc(),e=Ox();function r(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(t,s){u(t,s),u(t+"Capture",s)}function u(t,s){for(o[t]=s,t=0;t<s.length;t++)i.add(s[t])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},x={};function y(t){return h.call(x,t)?!0:h.call(v,t)?!1:m.test(t)?x[t]=!0:(v[t]=!0,!1)}function w(t,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _(t,s,a,c){if(s===null||typeof s>"u"||w(t,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function S(t,s,a,c,p,g,b){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=p,this.mustUseProperty=a,this.propertyName=t,this.type=s,this.sanitizeURL=g,this.removeEmptyString=b}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){E[t]=new S(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];E[s]=new S(s,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){E[t]=new S(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){E[t]=new S(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){E[t]=new S(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){E[t]=new S(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){E[t]=new S(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){E[t]=new S(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){E[t]=new S(t,5,!1,t.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function T(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(M,T);E[s]=new S(s,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(M,T);E[s]=new S(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(M,T);E[s]=new S(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){E[t]=new S(t,1,!1,t.toLowerCase(),null,!1,!1)}),E.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){E[t]=new S(t,1,!1,t.toLowerCase(),null,!0,!0)});function j(t,s,a,c){var p=E.hasOwnProperty(s)?E[s]:null;(p!==null?p.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(_(s,a,p,c)&&(a=null),c||p===null?y(s)&&(a===null?t.removeAttribute(s):t.setAttribute(s,""+a)):p.mustUseProperty?t[p.propertyName]=a===null?p.type===3?!1:"":a:(s=p.attributeName,c=p.attributeNamespace,a===null?t.removeAttribute(s):(p=p.type,a=p===3||p===4&&a===!0?"":""+a,c?t.setAttributeNS(c,s,a):t.setAttribute(s,a))))}var R=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),F=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),J=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),Fe=Symbol.for("react.memo"),xe=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),G=Symbol.iterator;function se(t){return t===null||typeof t!="object"?null:(t=G&&t[G]||t["@@iterator"],typeof t=="function"?t:null)}var Y=Object.assign,N;function $(t){if(N===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);N=s&&s[1]||""}return`
`+N+t}var he=!1;function ge(t,s){if(!t||he)return"";he=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(V){var c=V}Reflect.construct(t,[],s)}else{try{s.call()}catch(V){c=V}t.call(s.prototype)}else{try{throw Error()}catch(V){c=V}t()}}catch(V){if(V&&c&&typeof V.stack=="string"){for(var p=V.stack.split(`
`),g=c.stack.split(`
`),b=p.length-1,k=g.length-1;1<=b&&0<=k&&p[b]!==g[k];)k--;for(;1<=b&&0<=k;b--,k--)if(p[b]!==g[k]){if(b!==1||k!==1)do if(b--,k--,0>k||p[b]!==g[k]){var P=`
`+p[b].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=b&&0<=k);break}}}finally{he=!1,Error.prepareStackTrace=a}return(t=t?t.displayName||t.name:"")?$(t):""}function _e(t){switch(t.tag){case 5:return $(t.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return t=ge(t.type,!1),t;case 11:return t=ge(t.type.render,!1),t;case 1:return t=ge(t.type,!0),t;default:return""}}function ve(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case C:return"Fragment";case F:return"Portal";case D:return"Profiler";case A:return"StrictMode";case le:return"Suspense";case me:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case J:return(t.displayName||"Context")+".Consumer";case B:return(t._context.displayName||"Context")+".Provider";case ne:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Fe:return s=t.displayName||null,s!==null?s:ve(t.type)||"Memo";case xe:s=t._payload,t=t._init;try{return ve(t(s))}catch{}}return null}function Ee(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(s);case 8:return s===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ke(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Te(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ye(t){var s=Te(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),c=""+t[s];if(!t.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,g=a.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return p.call(this)},set:function(b){c=""+b,g.call(this,b)}}),Object.defineProperty(t,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(b){c=""+b},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function _t(t){t._valueTracker||(t._valueTracker=Ye(t))}function pe(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return t&&(c=Te(t)?t.checked?"true":"false":t.value),t=c,t!==a?(s.setValue(t),!0):!1}function Se(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function He(t,s){var a=s.checked;return Y({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??t._wrapperState.initialChecked})}function Ne(t,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=ke(s.value!=null?s.value:a),t._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ot(t,s){s=s.checked,s!=null&&j(t,"checked",s,!1)}function De(t,s){ot(t,s);var a=ke(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+a):t.value!==""+a&&(t.value=""+a);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?ct(t,s.type,a):s.hasOwnProperty("defaultValue")&&ct(t,s.type,ke(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function Pt(t,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,a||s===t.value||(t.value=s),t.defaultValue=s}a=t.name,a!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,a!==""&&(t.name=a)}function ct(t,s,a){(s!=="number"||Se(t.ownerDocument)!==t)&&(a==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+a&&(t.defaultValue=""+a))}var En=Array.isArray;function Rr(t,s,a,c){if(t=t.options,s){s={};for(var p=0;p<a.length;p++)s["$"+a[p]]=!0;for(a=0;a<t.length;a++)p=s.hasOwnProperty("$"+t[a].value),t[a].selected!==p&&(t[a].selected=p),p&&c&&(t[a].defaultSelected=!0)}else{for(a=""+ke(a),s=null,p=0;p<t.length;p++){if(t[p].value===a){t[p].selected=!0,c&&(t[p].defaultSelected=!0);return}s!==null||t[p].disabled||(s=t[p])}s!==null&&(s.selected=!0)}}function Ba(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(r(91));return Y({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function yd(t,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(r(92));if(En(a)){if(1<a.length)throw Error(r(93));a=a[0]}s=a}s==null&&(s=""),a=s}t._wrapperState={initialValue:ke(a)}}function xd(t,s){var a=ke(s.value),c=ke(s.defaultValue);a!=null&&(a=""+a,a!==t.value&&(t.value=a),s.defaultValue==null&&t.defaultValue!==a&&(t.defaultValue=a)),c!=null&&(t.defaultValue=""+c)}function wd(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function bd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $a(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?bd(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Mi,_d=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,p){MSApp.execUnsafeLocalFunction(function(){return t(s,a,c,p)})}:t})(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(Mi=Mi||document.createElement("div"),Mi.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Mi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function ks(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var Ss={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pv=["Webkit","ms","Moz","O"];Object.keys(Ss).forEach(function(t){Pv.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),Ss[s]=Ss[t]})});function kd(t,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Ss.hasOwnProperty(t)&&Ss[t]?(""+s).trim():s+"px"}function Sd(t,s){t=t.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,p=kd(a,s[a],c);a==="float"&&(a="cssFloat"),c?t.setProperty(a,p):t[a]=p}}var Nv=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fa(t,s){if(s){if(Nv[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(r(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(r(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(r(61))}if(s.style!=null&&typeof s.style!="object")throw Error(r(62))}}function Ua(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wa=null;function Ha(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qa=null,Ir=null,Lr=null;function jd(t){if(t=qs(t)){if(typeof qa!="function")throw Error(r(280));var s=t.stateNode;s&&(s=ao(s),qa(t.stateNode,t.type,s))}}function Ed(t){Ir?Lr?Lr.push(t):Lr=[t]:Ir=t}function Cd(){if(Ir){var t=Ir,s=Lr;if(Lr=Ir=null,jd(t),s)for(t=0;t<s.length;t++)jd(s[t])}}function Td(t,s){return t(s)}function Pd(){}var Ka=!1;function Nd(t,s,a){if(Ka)return t(s,a);Ka=!0;try{return Td(t,s,a)}finally{Ka=!1,(Ir!==null||Lr!==null)&&(Pd(),Cd())}}function js(t,s){var a=t.stateNode;if(a===null)return null;var c=ao(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Ga=!1;if(d)try{var Es={};Object.defineProperty(Es,"passive",{get:function(){Ga=!0}}),window.addEventListener("test",Es,Es),window.removeEventListener("test",Es,Es)}catch{Ga=!1}function Ov(t,s,a,c,p,g,b,k,P){var V=Array.prototype.slice.call(arguments,3);try{s.apply(a,V)}catch(W){this.onError(W)}}var Cs=!1,Vi=null,Bi=!1,Ja=null,Av={onError:function(t){Cs=!0,Vi=t}};function Rv(t,s,a,c,p,g,b,k,P){Cs=!1,Vi=null,Ov.apply(Av,arguments)}function Iv(t,s,a,c,p,g,b,k,P){if(Rv.apply(this,arguments),Cs){if(Cs){var V=Vi;Cs=!1,Vi=null}else throw Error(r(198));Bi||(Bi=!0,Ja=V)}}function nr(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function Od(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function Ad(t){if(nr(t)!==t)throw Error(r(188))}function Lv(t){var s=t.alternate;if(!s){if(s=nr(t),s===null)throw Error(r(188));return s!==t?null:t}for(var a=t,c=s;;){var p=a.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){a=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===a)return Ad(p),t;if(g===c)return Ad(p),s;g=g.sibling}throw Error(r(188))}if(a.return!==c.return)a=p,c=g;else{for(var b=!1,k=p.child;k;){if(k===a){b=!0,a=p,c=g;break}if(k===c){b=!0,c=p,a=g;break}k=k.sibling}if(!b){for(k=g.child;k;){if(k===a){b=!0,a=g,c=p;break}if(k===c){b=!0,c=g,a=p;break}k=k.sibling}if(!b)throw Error(r(189))}}if(a.alternate!==c)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:s}function Rd(t){return t=Lv(t),t!==null?Id(t):null}function Id(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=Id(t);if(s!==null)return s;t=t.sibling}return null}var Ld=e.unstable_scheduleCallback,zd=e.unstable_cancelCallback,zv=e.unstable_shouldYield,Dv=e.unstable_requestPaint,qe=e.unstable_now,Mv=e.unstable_getCurrentPriorityLevel,Ya=e.unstable_ImmediatePriority,Dd=e.unstable_UserBlockingPriority,$i=e.unstable_NormalPriority,Vv=e.unstable_LowPriority,Md=e.unstable_IdlePriority,Fi=null,sn=null;function Bv(t){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(Fi,t,void 0,(t.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:Uv,$v=Math.log,Fv=Math.LN2;function Uv(t){return t>>>=0,t===0?32:31-($v(t)/Fv|0)|0}var Ui=64,Wi=4194304;function Ts(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Hi(t,s){var a=t.pendingLanes;if(a===0)return 0;var c=0,p=t.suspendedLanes,g=t.pingedLanes,b=a&268435455;if(b!==0){var k=b&~p;k!==0?c=Ts(k):(g&=b,g!==0&&(c=Ts(g)))}else b=a&~p,b!==0?c=Ts(b):g!==0&&(c=Ts(g));if(c===0)return 0;if(s!==0&&s!==c&&(s&p)===0&&(p=c&-c,g=s&-s,p>=g||p===16&&(g&4194240)!==0))return s;if((c&4)!==0&&(c|=a&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=c;0<s;)a=31-Kt(s),p=1<<a,c|=t[a],s&=~p;return c}function Wv(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hv(t,s){for(var a=t.suspendedLanes,c=t.pingedLanes,p=t.expirationTimes,g=t.pendingLanes;0<g;){var b=31-Kt(g),k=1<<b,P=p[b];P===-1?((k&a)===0||(k&c)!==0)&&(p[b]=Wv(k,s)):P<=s&&(t.expiredLanes|=k),g&=~k}}function Qa(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Vd(){var t=Ui;return Ui<<=1,(Ui&4194240)===0&&(Ui=64),t}function Xa(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function Ps(t,s,a){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-Kt(s),t[s]=a}function qv(t,s){var a=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<a;){var p=31-Kt(a),g=1<<p;s[p]=0,c[p]=-1,t[p]=-1,a&=~g}}function Za(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var c=31-Kt(a),p=1<<c;p&s|t[c]&s&&(t[c]|=s),a&=~p}}var Pe=0;function Bd(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var $d,el,Fd,Ud,Wd,tl=!1,qi=[],Cn=null,Tn=null,Pn=null,Ns=new Map,Os=new Map,Nn=[],Kv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hd(t,s){switch(t){case"focusin":case"focusout":Cn=null;break;case"dragenter":case"dragleave":Tn=null;break;case"mouseover":case"mouseout":Pn=null;break;case"pointerover":case"pointerout":Ns.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Os.delete(s.pointerId)}}function As(t,s,a,c,p,g){return t===null||t.nativeEvent!==g?(t={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},s!==null&&(s=qs(s),s!==null&&el(s)),t):(t.eventSystemFlags|=c,s=t.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),t)}function Gv(t,s,a,c,p){switch(s){case"focusin":return Cn=As(Cn,t,s,a,c,p),!0;case"dragenter":return Tn=As(Tn,t,s,a,c,p),!0;case"mouseover":return Pn=As(Pn,t,s,a,c,p),!0;case"pointerover":var g=p.pointerId;return Ns.set(g,As(Ns.get(g)||null,t,s,a,c,p)),!0;case"gotpointercapture":return g=p.pointerId,Os.set(g,As(Os.get(g)||null,t,s,a,c,p)),!0}return!1}function qd(t){var s=rr(t.target);if(s!==null){var a=nr(s);if(a!==null){if(s=a.tag,s===13){if(s=Od(a),s!==null){t.blockedOn=s,Wd(t.priority,function(){Fd(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ki(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=rl(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(a===null){a=t.nativeEvent;var c=new a.constructor(a.type,a);Wa=c,a.target.dispatchEvent(c),Wa=null}else return s=qs(a),s!==null&&el(s),t.blockedOn=a,!1;s.shift()}return!0}function Kd(t,s,a){Ki(t)&&a.delete(s)}function Jv(){tl=!1,Cn!==null&&Ki(Cn)&&(Cn=null),Tn!==null&&Ki(Tn)&&(Tn=null),Pn!==null&&Ki(Pn)&&(Pn=null),Ns.forEach(Kd),Os.forEach(Kd)}function Rs(t,s){t.blockedOn===s&&(t.blockedOn=null,tl||(tl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Jv)))}function Is(t){function s(p){return Rs(p,t)}if(0<qi.length){Rs(qi[0],t);for(var a=1;a<qi.length;a++){var c=qi[a];c.blockedOn===t&&(c.blockedOn=null)}}for(Cn!==null&&Rs(Cn,t),Tn!==null&&Rs(Tn,t),Pn!==null&&Rs(Pn,t),Ns.forEach(s),Os.forEach(s),a=0;a<Nn.length;a++)c=Nn[a],c.blockedOn===t&&(c.blockedOn=null);for(;0<Nn.length&&(a=Nn[0],a.blockedOn===null);)qd(a),a.blockedOn===null&&Nn.shift()}var zr=R.ReactCurrentBatchConfig,Gi=!0;function Yv(t,s,a,c){var p=Pe,g=zr.transition;zr.transition=null;try{Pe=1,nl(t,s,a,c)}finally{Pe=p,zr.transition=g}}function Qv(t,s,a,c){var p=Pe,g=zr.transition;zr.transition=null;try{Pe=4,nl(t,s,a,c)}finally{Pe=p,zr.transition=g}}function nl(t,s,a,c){if(Gi){var p=rl(t,s,a,c);if(p===null)wl(t,s,c,Ji,a),Hd(t,c);else if(Gv(p,t,s,a,c))c.stopPropagation();else if(Hd(t,c),s&4&&-1<Kv.indexOf(t)){for(;p!==null;){var g=qs(p);if(g!==null&&$d(g),g=rl(t,s,a,c),g===null&&wl(t,s,c,Ji,a),g===p)break;p=g}p!==null&&c.stopPropagation()}else wl(t,s,c,null,a)}}var Ji=null;function rl(t,s,a,c){if(Ji=null,t=Ha(c),t=rr(t),t!==null)if(s=nr(t),s===null)t=null;else if(a=s.tag,a===13){if(t=Od(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return Ji=t,null}function Gd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mv()){case Ya:return 1;case Dd:return 4;case $i:case Vv:return 16;case Md:return 536870912;default:return 16}default:return 16}}var On=null,sl=null,Yi=null;function Jd(){if(Yi)return Yi;var t,s=sl,a=s.length,c,p="value"in On?On.value:On.textContent,g=p.length;for(t=0;t<a&&s[t]===p[t];t++);var b=a-t;for(c=1;c<=b&&s[a-c]===p[g-c];c++);return Yi=p.slice(t,1<c?1-c:void 0)}function Qi(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Xi(){return!0}function Yd(){return!1}function Nt(t){function s(a,c,p,g,b){this._reactName=a,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var k in t)t.hasOwnProperty(k)&&(a=t[k],this[k]=a?a(g):g[k]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Xi:Yd,this.isPropagationStopped=Yd,this}return Y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),s}var Dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},il=Nt(Dr),Ls=Y({},Dr,{view:0,detail:0}),Xv=Nt(Ls),ol,al,zs,Zi=Y({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ul,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zs&&(zs&&t.type==="mousemove"?(ol=t.screenX-zs.screenX,al=t.screenY-zs.screenY):al=ol=0,zs=t),ol)},movementY:function(t){return"movementY"in t?t.movementY:al}}),Qd=Nt(Zi),Zv=Y({},Zi,{dataTransfer:0}),ey=Nt(Zv),ty=Y({},Ls,{relatedTarget:0}),ll=Nt(ty),ny=Y({},Dr,{animationName:0,elapsedTime:0,pseudoElement:0}),ry=Nt(ny),sy=Y({},Dr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),iy=Nt(sy),oy=Y({},Dr,{data:0}),Xd=Nt(oy),ay={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ly={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cy(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=uy[t])?!!s[t]:!1}function ul(){return cy}var dy=Y({},Ls,{key:function(t){if(t.key){var s=ay[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Qi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ly[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ul,charCode:function(t){return t.type==="keypress"?Qi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hy=Nt(dy),fy=Y({},Zi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zd=Nt(fy),py=Y({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ul}),my=Nt(py),gy=Y({},Dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),vy=Nt(gy),yy=Y({},Zi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xy=Nt(yy),wy=[9,13,27,32],cl=d&&"CompositionEvent"in window,Ds=null;d&&"documentMode"in document&&(Ds=document.documentMode);var by=d&&"TextEvent"in window&&!Ds,eh=d&&(!cl||Ds&&8<Ds&&11>=Ds),th=" ",nh=!1;function rh(t,s){switch(t){case"keyup":return wy.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mr=!1;function _y(t,s){switch(t){case"compositionend":return sh(s);case"keypress":return s.which!==32?null:(nh=!0,th);case"textInput":return t=s.data,t===th&&nh?null:t;default:return null}}function ky(t,s){if(Mr)return t==="compositionend"||!cl&&rh(t,s)?(t=Jd(),Yi=sl=On=null,Mr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return eh&&s.locale!=="ko"?null:s.data;default:return null}}var Sy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ih(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Sy[t.type]:s==="textarea"}function oh(t,s,a,c){Ed(c),s=so(s,"onChange"),0<s.length&&(a=new il("onChange","change",null,a,c),t.push({event:a,listeners:s}))}var Ms=null,Vs=null;function jy(t){Sh(t,0)}function eo(t){var s=Ur(t);if(pe(s))return t}function Ey(t,s){if(t==="change")return s}var ah=!1;if(d){var dl;if(d){var hl="oninput"in document;if(!hl){var lh=document.createElement("div");lh.setAttribute("oninput","return;"),hl=typeof lh.oninput=="function"}dl=hl}else dl=!1;ah=dl&&(!document.documentMode||9<document.documentMode)}function uh(){Ms&&(Ms.detachEvent("onpropertychange",ch),Vs=Ms=null)}function ch(t){if(t.propertyName==="value"&&eo(Vs)){var s=[];oh(s,Vs,t,Ha(t)),Nd(jy,s)}}function Cy(t,s,a){t==="focusin"?(uh(),Ms=s,Vs=a,Ms.attachEvent("onpropertychange",ch)):t==="focusout"&&uh()}function Ty(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return eo(Vs)}function Py(t,s){if(t==="click")return eo(s)}function Ny(t,s){if(t==="input"||t==="change")return eo(s)}function Oy(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Gt=typeof Object.is=="function"?Object.is:Oy;function Bs(t,s){if(Gt(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var p=a[c];if(!h.call(s,p)||!Gt(t[p],s[p]))return!1}return!0}function dh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hh(t,s){var a=dh(t);t=0;for(var c;a;){if(a.nodeType===3){if(c=t+a.textContent.length,t<=s&&c>=s)return{node:a,offset:s-t};t=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=dh(a)}}function fh(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?fh(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function ph(){for(var t=window,s=Se();s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=Se(t.document)}return s}function fl(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function Ay(t){var s=ph(),a=t.focusedElem,c=t.selectionRange;if(s!==a&&a&&a.ownerDocument&&fh(a.ownerDocument.documentElement,a)){if(c!==null&&fl(a)){if(s=c.start,t=c.end,t===void 0&&(t=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(t,a.value.length);else if(t=(s=a.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var p=a.textContent.length,g=Math.min(c.start,p);c=c.end===void 0?g:Math.min(c.end,p),!t.extend&&g>c&&(p=c,c=g,g=p),p=hh(a,g);var b=hh(a,c);p&&b&&(t.rangeCount!==1||t.anchorNode!==p.node||t.anchorOffset!==p.offset||t.focusNode!==b.node||t.focusOffset!==b.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),t.removeAllRanges(),g>c?(t.addRange(s),t.extend(b.node,b.offset)):(s.setEnd(b.node,b.offset),t.addRange(s)))}}for(s=[],t=a;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)t=s[a],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ry=d&&"documentMode"in document&&11>=document.documentMode,Vr=null,pl=null,$s=null,ml=!1;function mh(t,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ml||Vr==null||Vr!==Se(c)||(c=Vr,"selectionStart"in c&&fl(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),$s&&Bs($s,c)||($s=c,c=so(pl,"onSelect"),0<c.length&&(s=new il("onSelect","select",null,s,a),t.push({event:s,listeners:c}),s.target=Vr)))}function to(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Br={animationend:to("Animation","AnimationEnd"),animationiteration:to("Animation","AnimationIteration"),animationstart:to("Animation","AnimationStart"),transitionend:to("Transition","TransitionEnd")},gl={},gh={};d&&(gh=document.createElement("div").style,"AnimationEvent"in window||(delete Br.animationend.animation,delete Br.animationiteration.animation,delete Br.animationstart.animation),"TransitionEvent"in window||delete Br.transitionend.transition);function no(t){if(gl[t])return gl[t];if(!Br[t])return t;var s=Br[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in gh)return gl[t]=s[a];return t}var vh=no("animationend"),yh=no("animationiteration"),xh=no("animationstart"),wh=no("transitionend"),bh=new Map,_h="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function An(t,s){bh.set(t,s),l(s,[t])}for(var vl=0;vl<_h.length;vl++){var yl=_h[vl],Iy=yl.toLowerCase(),Ly=yl[0].toUpperCase()+yl.slice(1);An(Iy,"on"+Ly)}An(vh,"onAnimationEnd"),An(yh,"onAnimationIteration"),An(xh,"onAnimationStart"),An("dblclick","onDoubleClick"),An("focusin","onFocus"),An("focusout","onBlur"),An(wh,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fs));function kh(t,s,a){var c=t.type||"unknown-event";t.currentTarget=a,Iv(c,s,void 0,t),t.currentTarget=null}function Sh(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var c=t[a],p=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var b=c.length-1;0<=b;b--){var k=c[b],P=k.instance,V=k.currentTarget;if(k=k.listener,P!==g&&p.isPropagationStopped())break e;kh(p,k,V),g=P}else for(b=0;b<c.length;b++){if(k=c[b],P=k.instance,V=k.currentTarget,k=k.listener,P!==g&&p.isPropagationStopped())break e;kh(p,k,V),g=P}}}if(Bi)throw t=Ja,Bi=!1,Ja=null,t}function Ie(t,s){var a=s[El];a===void 0&&(a=s[El]=new Set);var c=t+"__bubble";a.has(c)||(jh(s,t,2,!1),a.add(c))}function xl(t,s,a){var c=0;s&&(c|=4),jh(a,t,c,s)}var ro="_reactListening"+Math.random().toString(36).slice(2);function Us(t){if(!t[ro]){t[ro]=!0,i.forEach(function(a){a!=="selectionchange"&&(zy.has(a)||xl(a,!1,t),xl(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[ro]||(s[ro]=!0,xl("selectionchange",!1,s))}}function jh(t,s,a,c){switch(Gd(s)){case 1:var p=Yv;break;case 4:p=Qv;break;default:p=nl}a=p.bind(null,s,a,t),p=void 0,!Ga||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),c?p!==void 0?t.addEventListener(s,a,{capture:!0,passive:p}):t.addEventListener(s,a,!0):p!==void 0?t.addEventListener(s,a,{passive:p}):t.addEventListener(s,a,!1)}function wl(t,s,a,c,p){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var k=c.stateNode.containerInfo;if(k===p||k.nodeType===8&&k.parentNode===p)break;if(b===4)for(b=c.return;b!==null;){var P=b.tag;if((P===3||P===4)&&(P=b.stateNode.containerInfo,P===p||P.nodeType===8&&P.parentNode===p))return;b=b.return}for(;k!==null;){if(b=rr(k),b===null)return;if(P=b.tag,P===5||P===6){c=g=b;continue e}k=k.parentNode}}c=c.return}Nd(function(){var V=g,W=Ha(a),H=[];e:{var U=bh.get(t);if(U!==void 0){var Q=il,ee=t;switch(t){case"keypress":if(Qi(a)===0)break e;case"keydown":case"keyup":Q=hy;break;case"focusin":ee="focus",Q=ll;break;case"focusout":ee="blur",Q=ll;break;case"beforeblur":case"afterblur":Q=ll;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Qd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=ey;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=my;break;case vh:case yh:case xh:Q=ry;break;case wh:Q=vy;break;case"scroll":Q=Xv;break;case"wheel":Q=xy;break;case"copy":case"cut":case"paste":Q=iy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Zd}var te=(s&4)!==0,Ke=!te&&t==="scroll",I=te?U!==null?U+"Capture":null:U;te=[];for(var O=V,L;O!==null;){L=O;var K=L.stateNode;if(L.tag===5&&K!==null&&(L=K,I!==null&&(K=js(O,I),K!=null&&te.push(Ws(O,K,L)))),Ke)break;O=O.return}0<te.length&&(U=new Q(U,ee,null,a,W),H.push({event:U,listeners:te}))}}if((s&7)===0){e:{if(U=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",U&&a!==Wa&&(ee=a.relatedTarget||a.fromElement)&&(rr(ee)||ee[hn]))break e;if((Q||U)&&(U=W.window===W?W:(U=W.ownerDocument)?U.defaultView||U.parentWindow:window,Q?(ee=a.relatedTarget||a.toElement,Q=V,ee=ee?rr(ee):null,ee!==null&&(Ke=nr(ee),ee!==Ke||ee.tag!==5&&ee.tag!==6)&&(ee=null)):(Q=null,ee=V),Q!==ee)){if(te=Qd,K="onMouseLeave",I="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(te=Zd,K="onPointerLeave",I="onPointerEnter",O="pointer"),Ke=Q==null?U:Ur(Q),L=ee==null?U:Ur(ee),U=new te(K,O+"leave",Q,a,W),U.target=Ke,U.relatedTarget=L,K=null,rr(W)===V&&(te=new te(I,O+"enter",ee,a,W),te.target=L,te.relatedTarget=Ke,K=te),Ke=K,Q&&ee)t:{for(te=Q,I=ee,O=0,L=te;L;L=$r(L))O++;for(L=0,K=I;K;K=$r(K))L++;for(;0<O-L;)te=$r(te),O--;for(;0<L-O;)I=$r(I),L--;for(;O--;){if(te===I||I!==null&&te===I.alternate)break t;te=$r(te),I=$r(I)}te=null}else te=null;Q!==null&&Eh(H,U,Q,te,!1),ee!==null&&Ke!==null&&Eh(H,Ke,ee,te,!0)}}e:{if(U=V?Ur(V):window,Q=U.nodeName&&U.nodeName.toLowerCase(),Q==="select"||Q==="input"&&U.type==="file")var re=Ey;else if(ih(U))if(ah)re=Ny;else{re=Ty;var oe=Cy}else(Q=U.nodeName)&&Q.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(re=Py);if(re&&(re=re(t,V))){oh(H,re,a,W);break e}oe&&oe(t,U,V),t==="focusout"&&(oe=U._wrapperState)&&oe.controlled&&U.type==="number"&&ct(U,"number",U.value)}switch(oe=V?Ur(V):window,t){case"focusin":(ih(oe)||oe.contentEditable==="true")&&(Vr=oe,pl=V,$s=null);break;case"focusout":$s=pl=Vr=null;break;case"mousedown":ml=!0;break;case"contextmenu":case"mouseup":case"dragend":ml=!1,mh(H,a,W);break;case"selectionchange":if(Ry)break;case"keydown":case"keyup":mh(H,a,W)}var ae;if(cl)e:{switch(t){case"compositionstart":var de="onCompositionStart";break e;case"compositionend":de="onCompositionEnd";break e;case"compositionupdate":de="onCompositionUpdate";break e}de=void 0}else Mr?rh(t,a)&&(de="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(de="onCompositionStart");de&&(eh&&a.locale!=="ko"&&(Mr||de!=="onCompositionStart"?de==="onCompositionEnd"&&Mr&&(ae=Jd()):(On=W,sl="value"in On?On.value:On.textContent,Mr=!0)),oe=so(V,de),0<oe.length&&(de=new Xd(de,t,null,a,W),H.push({event:de,listeners:oe}),ae?de.data=ae:(ae=sh(a),ae!==null&&(de.data=ae)))),(ae=by?_y(t,a):ky(t,a))&&(V=so(V,"onBeforeInput"),0<V.length&&(W=new Xd("onBeforeInput","beforeinput",null,a,W),H.push({event:W,listeners:V}),W.data=ae))}Sh(H,s)})}function Ws(t,s,a){return{instance:t,listener:s,currentTarget:a}}function so(t,s){for(var a=s+"Capture",c=[];t!==null;){var p=t,g=p.stateNode;p.tag===5&&g!==null&&(p=g,g=js(t,a),g!=null&&c.unshift(Ws(t,g,p)),g=js(t,s),g!=null&&c.push(Ws(t,g,p))),t=t.return}return c}function $r(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Eh(t,s,a,c,p){for(var g=s._reactName,b=[];a!==null&&a!==c;){var k=a,P=k.alternate,V=k.stateNode;if(P!==null&&P===c)break;k.tag===5&&V!==null&&(k=V,p?(P=js(a,g),P!=null&&b.unshift(Ws(a,P,k))):p||(P=js(a,g),P!=null&&b.push(Ws(a,P,k)))),a=a.return}b.length!==0&&t.push({event:s,listeners:b})}var Dy=/\r\n?/g,My=/\u0000|\uFFFD/g;function Ch(t){return(typeof t=="string"?t:""+t).replace(Dy,`
`).replace(My,"")}function io(t,s,a){if(s=Ch(s),Ch(t)!==s&&a)throw Error(r(425))}function oo(){}var bl=null,_l=null;function kl(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Sl=typeof setTimeout=="function"?setTimeout:void 0,Vy=typeof clearTimeout=="function"?clearTimeout:void 0,Th=typeof Promise=="function"?Promise:void 0,By=typeof queueMicrotask=="function"?queueMicrotask:typeof Th<"u"?function(t){return Th.resolve(null).then(t).catch($y)}:Sl;function $y(t){setTimeout(function(){throw t})}function jl(t,s){var a=s,c=0;do{var p=a.nextSibling;if(t.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(c===0){t.removeChild(p),Is(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=p}while(a);Is(s)}function Rn(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function Ph(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return t;s--}else a==="/$"&&s++}t=t.previousSibling}return null}var Fr=Math.random().toString(36).slice(2),on="__reactFiber$"+Fr,Hs="__reactProps$"+Fr,hn="__reactContainer$"+Fr,El="__reactEvents$"+Fr,Fy="__reactListeners$"+Fr,Uy="__reactHandles$"+Fr;function rr(t){var s=t[on];if(s)return s;for(var a=t.parentNode;a;){if(s=a[hn]||a[on]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=Ph(t);t!==null;){if(a=t[on])return a;t=Ph(t)}return s}t=a,a=t.parentNode}return null}function qs(t){return t=t[on]||t[hn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ur(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(r(33))}function ao(t){return t[Hs]||null}var Cl=[],Wr=-1;function In(t){return{current:t}}function Le(t){0>Wr||(t.current=Cl[Wr],Cl[Wr]=null,Wr--)}function Ae(t,s){Wr++,Cl[Wr]=t.current,t.current=s}var Ln={},dt=In(Ln),kt=In(!1),sr=Ln;function Hr(t,s){var a=t.type.contextTypes;if(!a)return Ln;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var p={},g;for(g in a)p[g]=s[g];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=p),p}function St(t){return t=t.childContextTypes,t!=null}function lo(){Le(kt),Le(dt)}function Nh(t,s,a){if(dt.current!==Ln)throw Error(r(168));Ae(dt,s),Ae(kt,a)}function Oh(t,s,a){var c=t.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var p in c)if(!(p in s))throw Error(r(108,Ee(t)||"Unknown",p));return Y({},a,c)}function uo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ln,sr=dt.current,Ae(dt,t),Ae(kt,kt.current),!0}function Ah(t,s,a){var c=t.stateNode;if(!c)throw Error(r(169));a?(t=Oh(t,s,sr),c.__reactInternalMemoizedMergedChildContext=t,Le(kt),Le(dt),Ae(dt,t)):Le(kt),Ae(kt,a)}var fn=null,co=!1,Tl=!1;function Rh(t){fn===null?fn=[t]:fn.push(t)}function Wy(t){co=!0,Rh(t)}function zn(){if(!Tl&&fn!==null){Tl=!0;var t=0,s=Pe;try{var a=fn;for(Pe=1;t<a.length;t++){var c=a[t];do c=c(!0);while(c!==null)}fn=null,co=!1}catch(p){throw fn!==null&&(fn=fn.slice(t+1)),Ld(Ya,zn),p}finally{Pe=s,Tl=!1}}return null}var qr=[],Kr=0,ho=null,fo=0,Vt=[],Bt=0,ir=null,pn=1,mn="";function or(t,s){qr[Kr++]=fo,qr[Kr++]=ho,ho=t,fo=s}function Ih(t,s,a){Vt[Bt++]=pn,Vt[Bt++]=mn,Vt[Bt++]=ir,ir=t;var c=pn;t=mn;var p=32-Kt(c)-1;c&=~(1<<p),a+=1;var g=32-Kt(s)+p;if(30<g){var b=p-p%5;g=(c&(1<<b)-1).toString(32),c>>=b,p-=b,pn=1<<32-Kt(s)+p|a<<p|c,mn=g+t}else pn=1<<g|a<<p|c,mn=t}function Pl(t){t.return!==null&&(or(t,1),Ih(t,1,0))}function Nl(t){for(;t===ho;)ho=qr[--Kr],qr[Kr]=null,fo=qr[--Kr],qr[Kr]=null;for(;t===ir;)ir=Vt[--Bt],Vt[Bt]=null,mn=Vt[--Bt],Vt[Bt]=null,pn=Vt[--Bt],Vt[Bt]=null}var Ot=null,At=null,ze=!1,Jt=null;function Lh(t,s){var a=Wt(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=t,s=t.deletions,s===null?(t.deletions=[a],t.flags|=16):s.push(a)}function zh(t,s){switch(t.tag){case 5:var a=t.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,Ot=t,At=Rn(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,Ot=t,At=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=ir!==null?{id:pn,overflow:mn}:null,t.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Wt(18,null,null,0),a.stateNode=s,a.return=t,t.child=a,Ot=t,At=null,!0):!1;default:return!1}}function Ol(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Al(t){if(ze){var s=At;if(s){var a=s;if(!zh(t,s)){if(Ol(t))throw Error(r(418));s=Rn(a.nextSibling);var c=Ot;s&&zh(t,s)?Lh(c,a):(t.flags=t.flags&-4097|2,ze=!1,Ot=t)}}else{if(Ol(t))throw Error(r(418));t.flags=t.flags&-4097|2,ze=!1,Ot=t}}}function Dh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ot=t}function po(t){if(t!==Ot)return!1;if(!ze)return Dh(t),ze=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!kl(t.type,t.memoizedProps)),s&&(s=At)){if(Ol(t))throw Mh(),Error(r(418));for(;s;)Lh(t,s),s=Rn(s.nextSibling)}if(Dh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"){if(s===0){At=Rn(t.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}t=t.nextSibling}At=null}}else At=Ot?Rn(t.stateNode.nextSibling):null;return!0}function Mh(){for(var t=At;t;)t=Rn(t.nextSibling)}function Gr(){At=Ot=null,ze=!1}function Rl(t){Jt===null?Jt=[t]:Jt.push(t)}var Hy=R.ReactCurrentBatchConfig;function Ks(t,s,a){if(t=a.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(r(309));var c=a.stateNode}if(!c)throw Error(r(147,t));var p=c,g=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(b){var k=p.refs;b===null?delete k[g]:k[g]=b},s._stringRef=g,s)}if(typeof t!="string")throw Error(r(284));if(!a._owner)throw Error(r(290,t))}return t}function mo(t,s){throw t=Object.prototype.toString.call(s),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function Vh(t){var s=t._init;return s(t._payload)}function Bh(t){function s(I,O){if(t){var L=I.deletions;L===null?(I.deletions=[O],I.flags|=16):L.push(O)}}function a(I,O){if(!t)return null;for(;O!==null;)s(I,O),O=O.sibling;return null}function c(I,O){for(I=new Map;O!==null;)O.key!==null?I.set(O.key,O):I.set(O.index,O),O=O.sibling;return I}function p(I,O){return I=Wn(I,O),I.index=0,I.sibling=null,I}function g(I,O,L){return I.index=L,t?(L=I.alternate,L!==null?(L=L.index,L<O?(I.flags|=2,O):L):(I.flags|=2,O)):(I.flags|=1048576,O)}function b(I){return t&&I.alternate===null&&(I.flags|=2),I}function k(I,O,L,K){return O===null||O.tag!==6?(O=Su(L,I.mode,K),O.return=I,O):(O=p(O,L),O.return=I,O)}function P(I,O,L,K){var re=L.type;return re===C?W(I,O,L.props.children,K,L.key):O!==null&&(O.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===xe&&Vh(re)===O.type)?(K=p(O,L.props),K.ref=Ks(I,O,L),K.return=I,K):(K=Vo(L.type,L.key,L.props,null,I.mode,K),K.ref=Ks(I,O,L),K.return=I,K)}function V(I,O,L,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=ju(L,I.mode,K),O.return=I,O):(O=p(O,L.children||[]),O.return=I,O)}function W(I,O,L,K,re){return O===null||O.tag!==7?(O=pr(L,I.mode,K,re),O.return=I,O):(O=p(O,L),O.return=I,O)}function H(I,O,L){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Su(""+O,I.mode,L),O.return=I,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case q:return L=Vo(O.type,O.key,O.props,null,I.mode,L),L.ref=Ks(I,null,O),L.return=I,L;case F:return O=ju(O,I.mode,L),O.return=I,O;case xe:var K=O._init;return H(I,K(O._payload),L)}if(En(O)||se(O))return O=pr(O,I.mode,L,null),O.return=I,O;mo(I,O)}return null}function U(I,O,L,K){var re=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return re!==null?null:k(I,O,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case q:return L.key===re?P(I,O,L,K):null;case F:return L.key===re?V(I,O,L,K):null;case xe:return re=L._init,U(I,O,re(L._payload),K)}if(En(L)||se(L))return re!==null?null:W(I,O,L,K,null);mo(I,L)}return null}function Q(I,O,L,K,re){if(typeof K=="string"&&K!==""||typeof K=="number")return I=I.get(L)||null,k(O,I,""+K,re);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case q:return I=I.get(K.key===null?L:K.key)||null,P(O,I,K,re);case F:return I=I.get(K.key===null?L:K.key)||null,V(O,I,K,re);case xe:var oe=K._init;return Q(I,O,L,oe(K._payload),re)}if(En(K)||se(K))return I=I.get(L)||null,W(O,I,K,re,null);mo(O,K)}return null}function ee(I,O,L,K){for(var re=null,oe=null,ae=O,de=O=0,it=null;ae!==null&&de<L.length;de++){ae.index>de?(it=ae,ae=null):it=ae.sibling;var Ce=U(I,ae,L[de],K);if(Ce===null){ae===null&&(ae=it);break}t&&ae&&Ce.alternate===null&&s(I,ae),O=g(Ce,O,de),oe===null?re=Ce:oe.sibling=Ce,oe=Ce,ae=it}if(de===L.length)return a(I,ae),ze&&or(I,de),re;if(ae===null){for(;de<L.length;de++)ae=H(I,L[de],K),ae!==null&&(O=g(ae,O,de),oe===null?re=ae:oe.sibling=ae,oe=ae);return ze&&or(I,de),re}for(ae=c(I,ae);de<L.length;de++)it=Q(ae,I,de,L[de],K),it!==null&&(t&&it.alternate!==null&&ae.delete(it.key===null?de:it.key),O=g(it,O,de),oe===null?re=it:oe.sibling=it,oe=it);return t&&ae.forEach(function(Hn){return s(I,Hn)}),ze&&or(I,de),re}function te(I,O,L,K){var re=se(L);if(typeof re!="function")throw Error(r(150));if(L=re.call(L),L==null)throw Error(r(151));for(var oe=re=null,ae=O,de=O=0,it=null,Ce=L.next();ae!==null&&!Ce.done;de++,Ce=L.next()){ae.index>de?(it=ae,ae=null):it=ae.sibling;var Hn=U(I,ae,Ce.value,K);if(Hn===null){ae===null&&(ae=it);break}t&&ae&&Hn.alternate===null&&s(I,ae),O=g(Hn,O,de),oe===null?re=Hn:oe.sibling=Hn,oe=Hn,ae=it}if(Ce.done)return a(I,ae),ze&&or(I,de),re;if(ae===null){for(;!Ce.done;de++,Ce=L.next())Ce=H(I,Ce.value,K),Ce!==null&&(O=g(Ce,O,de),oe===null?re=Ce:oe.sibling=Ce,oe=Ce);return ze&&or(I,de),re}for(ae=c(I,ae);!Ce.done;de++,Ce=L.next())Ce=Q(ae,I,de,Ce.value,K),Ce!==null&&(t&&Ce.alternate!==null&&ae.delete(Ce.key===null?de:Ce.key),O=g(Ce,O,de),oe===null?re=Ce:oe.sibling=Ce,oe=Ce);return t&&ae.forEach(function(Sx){return s(I,Sx)}),ze&&or(I,de),re}function Ke(I,O,L,K){if(typeof L=="object"&&L!==null&&L.type===C&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case q:e:{for(var re=L.key,oe=O;oe!==null;){if(oe.key===re){if(re=L.type,re===C){if(oe.tag===7){a(I,oe.sibling),O=p(oe,L.props.children),O.return=I,I=O;break e}}else if(oe.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===xe&&Vh(re)===oe.type){a(I,oe.sibling),O=p(oe,L.props),O.ref=Ks(I,oe,L),O.return=I,I=O;break e}a(I,oe);break}else s(I,oe);oe=oe.sibling}L.type===C?(O=pr(L.props.children,I.mode,K,L.key),O.return=I,I=O):(K=Vo(L.type,L.key,L.props,null,I.mode,K),K.ref=Ks(I,O,L),K.return=I,I=K)}return b(I);case F:e:{for(oe=L.key;O!==null;){if(O.key===oe)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){a(I,O.sibling),O=p(O,L.children||[]),O.return=I,I=O;break e}else{a(I,O);break}else s(I,O);O=O.sibling}O=ju(L,I.mode,K),O.return=I,I=O}return b(I);case xe:return oe=L._init,Ke(I,O,oe(L._payload),K)}if(En(L))return ee(I,O,L,K);if(se(L))return te(I,O,L,K);mo(I,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,O!==null&&O.tag===6?(a(I,O.sibling),O=p(O,L),O.return=I,I=O):(a(I,O),O=Su(L,I.mode,K),O.return=I,I=O),b(I)):a(I,O)}return Ke}var Jr=Bh(!0),$h=Bh(!1),go=In(null),vo=null,Yr=null,Il=null;function Ll(){Il=Yr=vo=null}function zl(t){var s=go.current;Le(go),t._currentValue=s}function Dl(t,s,a){for(;t!==null;){var c=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),t===a)break;t=t.return}}function Qr(t,s){vo=t,Il=Yr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&s)!==0&&(jt=!0),t.firstContext=null)}function $t(t){var s=t._currentValue;if(Il!==t)if(t={context:t,memoizedValue:s,next:null},Yr===null){if(vo===null)throw Error(r(308));Yr=t,vo.dependencies={lanes:0,firstContext:t}}else Yr=Yr.next=t;return s}var ar=null;function Ml(t){ar===null?ar=[t]:ar.push(t)}function Fh(t,s,a,c){var p=s.interleaved;return p===null?(a.next=a,Ml(s)):(a.next=p.next,p.next=a),s.interleaved=a,gn(t,c)}function gn(t,s){t.lanes|=s;var a=t.alternate;for(a!==null&&(a.lanes|=s),a=t,t=t.return;t!==null;)t.childLanes|=s,a=t.alternate,a!==null&&(a.childLanes|=s),a=t,t=t.return;return a.tag===3?a.stateNode:null}var Dn=!1;function Vl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uh(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vn(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function Mn(t,s,a){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(je&2)!==0){var p=c.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),c.pending=s,gn(t,a)}return p=c.interleaved,p===null?(s.next=s,Ml(c)):(s.next=p.next,p.next=s),c.interleaved=s,gn(t,a)}function yo(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=t.pendingLanes,a|=c,s.lanes=a,Za(t,a)}}function Wh(t,s){var a=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var p=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var b={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?p=g=b:g=g.next=b,a=a.next}while(a!==null);g===null?p=g=s:g=g.next=s}else p=g=s;a={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,effects:c.effects},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}function xo(t,s,a,c){var p=t.updateQueue;Dn=!1;var g=p.firstBaseUpdate,b=p.lastBaseUpdate,k=p.shared.pending;if(k!==null){p.shared.pending=null;var P=k,V=P.next;P.next=null,b===null?g=V:b.next=V,b=P;var W=t.alternate;W!==null&&(W=W.updateQueue,k=W.lastBaseUpdate,k!==b&&(k===null?W.firstBaseUpdate=V:k.next=V,W.lastBaseUpdate=P))}if(g!==null){var H=p.baseState;b=0,W=V=P=null,k=g;do{var U=k.lane,Q=k.eventTime;if((c&U)===U){W!==null&&(W=W.next={eventTime:Q,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var ee=t,te=k;switch(U=s,Q=a,te.tag){case 1:if(ee=te.payload,typeof ee=="function"){H=ee.call(Q,H,U);break e}H=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=te.payload,U=typeof ee=="function"?ee.call(Q,H,U):ee,U==null)break e;H=Y({},H,U);break e;case 2:Dn=!0}}k.callback!==null&&k.lane!==0&&(t.flags|=64,U=p.effects,U===null?p.effects=[k]:U.push(k))}else Q={eventTime:Q,lane:U,tag:k.tag,payload:k.payload,callback:k.callback,next:null},W===null?(V=W=Q,P=H):W=W.next=Q,b|=U;if(k=k.next,k===null){if(k=p.shared.pending,k===null)break;U=k,k=U.next,U.next=null,p.lastBaseUpdate=U,p.shared.pending=null}}while(!0);if(W===null&&(P=H),p.baseState=P,p.firstBaseUpdate=V,p.lastBaseUpdate=W,s=p.shared.interleaved,s!==null){p=s;do b|=p.lane,p=p.next;while(p!==s)}else g===null&&(p.shared.lanes=0);cr|=b,t.lanes=b,t.memoizedState=H}}function Hh(t,s,a){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var c=t[s],p=c.callback;if(p!==null){if(c.callback=null,c=a,typeof p!="function")throw Error(r(191,p));p.call(c)}}}var Gs={},an=In(Gs),Js=In(Gs),Ys=In(Gs);function lr(t){if(t===Gs)throw Error(r(174));return t}function Bl(t,s){switch(Ae(Ys,s),Ae(Js,t),Ae(an,Gs),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:$a(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=$a(s,t)}Le(an),Ae(an,s)}function Xr(){Le(an),Le(Js),Le(Ys)}function qh(t){lr(Ys.current);var s=lr(an.current),a=$a(s,t.type);s!==a&&(Ae(Js,t),Ae(an,a))}function $l(t){Js.current===t&&(Le(an),Le(Js))}var Me=In(0);function wo(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Fl=[];function Ul(){for(var t=0;t<Fl.length;t++)Fl[t]._workInProgressVersionPrimary=null;Fl.length=0}var bo=R.ReactCurrentDispatcher,Wl=R.ReactCurrentBatchConfig,ur=0,Ve=null,et=null,rt=null,_o=!1,Qs=!1,Xs=0,qy=0;function ht(){throw Error(r(321))}function Hl(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!Gt(t[a],s[a]))return!1;return!0}function ql(t,s,a,c,p,g){if(ur=g,Ve=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,bo.current=t===null||t.memoizedState===null?Yy:Qy,t=a(c,p),Qs){g=0;do{if(Qs=!1,Xs=0,25<=g)throw Error(r(301));g+=1,rt=et=null,s.updateQueue=null,bo.current=Xy,t=a(c,p)}while(Qs)}if(bo.current=jo,s=et!==null&&et.next!==null,ur=0,rt=et=Ve=null,_o=!1,s)throw Error(r(300));return t}function Kl(){var t=Xs!==0;return Xs=0,t}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?Ve.memoizedState=rt=t:rt=rt.next=t,rt}function Ft(){if(et===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var s=rt===null?Ve.memoizedState:rt.next;if(s!==null)rt=s,et=t;else{if(t===null)throw Error(r(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},rt===null?Ve.memoizedState=rt=t:rt=rt.next=t}return rt}function Zs(t,s){return typeof s=="function"?s(t):s}function Gl(t){var s=Ft(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var c=et,p=c.baseQueue,g=a.pending;if(g!==null){if(p!==null){var b=p.next;p.next=g.next,g.next=b}c.baseQueue=p=g,a.pending=null}if(p!==null){g=p.next,c=c.baseState;var k=b=null,P=null,V=g;do{var W=V.lane;if((ur&W)===W)P!==null&&(P=P.next={lane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),c=V.hasEagerState?V.eagerState:t(c,V.action);else{var H={lane:W,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null};P===null?(k=P=H,b=c):P=P.next=H,Ve.lanes|=W,cr|=W}V=V.next}while(V!==null&&V!==g);P===null?b=c:P.next=k,Gt(c,s.memoizedState)||(jt=!0),s.memoizedState=c,s.baseState=b,s.baseQueue=P,a.lastRenderedState=c}if(t=a.interleaved,t!==null){p=t;do g=p.lane,Ve.lanes|=g,cr|=g,p=p.next;while(p!==t)}else p===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Jl(t){var s=Ft(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var c=a.dispatch,p=a.pending,g=s.memoizedState;if(p!==null){a.pending=null;var b=p=p.next;do g=t(g,b.action),b=b.next;while(b!==p);Gt(g,s.memoizedState)||(jt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,c]}function Kh(){}function Gh(t,s){var a=Ve,c=Ft(),p=s(),g=!Gt(c.memoizedState,p);if(g&&(c.memoizedState=p,jt=!0),c=c.queue,Yl(Qh.bind(null,a,c,t),[t]),c.getSnapshot!==s||g||rt!==null&&rt.memoizedState.tag&1){if(a.flags|=2048,ei(9,Yh.bind(null,a,c,p,s),void 0,null),st===null)throw Error(r(349));(ur&30)!==0||Jh(a,s,p)}return p}function Jh(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=Ve.updateQueue,s===null?(s={lastEffect:null,stores:null},Ve.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function Yh(t,s,a,c){s.value=a,s.getSnapshot=c,Xh(s)&&Zh(t)}function Qh(t,s,a){return a(function(){Xh(s)&&Zh(t)})}function Xh(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!Gt(t,a)}catch{return!0}}function Zh(t){var s=gn(t,1);s!==null&&Zt(s,t,1,-1)}function ef(t){var s=ln();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:t},s.queue=t,t=t.dispatch=Jy.bind(null,Ve,t),[s.memoizedState,t]}function ei(t,s,a,c){return t={tag:t,create:s,destroy:a,deps:c,next:null},s=Ve.updateQueue,s===null?(s={lastEffect:null,stores:null},Ve.updateQueue=s,s.lastEffect=t.next=t):(a=s.lastEffect,a===null?s.lastEffect=t.next=t:(c=a.next,a.next=t,t.next=c,s.lastEffect=t)),t}function tf(){return Ft().memoizedState}function ko(t,s,a,c){var p=ln();Ve.flags|=t,p.memoizedState=ei(1|s,a,void 0,c===void 0?null:c)}function So(t,s,a,c){var p=Ft();c=c===void 0?null:c;var g=void 0;if(et!==null){var b=et.memoizedState;if(g=b.destroy,c!==null&&Hl(c,b.deps)){p.memoizedState=ei(s,a,g,c);return}}Ve.flags|=t,p.memoizedState=ei(1|s,a,g,c)}function nf(t,s){return ko(8390656,8,t,s)}function Yl(t,s){return So(2048,8,t,s)}function rf(t,s){return So(4,2,t,s)}function sf(t,s){return So(4,4,t,s)}function of(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function af(t,s,a){return a=a!=null?a.concat([t]):null,So(4,4,of.bind(null,s,t),a)}function Ql(){}function lf(t,s){var a=Ft();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Hl(s,c[1])?c[0]:(a.memoizedState=[t,s],t)}function uf(t,s){var a=Ft();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Hl(s,c[1])?c[0]:(t=t(),a.memoizedState=[t,s],t)}function cf(t,s,a){return(ur&21)===0?(t.baseState&&(t.baseState=!1,jt=!0),t.memoizedState=a):(Gt(a,s)||(a=Vd(),Ve.lanes|=a,cr|=a,t.baseState=!0),s)}function Ky(t,s){var a=Pe;Pe=a!==0&&4>a?a:4,t(!0);var c=Wl.transition;Wl.transition={};try{t(!1),s()}finally{Pe=a,Wl.transition=c}}function df(){return Ft().memoizedState}function Gy(t,s,a){var c=Fn(t);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},hf(t))ff(s,a);else if(a=Fh(t,s,a,c),a!==null){var p=wt();Zt(a,t,c,p),pf(a,s,c)}}function Jy(t,s,a){var c=Fn(t),p={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(hf(t))ff(s,p);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var b=s.lastRenderedState,k=g(b,a);if(p.hasEagerState=!0,p.eagerState=k,Gt(k,b)){var P=s.interleaved;P===null?(p.next=p,Ml(s)):(p.next=P.next,P.next=p),s.interleaved=p;return}}catch{}finally{}a=Fh(t,s,p,c),a!==null&&(p=wt(),Zt(a,t,c,p),pf(a,s,c))}}function hf(t){var s=t.alternate;return t===Ve||s!==null&&s===Ve}function ff(t,s){Qs=_o=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function pf(t,s,a){if((a&4194240)!==0){var c=s.lanes;c&=t.pendingLanes,a|=c,s.lanes=a,Za(t,a)}}var jo={readContext:$t,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useInsertionEffect:ht,useLayoutEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useMutableSource:ht,useSyncExternalStore:ht,useId:ht,unstable_isNewReconciler:!1},Yy={readContext:$t,useCallback:function(t,s){return ln().memoizedState=[t,s===void 0?null:s],t},useContext:$t,useEffect:nf,useImperativeHandle:function(t,s,a){return a=a!=null?a.concat([t]):null,ko(4194308,4,of.bind(null,s,t),a)},useLayoutEffect:function(t,s){return ko(4194308,4,t,s)},useInsertionEffect:function(t,s){return ko(4,2,t,s)},useMemo:function(t,s){var a=ln();return s=s===void 0?null:s,t=t(),a.memoizedState=[t,s],t},useReducer:function(t,s,a){var c=ln();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},c.queue=t,t=t.dispatch=Gy.bind(null,Ve,t),[c.memoizedState,t]},useRef:function(t){var s=ln();return t={current:t},s.memoizedState=t},useState:ef,useDebugValue:Ql,useDeferredValue:function(t){return ln().memoizedState=t},useTransition:function(){var t=ef(!1),s=t[0];return t=Ky.bind(null,t[1]),ln().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,a){var c=Ve,p=ln();if(ze){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),st===null)throw Error(r(349));(ur&30)!==0||Jh(c,s,a)}p.memoizedState=a;var g={value:a,getSnapshot:s};return p.queue=g,nf(Qh.bind(null,c,g,t),[t]),c.flags|=2048,ei(9,Yh.bind(null,c,g,a,s),void 0,null),a},useId:function(){var t=ln(),s=st.identifierPrefix;if(ze){var a=mn,c=pn;a=(c&~(1<<32-Kt(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=Xs++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=qy++,s=":"+s+"r"+a.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},Qy={readContext:$t,useCallback:lf,useContext:$t,useEffect:Yl,useImperativeHandle:af,useInsertionEffect:rf,useLayoutEffect:sf,useMemo:uf,useReducer:Gl,useRef:tf,useState:function(){return Gl(Zs)},useDebugValue:Ql,useDeferredValue:function(t){var s=Ft();return cf(s,et.memoizedState,t)},useTransition:function(){var t=Gl(Zs)[0],s=Ft().memoizedState;return[t,s]},useMutableSource:Kh,useSyncExternalStore:Gh,useId:df,unstable_isNewReconciler:!1},Xy={readContext:$t,useCallback:lf,useContext:$t,useEffect:Yl,useImperativeHandle:af,useInsertionEffect:rf,useLayoutEffect:sf,useMemo:uf,useReducer:Jl,useRef:tf,useState:function(){return Jl(Zs)},useDebugValue:Ql,useDeferredValue:function(t){var s=Ft();return et===null?s.memoizedState=t:cf(s,et.memoizedState,t)},useTransition:function(){var t=Jl(Zs)[0],s=Ft().memoizedState;return[t,s]},useMutableSource:Kh,useSyncExternalStore:Gh,useId:df,unstable_isNewReconciler:!1};function Yt(t,s){if(t&&t.defaultProps){s=Y({},s),t=t.defaultProps;for(var a in t)s[a]===void 0&&(s[a]=t[a]);return s}return s}function Xl(t,s,a,c){s=t.memoizedState,a=a(c,s),a=a==null?s:Y({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Eo={isMounted:function(t){return(t=t._reactInternals)?nr(t)===t:!1},enqueueSetState:function(t,s,a){t=t._reactInternals;var c=wt(),p=Fn(t),g=vn(c,p);g.payload=s,a!=null&&(g.callback=a),s=Mn(t,g,p),s!==null&&(Zt(s,t,p,c),yo(s,t,p))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var c=wt(),p=Fn(t),g=vn(c,p);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=Mn(t,g,p),s!==null&&(Zt(s,t,p,c),yo(s,t,p))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=wt(),c=Fn(t),p=vn(a,c);p.tag=2,s!=null&&(p.callback=s),s=Mn(t,p,c),s!==null&&(Zt(s,t,c,a),yo(s,t,c))}};function mf(t,s,a,c,p,g,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,g,b):s.prototype&&s.prototype.isPureReactComponent?!Bs(a,c)||!Bs(p,g):!0}function gf(t,s,a){var c=!1,p=Ln,g=s.contextType;return typeof g=="object"&&g!==null?g=$t(g):(p=St(s)?sr:dt.current,c=s.contextTypes,g=(c=c!=null)?Hr(t,p):Ln),s=new s(a,g),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Eo,t.stateNode=s,s._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=p,t.__reactInternalMemoizedMaskedChildContext=g),s}function vf(t,s,a,c){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==t&&Eo.enqueueReplaceState(s,s.state,null)}function Zl(t,s,a,c){var p=t.stateNode;p.props=a,p.state=t.memoizedState,p.refs={},Vl(t);var g=s.contextType;typeof g=="object"&&g!==null?p.context=$t(g):(g=St(s)?sr:dt.current,p.context=Hr(t,g)),p.state=t.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Xl(t,s,g,a),p.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Eo.enqueueReplaceState(p,p.state,null),xo(t,a,p,c),p.state=t.memoizedState),typeof p.componentDidMount=="function"&&(t.flags|=4194308)}function Zr(t,s){try{var a="",c=s;do a+=_e(c),c=c.return;while(c);var p=a}catch(g){p=`
Error generating stack: `+g.message+`
`+g.stack}return{value:t,source:s,stack:p,digest:null}}function eu(t,s,a){return{value:t,source:null,stack:a??null,digest:s??null}}function tu(t,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var Zy=typeof WeakMap=="function"?WeakMap:Map;function yf(t,s,a){a=vn(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){Ro||(Ro=!0,gu=c),tu(t,s)},a}function xf(t,s,a){a=vn(-1,a),a.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var p=s.value;a.payload=function(){return c(p)},a.callback=function(){tu(t,s)}}var g=t.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){tu(t,s),typeof c!="function"&&(Bn===null?Bn=new Set([this]):Bn.add(this));var b=s.stack;this.componentDidCatch(s.value,{componentStack:b!==null?b:""})}),a}function wf(t,s,a){var c=t.pingCache;if(c===null){c=t.pingCache=new Zy;var p=new Set;c.set(s,p)}else p=c.get(s),p===void 0&&(p=new Set,c.set(s,p));p.has(a)||(p.add(a),t=fx.bind(null,t,s,a),s.then(t,t))}function bf(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function _f(t,s,a,c,p){return(t.mode&1)===0?(t===s?t.flags|=65536:(t.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=vn(-1,1),s.tag=2,Mn(a,s,1))),a.lanes|=1),t):(t.flags|=65536,t.lanes=p,t)}var ex=R.ReactCurrentOwner,jt=!1;function xt(t,s,a,c){s.child=t===null?$h(s,null,a,c):Jr(s,t.child,a,c)}function kf(t,s,a,c,p){a=a.render;var g=s.ref;return Qr(s,p),c=ql(t,s,a,c,g,p),a=Kl(),t!==null&&!jt?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~p,yn(t,s,p)):(ze&&a&&Pl(s),s.flags|=1,xt(t,s,c,p),s.child)}function Sf(t,s,a,c,p){if(t===null){var g=a.type;return typeof g=="function"&&!ku(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,jf(t,s,g,c,p)):(t=Vo(a.type,null,c,s,s.mode,p),t.ref=s.ref,t.return=s,s.child=t)}if(g=t.child,(t.lanes&p)===0){var b=g.memoizedProps;if(a=a.compare,a=a!==null?a:Bs,a(b,c)&&t.ref===s.ref)return yn(t,s,p)}return s.flags|=1,t=Wn(g,c),t.ref=s.ref,t.return=s,s.child=t}function jf(t,s,a,c,p){if(t!==null){var g=t.memoizedProps;if(Bs(g,c)&&t.ref===s.ref)if(jt=!1,s.pendingProps=c=g,(t.lanes&p)!==0)(t.flags&131072)!==0&&(jt=!0);else return s.lanes=t.lanes,yn(t,s,p)}return nu(t,s,a,c,p)}function Ef(t,s,a){var c=s.pendingProps,p=c.children,g=t!==null?t.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(ts,Rt),Rt|=a;else{if((a&1073741824)===0)return t=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,Ae(ts,Rt),Rt|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,Ae(ts,Rt),Rt|=c}else g!==null?(c=g.baseLanes|a,s.memoizedState=null):c=a,Ae(ts,Rt),Rt|=c;return xt(t,s,p,a),s.child}function Cf(t,s){var a=s.ref;(t===null&&a!==null||t!==null&&t.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function nu(t,s,a,c,p){var g=St(a)?sr:dt.current;return g=Hr(s,g),Qr(s,p),a=ql(t,s,a,c,g,p),c=Kl(),t!==null&&!jt?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~p,yn(t,s,p)):(ze&&c&&Pl(s),s.flags|=1,xt(t,s,a,p),s.child)}function Tf(t,s,a,c,p){if(St(a)){var g=!0;uo(s)}else g=!1;if(Qr(s,p),s.stateNode===null)To(t,s),gf(s,a,c),Zl(s,a,c,p),c=!0;else if(t===null){var b=s.stateNode,k=s.memoizedProps;b.props=k;var P=b.context,V=a.contextType;typeof V=="object"&&V!==null?V=$t(V):(V=St(a)?sr:dt.current,V=Hr(s,V));var W=a.getDerivedStateFromProps,H=typeof W=="function"||typeof b.getSnapshotBeforeUpdate=="function";H||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k!==c||P!==V)&&vf(s,b,c,V),Dn=!1;var U=s.memoizedState;b.state=U,xo(s,c,b,p),P=s.memoizedState,k!==c||U!==P||kt.current||Dn?(typeof W=="function"&&(Xl(s,a,W,c),P=s.memoizedState),(k=Dn||mf(s,a,k,c,U,P,V))?(H||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=P),b.props=c,b.state=P,b.context=V,c=k):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{b=s.stateNode,Uh(t,s),k=s.memoizedProps,V=s.type===s.elementType?k:Yt(s.type,k),b.props=V,H=s.pendingProps,U=b.context,P=a.contextType,typeof P=="object"&&P!==null?P=$t(P):(P=St(a)?sr:dt.current,P=Hr(s,P));var Q=a.getDerivedStateFromProps;(W=typeof Q=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k!==H||U!==P)&&vf(s,b,c,P),Dn=!1,U=s.memoizedState,b.state=U,xo(s,c,b,p);var ee=s.memoizedState;k!==H||U!==ee||kt.current||Dn?(typeof Q=="function"&&(Xl(s,a,Q,c),ee=s.memoizedState),(V=Dn||mf(s,a,V,c,U,ee,P)||!1)?(W||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(c,ee,P),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(c,ee,P)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||k===t.memoizedProps&&U===t.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===t.memoizedProps&&U===t.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ee),b.props=c,b.state=ee,b.context=P,c=V):(typeof b.componentDidUpdate!="function"||k===t.memoizedProps&&U===t.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===t.memoizedProps&&U===t.memoizedState||(s.flags|=1024),c=!1)}return ru(t,s,a,c,g,p)}function ru(t,s,a,c,p,g){Cf(t,s);var b=(s.flags&128)!==0;if(!c&&!b)return p&&Ah(s,a,!1),yn(t,s,g);c=s.stateNode,ex.current=s;var k=b&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,t!==null&&b?(s.child=Jr(s,t.child,null,g),s.child=Jr(s,null,k,g)):xt(t,s,k,g),s.memoizedState=c.state,p&&Ah(s,a,!0),s.child}function Pf(t){var s=t.stateNode;s.pendingContext?Nh(t,s.pendingContext,s.pendingContext!==s.context):s.context&&Nh(t,s.context,!1),Bl(t,s.containerInfo)}function Nf(t,s,a,c,p){return Gr(),Rl(p),s.flags|=256,xt(t,s,a,c),s.child}var su={dehydrated:null,treeContext:null,retryLane:0};function iu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Of(t,s,a){var c=s.pendingProps,p=Me.current,g=!1,b=(s.flags&128)!==0,k;if((k=b)||(k=t!==null&&t.memoizedState===null?!1:(p&2)!==0),k?(g=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(p|=1),Ae(Me,p&1),t===null)return Al(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((s.mode&1)===0?s.lanes=1:t.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(b=c.children,t=c.fallback,g?(c=s.mode,g=s.child,b={mode:"hidden",children:b},(c&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=b):g=Bo(b,c,0,null),t=pr(t,c,a,null),g.return=s,t.return=s,g.sibling=t,s.child=g,s.child.memoizedState=iu(a),s.memoizedState=su,t):ou(s,b));if(p=t.memoizedState,p!==null&&(k=p.dehydrated,k!==null))return tx(t,s,b,c,k,p,a);if(g){g=c.fallback,b=s.mode,p=t.child,k=p.sibling;var P={mode:"hidden",children:c.children};return(b&1)===0&&s.child!==p?(c=s.child,c.childLanes=0,c.pendingProps=P,s.deletions=null):(c=Wn(p,P),c.subtreeFlags=p.subtreeFlags&14680064),k!==null?g=Wn(k,g):(g=pr(g,b,a,null),g.flags|=2),g.return=s,c.return=s,c.sibling=g,s.child=c,c=g,g=s.child,b=t.child.memoizedState,b=b===null?iu(a):{baseLanes:b.baseLanes|a,cachePool:null,transitions:b.transitions},g.memoizedState=b,g.childLanes=t.childLanes&~a,s.memoizedState=su,c}return g=t.child,t=g.sibling,c=Wn(g,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=a),c.return=s,c.sibling=null,t!==null&&(a=s.deletions,a===null?(s.deletions=[t],s.flags|=16):a.push(t)),s.child=c,s.memoizedState=null,c}function ou(t,s){return s=Bo({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function Co(t,s,a,c){return c!==null&&Rl(c),Jr(s,t.child,null,a),t=ou(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function tx(t,s,a,c,p,g,b){if(a)return s.flags&256?(s.flags&=-257,c=eu(Error(r(422))),Co(t,s,b,c)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(g=c.fallback,p=s.mode,c=Bo({mode:"visible",children:c.children},p,0,null),g=pr(g,p,b,null),g.flags|=2,c.return=s,g.return=s,c.sibling=g,s.child=c,(s.mode&1)!==0&&Jr(s,t.child,null,b),s.child.memoizedState=iu(b),s.memoizedState=su,g);if((s.mode&1)===0)return Co(t,s,b,null);if(p.data==="$!"){if(c=p.nextSibling&&p.nextSibling.dataset,c)var k=c.dgst;return c=k,g=Error(r(419)),c=eu(g,c,void 0),Co(t,s,b,c)}if(k=(b&t.childLanes)!==0,jt||k){if(c=st,c!==null){switch(b&-b){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(c.suspendedLanes|b))!==0?0:p,p!==0&&p!==g.retryLane&&(g.retryLane=p,gn(t,p),Zt(c,t,p,-1))}return _u(),c=eu(Error(r(421))),Co(t,s,b,c)}return p.data==="$?"?(s.flags|=128,s.child=t.child,s=px.bind(null,t),p._reactRetry=s,null):(t=g.treeContext,At=Rn(p.nextSibling),Ot=s,ze=!0,Jt=null,t!==null&&(Vt[Bt++]=pn,Vt[Bt++]=mn,Vt[Bt++]=ir,pn=t.id,mn=t.overflow,ir=s),s=ou(s,c.children),s.flags|=4096,s)}function Af(t,s,a){t.lanes|=s;var c=t.alternate;c!==null&&(c.lanes|=s),Dl(t.return,s,a)}function au(t,s,a,c,p){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:p}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=p)}function Rf(t,s,a){var c=s.pendingProps,p=c.revealOrder,g=c.tail;if(xt(t,s,c.children,a),c=Me.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Af(t,a,s);else if(t.tag===19)Af(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(Ae(Me,c),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(a=s.child,p=null;a!==null;)t=a.alternate,t!==null&&wo(t)===null&&(p=a),a=a.sibling;a=p,a===null?(p=s.child,s.child=null):(p=a.sibling,a.sibling=null),au(s,!1,p,a,g);break;case"backwards":for(a=null,p=s.child,s.child=null;p!==null;){if(t=p.alternate,t!==null&&wo(t)===null){s.child=p;break}t=p.sibling,p.sibling=a,a=p,p=t}au(s,!0,a,null,g);break;case"together":au(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function To(t,s){(s.mode&1)===0&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function yn(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),cr|=s.lanes,(a&s.childLanes)===0)return null;if(t!==null&&s.child!==t.child)throw Error(r(153));if(s.child!==null){for(t=s.child,a=Wn(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=Wn(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function nx(t,s,a){switch(s.tag){case 3:Pf(s),Gr();break;case 5:qh(s);break;case 1:St(s.type)&&uo(s);break;case 4:Bl(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,p=s.memoizedProps.value;Ae(go,c._currentValue),c._currentValue=p;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(Ae(Me,Me.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?Of(t,s,a):(Ae(Me,Me.current&1),t=yn(t,s,a),t!==null?t.sibling:null);Ae(Me,Me.current&1);break;case 19:if(c=(a&s.childLanes)!==0,(t.flags&128)!==0){if(c)return Rf(t,s,a);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ae(Me,Me.current),c)break;return null;case 22:case 23:return s.lanes=0,Ef(t,s,a)}return yn(t,s,a)}var If,lu,Lf,zf;If=function(t,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)t.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},lu=function(){},Lf=function(t,s,a,c){var p=t.memoizedProps;if(p!==c){t=s.stateNode,lr(an.current);var g=null;switch(a){case"input":p=He(t,p),c=He(t,c),g=[];break;case"select":p=Y({},p,{value:void 0}),c=Y({},c,{value:void 0}),g=[];break;case"textarea":p=Ba(t,p),c=Ba(t,c),g=[];break;default:typeof p.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=oo)}Fa(a,c);var b;a=null;for(V in p)if(!c.hasOwnProperty(V)&&p.hasOwnProperty(V)&&p[V]!=null)if(V==="style"){var k=p[V];for(b in k)k.hasOwnProperty(b)&&(a||(a={}),a[b]="")}else V!=="dangerouslySetInnerHTML"&&V!=="children"&&V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&V!=="autoFocus"&&(o.hasOwnProperty(V)?g||(g=[]):(g=g||[]).push(V,null));for(V in c){var P=c[V];if(k=p?.[V],c.hasOwnProperty(V)&&P!==k&&(P!=null||k!=null))if(V==="style")if(k){for(b in k)!k.hasOwnProperty(b)||P&&P.hasOwnProperty(b)||(a||(a={}),a[b]="");for(b in P)P.hasOwnProperty(b)&&k[b]!==P[b]&&(a||(a={}),a[b]=P[b])}else a||(g||(g=[]),g.push(V,a)),a=P;else V==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,k=k?k.__html:void 0,P!=null&&k!==P&&(g=g||[]).push(V,P)):V==="children"?typeof P!="string"&&typeof P!="number"||(g=g||[]).push(V,""+P):V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&(o.hasOwnProperty(V)?(P!=null&&V==="onScroll"&&Ie("scroll",t),g||k===P||(g=[])):(g=g||[]).push(V,P))}a&&(g=g||[]).push("style",a);var V=g;(s.updateQueue=V)&&(s.flags|=4)}},zf=function(t,s,a,c){a!==c&&(s.flags|=4)};function ti(t,s){if(!ze)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function ft(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,c=0;if(s)for(var p=t.child;p!==null;)a|=p.lanes|p.childLanes,c|=p.subtreeFlags&14680064,c|=p.flags&14680064,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)a|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=c,t.childLanes=a,s}function rx(t,s,a){var c=s.pendingProps;switch(Nl(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(s),null;case 1:return St(s.type)&&lo(),ft(s),null;case 3:return c=s.stateNode,Xr(),Le(kt),Le(dt),Ul(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(po(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Jt!==null&&(xu(Jt),Jt=null))),lu(t,s),ft(s),null;case 5:$l(s);var p=lr(Ys.current);if(a=s.type,t!==null&&s.stateNode!=null)Lf(t,s,a,c,p),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(r(166));return ft(s),null}if(t=lr(an.current),po(s)){c=s.stateNode,a=s.type;var g=s.memoizedProps;switch(c[on]=s,c[Hs]=g,t=(s.mode&1)!==0,a){case"dialog":Ie("cancel",c),Ie("close",c);break;case"iframe":case"object":case"embed":Ie("load",c);break;case"video":case"audio":for(p=0;p<Fs.length;p++)Ie(Fs[p],c);break;case"source":Ie("error",c);break;case"img":case"image":case"link":Ie("error",c),Ie("load",c);break;case"details":Ie("toggle",c);break;case"input":Ne(c,g),Ie("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},Ie("invalid",c);break;case"textarea":yd(c,g),Ie("invalid",c)}Fa(a,g),p=null;for(var b in g)if(g.hasOwnProperty(b)){var k=g[b];b==="children"?typeof k=="string"?c.textContent!==k&&(g.suppressHydrationWarning!==!0&&io(c.textContent,k,t),p=["children",k]):typeof k=="number"&&c.textContent!==""+k&&(g.suppressHydrationWarning!==!0&&io(c.textContent,k,t),p=["children",""+k]):o.hasOwnProperty(b)&&k!=null&&b==="onScroll"&&Ie("scroll",c)}switch(a){case"input":_t(c),Pt(c,g,!0);break;case"textarea":_t(c),wd(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=oo)}c=p,s.updateQueue=c,c!==null&&(s.flags|=4)}else{b=p.nodeType===9?p:p.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=bd(a)),t==="http://www.w3.org/1999/xhtml"?a==="script"?(t=b.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=b.createElement(a,{is:c.is}):(t=b.createElement(a),a==="select"&&(b=t,c.multiple?b.multiple=!0:c.size&&(b.size=c.size))):t=b.createElementNS(t,a),t[on]=s,t[Hs]=c,If(t,s,!1,!1),s.stateNode=t;e:{switch(b=Ua(a,c),a){case"dialog":Ie("cancel",t),Ie("close",t),p=c;break;case"iframe":case"object":case"embed":Ie("load",t),p=c;break;case"video":case"audio":for(p=0;p<Fs.length;p++)Ie(Fs[p],t);p=c;break;case"source":Ie("error",t),p=c;break;case"img":case"image":case"link":Ie("error",t),Ie("load",t),p=c;break;case"details":Ie("toggle",t),p=c;break;case"input":Ne(t,c),p=He(t,c),Ie("invalid",t);break;case"option":p=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},p=Y({},c,{value:void 0}),Ie("invalid",t);break;case"textarea":yd(t,c),p=Ba(t,c),Ie("invalid",t);break;default:p=c}Fa(a,p),k=p;for(g in k)if(k.hasOwnProperty(g)){var P=k[g];g==="style"?Sd(t,P):g==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&_d(t,P)):g==="children"?typeof P=="string"?(a!=="textarea"||P!=="")&&ks(t,P):typeof P=="number"&&ks(t,""+P):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?P!=null&&g==="onScroll"&&Ie("scroll",t):P!=null&&j(t,g,P,b))}switch(a){case"input":_t(t),Pt(t,c,!1);break;case"textarea":_t(t),wd(t);break;case"option":c.value!=null&&t.setAttribute("value",""+ke(c.value));break;case"select":t.multiple=!!c.multiple,g=c.value,g!=null?Rr(t,!!c.multiple,g,!1):c.defaultValue!=null&&Rr(t,!!c.multiple,c.defaultValue,!0);break;default:typeof p.onClick=="function"&&(t.onclick=oo)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return ft(s),null;case 6:if(t&&s.stateNode!=null)zf(t,s,t.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(a=lr(Ys.current),lr(an.current),po(s)){if(c=s.stateNode,a=s.memoizedProps,c[on]=s,(g=c.nodeValue!==a)&&(t=Ot,t!==null))switch(t.tag){case 3:io(c.nodeValue,a,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&io(c.nodeValue,a,(t.mode&1)!==0)}g&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[on]=s,s.stateNode=c}return ft(s),null;case 13:if(Le(Me),c=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ze&&At!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Mh(),Gr(),s.flags|=98560,g=!1;else if(g=po(s),c!==null&&c.dehydrated!==null){if(t===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[on]=s}else Gr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ft(s),g=!1}else Jt!==null&&(xu(Jt),Jt=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(t===null||(Me.current&1)!==0?tt===0&&(tt=3):_u())),s.updateQueue!==null&&(s.flags|=4),ft(s),null);case 4:return Xr(),lu(t,s),t===null&&Us(s.stateNode.containerInfo),ft(s),null;case 10:return zl(s.type._context),ft(s),null;case 17:return St(s.type)&&lo(),ft(s),null;case 19:if(Le(Me),g=s.memoizedState,g===null)return ft(s),null;if(c=(s.flags&128)!==0,b=g.rendering,b===null)if(c)ti(g,!1);else{if(tt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(b=wo(t),b!==null){for(s.flags|=128,ti(g,!1),c=b.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)g=a,t=c,g.flags&=14680066,b=g.alternate,b===null?(g.childLanes=0,g.lanes=t,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=b.childLanes,g.lanes=b.lanes,g.child=b.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=b.memoizedProps,g.memoizedState=b.memoizedState,g.updateQueue=b.updateQueue,g.type=b.type,t=b.dependencies,g.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),a=a.sibling;return Ae(Me,Me.current&1|2),s.child}t=t.sibling}g.tail!==null&&qe()>ns&&(s.flags|=128,c=!0,ti(g,!1),s.lanes=4194304)}else{if(!c)if(t=wo(b),t!==null){if(s.flags|=128,c=!0,a=t.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),ti(g,!0),g.tail===null&&g.tailMode==="hidden"&&!b.alternate&&!ze)return ft(s),null}else 2*qe()-g.renderingStartTime>ns&&a!==1073741824&&(s.flags|=128,c=!0,ti(g,!1),s.lanes=4194304);g.isBackwards?(b.sibling=s.child,s.child=b):(a=g.last,a!==null?a.sibling=b:s.child=b,g.last=b)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=qe(),s.sibling=null,a=Me.current,Ae(Me,c?a&1|2:a&1),s):(ft(s),null);case 22:case 23:return bu(),c=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(Rt&1073741824)!==0&&(ft(s),s.subtreeFlags&6&&(s.flags|=8192)):ft(s),null;case 24:return null;case 25:return null}throw Error(r(156,s.tag))}function sx(t,s){switch(Nl(s),s.tag){case 1:return St(s.type)&&lo(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Xr(),Le(kt),Le(dt),Ul(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 5:return $l(s),null;case 13:if(Le(Me),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Gr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Le(Me),null;case 4:return Xr(),null;case 10:return zl(s.type._context),null;case 22:case 23:return bu(),null;case 24:return null;default:return null}}var Po=!1,pt=!1,ix=typeof WeakSet=="function"?WeakSet:Set,X=null;function es(t,s){var a=t.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){Ue(t,s,c)}else a.current=null}function uu(t,s,a){try{a()}catch(c){Ue(t,s,c)}}var Df=!1;function ox(t,s){if(bl=Gi,t=ph(),fl(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var b=0,k=-1,P=-1,V=0,W=0,H=t,U=null;t:for(;;){for(var Q;H!==a||p!==0&&H.nodeType!==3||(k=b+p),H!==g||c!==0&&H.nodeType!==3||(P=b+c),H.nodeType===3&&(b+=H.nodeValue.length),(Q=H.firstChild)!==null;)U=H,H=Q;for(;;){if(H===t)break t;if(U===a&&++V===p&&(k=b),U===g&&++W===c&&(P=b),(Q=H.nextSibling)!==null)break;H=U,U=H.parentNode}H=Q}a=k===-1||P===-1?null:{start:k,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(_l={focusedElem:t,selectionRange:a},Gi=!1,X=s;X!==null;)if(s=X,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,X=t;else for(;X!==null;){s=X;try{var ee=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ee!==null){var te=ee.memoizedProps,Ke=ee.memoizedState,I=s.stateNode,O=I.getSnapshotBeforeUpdate(s.elementType===s.type?te:Yt(s.type,te),Ke);I.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var L=s.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(K){Ue(s,s.return,K)}if(t=s.sibling,t!==null){t.return=s.return,X=t;break}X=s.return}return ee=Df,Df=!1,ee}function ni(t,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var p=c=c.next;do{if((p.tag&t)===t){var g=p.destroy;p.destroy=void 0,g!==void 0&&uu(s,a,g)}p=p.next}while(p!==c)}}function No(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&t)===t){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function cu(t){var s=t.ref;if(s!==null){var a=t.stateNode;switch(t.tag){case 5:t=a;break;default:t=a}typeof s=="function"?s(t):s.current=t}}function Mf(t){var s=t.alternate;s!==null&&(t.alternate=null,Mf(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[on],delete s[Hs],delete s[El],delete s[Fy],delete s[Uy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Vf(t){return t.tag===5||t.tag===3||t.tag===4}function Bf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Vf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function du(t,s,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(t,s):a.insertBefore(t,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(t,a)):(s=a,s.appendChild(t)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=oo));else if(c!==4&&(t=t.child,t!==null))for(du(t,s,a),t=t.sibling;t!==null;)du(t,s,a),t=t.sibling}function hu(t,s,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(hu(t,s,a),t=t.sibling;t!==null;)hu(t,s,a),t=t.sibling}var at=null,Qt=!1;function Vn(t,s,a){for(a=a.child;a!==null;)$f(t,s,a),a=a.sibling}function $f(t,s,a){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Fi,a)}catch{}switch(a.tag){case 5:pt||es(a,s);case 6:var c=at,p=Qt;at=null,Vn(t,s,a),at=c,Qt=p,at!==null&&(Qt?(t=at,a=a.stateNode,t.nodeType===8?t.parentNode.removeChild(a):t.removeChild(a)):at.removeChild(a.stateNode));break;case 18:at!==null&&(Qt?(t=at,a=a.stateNode,t.nodeType===8?jl(t.parentNode,a):t.nodeType===1&&jl(t,a),Is(t)):jl(at,a.stateNode));break;case 4:c=at,p=Qt,at=a.stateNode.containerInfo,Qt=!0,Vn(t,s,a),at=c,Qt=p;break;case 0:case 11:case 14:case 15:if(!pt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){p=c=c.next;do{var g=p,b=g.destroy;g=g.tag,b!==void 0&&((g&2)!==0||(g&4)!==0)&&uu(a,s,b),p=p.next}while(p!==c)}Vn(t,s,a);break;case 1:if(!pt&&(es(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(k){Ue(a,s,k)}Vn(t,s,a);break;case 21:Vn(t,s,a);break;case 22:a.mode&1?(pt=(c=pt)||a.memoizedState!==null,Vn(t,s,a),pt=c):Vn(t,s,a);break;default:Vn(t,s,a)}}function Ff(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var a=t.stateNode;a===null&&(a=t.stateNode=new ix),s.forEach(function(c){var p=mx.bind(null,t,c);a.has(c)||(a.add(c),c.then(p,p))})}}function Xt(t,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var p=a[c];try{var g=t,b=s,k=b;e:for(;k!==null;){switch(k.tag){case 5:at=k.stateNode,Qt=!1;break e;case 3:at=k.stateNode.containerInfo,Qt=!0;break e;case 4:at=k.stateNode.containerInfo,Qt=!0;break e}k=k.return}if(at===null)throw Error(r(160));$f(g,b,p),at=null,Qt=!1;var P=p.alternate;P!==null&&(P.return=null),p.return=null}catch(V){Ue(p,s,V)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Uf(s,t),s=s.sibling}function Uf(t,s){var a=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xt(s,t),un(t),c&4){try{ni(3,t,t.return),No(3,t)}catch(te){Ue(t,t.return,te)}try{ni(5,t,t.return)}catch(te){Ue(t,t.return,te)}}break;case 1:Xt(s,t),un(t),c&512&&a!==null&&es(a,a.return);break;case 5:if(Xt(s,t),un(t),c&512&&a!==null&&es(a,a.return),t.flags&32){var p=t.stateNode;try{ks(p,"")}catch(te){Ue(t,t.return,te)}}if(c&4&&(p=t.stateNode,p!=null)){var g=t.memoizedProps,b=a!==null?a.memoizedProps:g,k=t.type,P=t.updateQueue;if(t.updateQueue=null,P!==null)try{k==="input"&&g.type==="radio"&&g.name!=null&&ot(p,g),Ua(k,b);var V=Ua(k,g);for(b=0;b<P.length;b+=2){var W=P[b],H=P[b+1];W==="style"?Sd(p,H):W==="dangerouslySetInnerHTML"?_d(p,H):W==="children"?ks(p,H):j(p,W,H,V)}switch(k){case"input":De(p,g);break;case"textarea":xd(p,g);break;case"select":var U=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!g.multiple;var Q=g.value;Q!=null?Rr(p,!!g.multiple,Q,!1):U!==!!g.multiple&&(g.defaultValue!=null?Rr(p,!!g.multiple,g.defaultValue,!0):Rr(p,!!g.multiple,g.multiple?[]:"",!1))}p[Hs]=g}catch(te){Ue(t,t.return,te)}}break;case 6:if(Xt(s,t),un(t),c&4){if(t.stateNode===null)throw Error(r(162));p=t.stateNode,g=t.memoizedProps;try{p.nodeValue=g}catch(te){Ue(t,t.return,te)}}break;case 3:if(Xt(s,t),un(t),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Is(s.containerInfo)}catch(te){Ue(t,t.return,te)}break;case 4:Xt(s,t),un(t);break;case 13:Xt(s,t),un(t),p=t.child,p.flags&8192&&(g=p.memoizedState!==null,p.stateNode.isHidden=g,!g||p.alternate!==null&&p.alternate.memoizedState!==null||(mu=qe())),c&4&&Ff(t);break;case 22:if(W=a!==null&&a.memoizedState!==null,t.mode&1?(pt=(V=pt)||W,Xt(s,t),pt=V):Xt(s,t),un(t),c&8192){if(V=t.memoizedState!==null,(t.stateNode.isHidden=V)&&!W&&(t.mode&1)!==0)for(X=t,W=t.child;W!==null;){for(H=X=W;X!==null;){switch(U=X,Q=U.child,U.tag){case 0:case 11:case 14:case 15:ni(4,U,U.return);break;case 1:es(U,U.return);var ee=U.stateNode;if(typeof ee.componentWillUnmount=="function"){c=U,a=U.return;try{s=c,ee.props=s.memoizedProps,ee.state=s.memoizedState,ee.componentWillUnmount()}catch(te){Ue(c,a,te)}}break;case 5:es(U,U.return);break;case 22:if(U.memoizedState!==null){qf(H);continue}}Q!==null?(Q.return=U,X=Q):qf(H)}W=W.sibling}e:for(W=null,H=t;;){if(H.tag===5){if(W===null){W=H;try{p=H.stateNode,V?(g=p.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(k=H.stateNode,P=H.memoizedProps.style,b=P!=null&&P.hasOwnProperty("display")?P.display:null,k.style.display=kd("display",b))}catch(te){Ue(t,t.return,te)}}}else if(H.tag===6){if(W===null)try{H.stateNode.nodeValue=V?"":H.memoizedProps}catch(te){Ue(t,t.return,te)}}else if((H.tag!==22&&H.tag!==23||H.memoizedState===null||H===t)&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===t)break e;for(;H.sibling===null;){if(H.return===null||H.return===t)break e;W===H&&(W=null),H=H.return}W===H&&(W=null),H.sibling.return=H.return,H=H.sibling}}break;case 19:Xt(s,t),un(t),c&4&&Ff(t);break;case 21:break;default:Xt(s,t),un(t)}}function un(t){var s=t.flags;if(s&2){try{e:{for(var a=t.return;a!==null;){if(Vf(a)){var c=a;break e}a=a.return}throw Error(r(160))}switch(c.tag){case 5:var p=c.stateNode;c.flags&32&&(ks(p,""),c.flags&=-33);var g=Bf(t);hu(t,g,p);break;case 3:case 4:var b=c.stateNode.containerInfo,k=Bf(t);du(t,k,b);break;default:throw Error(r(161))}}catch(P){Ue(t,t.return,P)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function ax(t,s,a){X=t,Wf(t)}function Wf(t,s,a){for(var c=(t.mode&1)!==0;X!==null;){var p=X,g=p.child;if(p.tag===22&&c){var b=p.memoizedState!==null||Po;if(!b){var k=p.alternate,P=k!==null&&k.memoizedState!==null||pt;k=Po;var V=pt;if(Po=b,(pt=P)&&!V)for(X=p;X!==null;)b=X,P=b.child,b.tag===22&&b.memoizedState!==null?Kf(p):P!==null?(P.return=b,X=P):Kf(p);for(;g!==null;)X=g,Wf(g),g=g.sibling;X=p,Po=k,pt=V}Hf(t)}else(p.subtreeFlags&8772)!==0&&g!==null?(g.return=p,X=g):Hf(t)}}function Hf(t){for(;X!==null;){var s=X;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:pt||No(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!pt)if(a===null)c.componentDidMount();else{var p=s.elementType===s.type?a.memoizedProps:Yt(s.type,a.memoizedProps);c.componentDidUpdate(p,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Hh(s,g,c);break;case 3:var b=s.updateQueue;if(b!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Hh(s,b,a)}break;case 5:var k=s.stateNode;if(a===null&&s.flags&4){a=k;var P=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&a.focus();break;case"img":P.src&&(a.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var V=s.alternate;if(V!==null){var W=V.memoizedState;if(W!==null){var H=W.dehydrated;H!==null&&Is(H)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}pt||s.flags&512&&cu(s)}catch(U){Ue(s,s.return,U)}}if(s===t){X=null;break}if(a=s.sibling,a!==null){a.return=s.return,X=a;break}X=s.return}}function qf(t){for(;X!==null;){var s=X;if(s===t){X=null;break}var a=s.sibling;if(a!==null){a.return=s.return,X=a;break}X=s.return}}function Kf(t){for(;X!==null;){var s=X;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{No(4,s)}catch(P){Ue(s,a,P)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var p=s.return;try{c.componentDidMount()}catch(P){Ue(s,p,P)}}var g=s.return;try{cu(s)}catch(P){Ue(s,g,P)}break;case 5:var b=s.return;try{cu(s)}catch(P){Ue(s,b,P)}}}catch(P){Ue(s,s.return,P)}if(s===t){X=null;break}var k=s.sibling;if(k!==null){k.return=s.return,X=k;break}X=s.return}}var lx=Math.ceil,Oo=R.ReactCurrentDispatcher,fu=R.ReactCurrentOwner,Ut=R.ReactCurrentBatchConfig,je=0,st=null,Qe=null,lt=0,Rt=0,ts=In(0),tt=0,ri=null,cr=0,Ao=0,pu=0,si=null,Et=null,mu=0,ns=1/0,xn=null,Ro=!1,gu=null,Bn=null,Io=!1,$n=null,Lo=0,ii=0,vu=null,zo=-1,Do=0;function wt(){return(je&6)!==0?qe():zo!==-1?zo:zo=qe()}function Fn(t){return(t.mode&1)===0?1:(je&2)!==0&&lt!==0?lt&-lt:Hy.transition!==null?(Do===0&&(Do=Vd()),Do):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:Gd(t.type)),t)}function Zt(t,s,a,c){if(50<ii)throw ii=0,vu=null,Error(r(185));Ps(t,a,c),((je&2)===0||t!==st)&&(t===st&&((je&2)===0&&(Ao|=a),tt===4&&Un(t,lt)),Ct(t,c),a===1&&je===0&&(s.mode&1)===0&&(ns=qe()+500,co&&zn()))}function Ct(t,s){var a=t.callbackNode;Hv(t,s);var c=Hi(t,t===st?lt:0);if(c===0)a!==null&&zd(a),t.callbackNode=null,t.callbackPriority=0;else if(s=c&-c,t.callbackPriority!==s){if(a!=null&&zd(a),s===1)t.tag===0?Wy(Jf.bind(null,t)):Rh(Jf.bind(null,t)),By(function(){(je&6)===0&&zn()}),a=null;else{switch(Bd(c)){case 1:a=Ya;break;case 4:a=Dd;break;case 16:a=$i;break;case 536870912:a=Md;break;default:a=$i}a=rp(a,Gf.bind(null,t))}t.callbackPriority=s,t.callbackNode=a}}function Gf(t,s){if(zo=-1,Do=0,(je&6)!==0)throw Error(r(327));var a=t.callbackNode;if(rs()&&t.callbackNode!==a)return null;var c=Hi(t,t===st?lt:0);if(c===0)return null;if((c&30)!==0||(c&t.expiredLanes)!==0||s)s=Mo(t,c);else{s=c;var p=je;je|=2;var g=Qf();(st!==t||lt!==s)&&(xn=null,ns=qe()+500,hr(t,s));do try{dx();break}catch(k){Yf(t,k)}while(!0);Ll(),Oo.current=g,je=p,Qe!==null?s=0:(st=null,lt=0,s=tt)}if(s!==0){if(s===2&&(p=Qa(t),p!==0&&(c=p,s=yu(t,p))),s===1)throw a=ri,hr(t,0),Un(t,c),Ct(t,qe()),a;if(s===6)Un(t,c);else{if(p=t.current.alternate,(c&30)===0&&!ux(p)&&(s=Mo(t,c),s===2&&(g=Qa(t),g!==0&&(c=g,s=yu(t,g))),s===1))throw a=ri,hr(t,0),Un(t,c),Ct(t,qe()),a;switch(t.finishedWork=p,t.finishedLanes=c,s){case 0:case 1:throw Error(r(345));case 2:fr(t,Et,xn);break;case 3:if(Un(t,c),(c&130023424)===c&&(s=mu+500-qe(),10<s)){if(Hi(t,0)!==0)break;if(p=t.suspendedLanes,(p&c)!==c){wt(),t.pingedLanes|=t.suspendedLanes&p;break}t.timeoutHandle=Sl(fr.bind(null,t,Et,xn),s);break}fr(t,Et,xn);break;case 4:if(Un(t,c),(c&4194240)===c)break;for(s=t.eventTimes,p=-1;0<c;){var b=31-Kt(c);g=1<<b,b=s[b],b>p&&(p=b),c&=~g}if(c=p,c=qe()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*lx(c/1960))-c,10<c){t.timeoutHandle=Sl(fr.bind(null,t,Et,xn),c);break}fr(t,Et,xn);break;case 5:fr(t,Et,xn);break;default:throw Error(r(329))}}}return Ct(t,qe()),t.callbackNode===a?Gf.bind(null,t):null}function yu(t,s){var a=si;return t.current.memoizedState.isDehydrated&&(hr(t,s).flags|=256),t=Mo(t,s),t!==2&&(s=Et,Et=a,s!==null&&xu(s)),t}function xu(t){Et===null?Et=t:Et.push.apply(Et,t)}function ux(t){for(var s=t;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var p=a[c],g=p.getSnapshot;p=p.value;try{if(!Gt(g(),p))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Un(t,s){for(s&=~pu,s&=~Ao,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var a=31-Kt(s),c=1<<a;t[a]=-1,s&=~c}}function Jf(t){if((je&6)!==0)throw Error(r(327));rs();var s=Hi(t,0);if((s&1)===0)return Ct(t,qe()),null;var a=Mo(t,s);if(t.tag!==0&&a===2){var c=Qa(t);c!==0&&(s=c,a=yu(t,c))}if(a===1)throw a=ri,hr(t,0),Un(t,s),Ct(t,qe()),a;if(a===6)throw Error(r(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,fr(t,Et,xn),Ct(t,qe()),null}function wu(t,s){var a=je;je|=1;try{return t(s)}finally{je=a,je===0&&(ns=qe()+500,co&&zn())}}function dr(t){$n!==null&&$n.tag===0&&(je&6)===0&&rs();var s=je;je|=1;var a=Ut.transition,c=Pe;try{if(Ut.transition=null,Pe=1,t)return t()}finally{Pe=c,Ut.transition=a,je=s,(je&6)===0&&zn()}}function bu(){Rt=ts.current,Le(ts)}function hr(t,s){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;if(a!==-1&&(t.timeoutHandle=-1,Vy(a)),Qe!==null)for(a=Qe.return;a!==null;){var c=a;switch(Nl(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&lo();break;case 3:Xr(),Le(kt),Le(dt),Ul();break;case 5:$l(c);break;case 4:Xr();break;case 13:Le(Me);break;case 19:Le(Me);break;case 10:zl(c.type._context);break;case 22:case 23:bu()}a=a.return}if(st=t,Qe=t=Wn(t.current,null),lt=Rt=s,tt=0,ri=null,pu=Ao=cr=0,Et=si=null,ar!==null){for(s=0;s<ar.length;s++)if(a=ar[s],c=a.interleaved,c!==null){a.interleaved=null;var p=c.next,g=a.pending;if(g!==null){var b=g.next;g.next=p,c.next=b}a.pending=c}ar=null}return t}function Yf(t,s){do{var a=Qe;try{if(Ll(),bo.current=jo,_o){for(var c=Ve.memoizedState;c!==null;){var p=c.queue;p!==null&&(p.pending=null),c=c.next}_o=!1}if(ur=0,rt=et=Ve=null,Qs=!1,Xs=0,fu.current=null,a===null||a.return===null){tt=1,ri=s,Qe=null;break}e:{var g=t,b=a.return,k=a,P=s;if(s=lt,k.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var V=P,W=k,H=W.tag;if((W.mode&1)===0&&(H===0||H===11||H===15)){var U=W.alternate;U?(W.updateQueue=U.updateQueue,W.memoizedState=U.memoizedState,W.lanes=U.lanes):(W.updateQueue=null,W.memoizedState=null)}var Q=bf(b);if(Q!==null){Q.flags&=-257,_f(Q,b,k,g,s),Q.mode&1&&wf(g,V,s),s=Q,P=V;var ee=s.updateQueue;if(ee===null){var te=new Set;te.add(P),s.updateQueue=te}else ee.add(P);break e}else{if((s&1)===0){wf(g,V,s),_u();break e}P=Error(r(426))}}else if(ze&&k.mode&1){var Ke=bf(b);if(Ke!==null){(Ke.flags&65536)===0&&(Ke.flags|=256),_f(Ke,b,k,g,s),Rl(Zr(P,k));break e}}g=P=Zr(P,k),tt!==4&&(tt=2),si===null?si=[g]:si.push(g),g=b;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var I=yf(g,P,s);Wh(g,I);break e;case 1:k=P;var O=g.type,L=g.stateNode;if((g.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(Bn===null||!Bn.has(L)))){g.flags|=65536,s&=-s,g.lanes|=s;var K=xf(g,k,s);Wh(g,K);break e}}g=g.return}while(g!==null)}Zf(a)}catch(re){s=re,Qe===a&&a!==null&&(Qe=a=a.return);continue}break}while(!0)}function Qf(){var t=Oo.current;return Oo.current=jo,t===null?jo:t}function _u(){(tt===0||tt===3||tt===2)&&(tt=4),st===null||(cr&268435455)===0&&(Ao&268435455)===0||Un(st,lt)}function Mo(t,s){var a=je;je|=2;var c=Qf();(st!==t||lt!==s)&&(xn=null,hr(t,s));do try{cx();break}catch(p){Yf(t,p)}while(!0);if(Ll(),je=a,Oo.current=c,Qe!==null)throw Error(r(261));return st=null,lt=0,tt}function cx(){for(;Qe!==null;)Xf(Qe)}function dx(){for(;Qe!==null&&!zv();)Xf(Qe)}function Xf(t){var s=np(t.alternate,t,Rt);t.memoizedProps=t.pendingProps,s===null?Zf(t):Qe=s,fu.current=null}function Zf(t){var s=t;do{var a=s.alternate;if(t=s.return,(s.flags&32768)===0){if(a=rx(a,s,Rt),a!==null){Qe=a;return}}else{if(a=sx(a,s),a!==null){a.flags&=32767,Qe=a;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{tt=6,Qe=null;return}}if(s=s.sibling,s!==null){Qe=s;return}Qe=s=t}while(s!==null);tt===0&&(tt=5)}function fr(t,s,a){var c=Pe,p=Ut.transition;try{Ut.transition=null,Pe=1,hx(t,s,a,c)}finally{Ut.transition=p,Pe=c}return null}function hx(t,s,a,c){do rs();while($n!==null);if((je&6)!==0)throw Error(r(327));a=t.finishedWork;var p=t.finishedLanes;if(a===null)return null;if(t.finishedWork=null,t.finishedLanes=0,a===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0;var g=a.lanes|a.childLanes;if(qv(t,g),t===st&&(Qe=st=null,lt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Io||(Io=!0,rp($i,function(){return rs(),null})),g=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||g){g=Ut.transition,Ut.transition=null;var b=Pe;Pe=1;var k=je;je|=4,fu.current=null,ox(t,a),Uf(a,t),Ay(_l),Gi=!!bl,_l=bl=null,t.current=a,ax(a),Dv(),je=k,Pe=b,Ut.transition=g}else t.current=a;if(Io&&(Io=!1,$n=t,Lo=p),g=t.pendingLanes,g===0&&(Bn=null),Bv(a.stateNode),Ct(t,qe()),s!==null)for(c=t.onRecoverableError,a=0;a<s.length;a++)p=s[a],c(p.value,{componentStack:p.stack,digest:p.digest});if(Ro)throw Ro=!1,t=gu,gu=null,t;return(Lo&1)!==0&&t.tag!==0&&rs(),g=t.pendingLanes,(g&1)!==0?t===vu?ii++:(ii=0,vu=t):ii=0,zn(),null}function rs(){if($n!==null){var t=Bd(Lo),s=Ut.transition,a=Pe;try{if(Ut.transition=null,Pe=16>t?16:t,$n===null)var c=!1;else{if(t=$n,$n=null,Lo=0,(je&6)!==0)throw Error(r(331));var p=je;for(je|=4,X=t.current;X!==null;){var g=X,b=g.child;if((X.flags&16)!==0){var k=g.deletions;if(k!==null){for(var P=0;P<k.length;P++){var V=k[P];for(X=V;X!==null;){var W=X;switch(W.tag){case 0:case 11:case 15:ni(8,W,g)}var H=W.child;if(H!==null)H.return=W,X=H;else for(;X!==null;){W=X;var U=W.sibling,Q=W.return;if(Mf(W),W===V){X=null;break}if(U!==null){U.return=Q,X=U;break}X=Q}}}var ee=g.alternate;if(ee!==null){var te=ee.child;if(te!==null){ee.child=null;do{var Ke=te.sibling;te.sibling=null,te=Ke}while(te!==null)}}X=g}}if((g.subtreeFlags&2064)!==0&&b!==null)b.return=g,X=b;else e:for(;X!==null;){if(g=X,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:ni(9,g,g.return)}var I=g.sibling;if(I!==null){I.return=g.return,X=I;break e}X=g.return}}var O=t.current;for(X=O;X!==null;){b=X;var L=b.child;if((b.subtreeFlags&2064)!==0&&L!==null)L.return=b,X=L;else e:for(b=O;X!==null;){if(k=X,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:No(9,k)}}catch(re){Ue(k,k.return,re)}if(k===b){X=null;break e}var K=k.sibling;if(K!==null){K.return=k.return,X=K;break e}X=k.return}}if(je=p,zn(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Fi,t)}catch{}c=!0}return c}finally{Pe=a,Ut.transition=s}}return!1}function ep(t,s,a){s=Zr(a,s),s=yf(t,s,1),t=Mn(t,s,1),s=wt(),t!==null&&(Ps(t,1,s),Ct(t,s))}function Ue(t,s,a){if(t.tag===3)ep(t,t,a);else for(;s!==null;){if(s.tag===3){ep(s,t,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Bn===null||!Bn.has(c))){t=Zr(a,t),t=xf(s,t,1),s=Mn(s,t,1),t=wt(),s!==null&&(Ps(s,1,t),Ct(s,t));break}}s=s.return}}function fx(t,s,a){var c=t.pingCache;c!==null&&c.delete(s),s=wt(),t.pingedLanes|=t.suspendedLanes&a,st===t&&(lt&a)===a&&(tt===4||tt===3&&(lt&130023424)===lt&&500>qe()-mu?hr(t,0):pu|=a),Ct(t,s)}function tp(t,s){s===0&&((t.mode&1)===0?s=1:(s=Wi,Wi<<=1,(Wi&130023424)===0&&(Wi=4194304)));var a=wt();t=gn(t,s),t!==null&&(Ps(t,s,a),Ct(t,a))}function px(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),tp(t,a)}function mx(t,s){var a=0;switch(t.tag){case 13:var c=t.stateNode,p=t.memoizedState;p!==null&&(a=p.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(r(314))}c!==null&&c.delete(s),tp(t,a)}var np;np=function(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps||kt.current)jt=!0;else{if((t.lanes&a)===0&&(s.flags&128)===0)return jt=!1,nx(t,s,a);jt=(t.flags&131072)!==0}else jt=!1,ze&&(s.flags&1048576)!==0&&Ih(s,fo,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;To(t,s),t=s.pendingProps;var p=Hr(s,dt.current);Qr(s,a),p=ql(null,s,c,t,p,a);var g=Kl();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,St(c)?(g=!0,uo(s)):g=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Vl(s),p.updater=Eo,s.stateNode=p,p._reactInternals=s,Zl(s,c,t,a),s=ru(null,s,c,!0,g,a)):(s.tag=0,ze&&g&&Pl(s),xt(null,s,p,a),s=s.child),s;case 16:c=s.elementType;e:{switch(To(t,s),t=s.pendingProps,p=c._init,c=p(c._payload),s.type=c,p=s.tag=vx(c),t=Yt(c,t),p){case 0:s=nu(null,s,c,t,a);break e;case 1:s=Tf(null,s,c,t,a);break e;case 11:s=kf(null,s,c,t,a);break e;case 14:s=Sf(null,s,c,Yt(c.type,t),a);break e}throw Error(r(306,c,""))}return s;case 0:return c=s.type,p=s.pendingProps,p=s.elementType===c?p:Yt(c,p),nu(t,s,c,p,a);case 1:return c=s.type,p=s.pendingProps,p=s.elementType===c?p:Yt(c,p),Tf(t,s,c,p,a);case 3:e:{if(Pf(s),t===null)throw Error(r(387));c=s.pendingProps,g=s.memoizedState,p=g.element,Uh(t,s),xo(s,c,null,a);var b=s.memoizedState;if(c=b.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){p=Zr(Error(r(423)),s),s=Nf(t,s,c,a,p);break e}else if(c!==p){p=Zr(Error(r(424)),s),s=Nf(t,s,c,a,p);break e}else for(At=Rn(s.stateNode.containerInfo.firstChild),Ot=s,ze=!0,Jt=null,a=$h(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Gr(),c===p){s=yn(t,s,a);break e}xt(t,s,c,a)}s=s.child}return s;case 5:return qh(s),t===null&&Al(s),c=s.type,p=s.pendingProps,g=t!==null?t.memoizedProps:null,b=p.children,kl(c,p)?b=null:g!==null&&kl(c,g)&&(s.flags|=32),Cf(t,s),xt(t,s,b,a),s.child;case 6:return t===null&&Al(s),null;case 13:return Of(t,s,a);case 4:return Bl(s,s.stateNode.containerInfo),c=s.pendingProps,t===null?s.child=Jr(s,null,c,a):xt(t,s,c,a),s.child;case 11:return c=s.type,p=s.pendingProps,p=s.elementType===c?p:Yt(c,p),kf(t,s,c,p,a);case 7:return xt(t,s,s.pendingProps,a),s.child;case 8:return xt(t,s,s.pendingProps.children,a),s.child;case 12:return xt(t,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,p=s.pendingProps,g=s.memoizedProps,b=p.value,Ae(go,c._currentValue),c._currentValue=b,g!==null)if(Gt(g.value,b)){if(g.children===p.children&&!kt.current){s=yn(t,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var k=g.dependencies;if(k!==null){b=g.child;for(var P=k.firstContext;P!==null;){if(P.context===c){if(g.tag===1){P=vn(-1,a&-a),P.tag=2;var V=g.updateQueue;if(V!==null){V=V.shared;var W=V.pending;W===null?P.next=P:(P.next=W.next,W.next=P),V.pending=P}}g.lanes|=a,P=g.alternate,P!==null&&(P.lanes|=a),Dl(g.return,a,s),k.lanes|=a;break}P=P.next}}else if(g.tag===10)b=g.type===s.type?null:g.child;else if(g.tag===18){if(b=g.return,b===null)throw Error(r(341));b.lanes|=a,k=b.alternate,k!==null&&(k.lanes|=a),Dl(b,a,s),b=g.sibling}else b=g.child;if(b!==null)b.return=g;else for(b=g;b!==null;){if(b===s){b=null;break}if(g=b.sibling,g!==null){g.return=b.return,b=g;break}b=b.return}g=b}xt(t,s,p.children,a),s=s.child}return s;case 9:return p=s.type,c=s.pendingProps.children,Qr(s,a),p=$t(p),c=c(p),s.flags|=1,xt(t,s,c,a),s.child;case 14:return c=s.type,p=Yt(c,s.pendingProps),p=Yt(c.type,p),Sf(t,s,c,p,a);case 15:return jf(t,s,s.type,s.pendingProps,a);case 17:return c=s.type,p=s.pendingProps,p=s.elementType===c?p:Yt(c,p),To(t,s),s.tag=1,St(c)?(t=!0,uo(s)):t=!1,Qr(s,a),gf(s,c,p),Zl(s,c,p,a),ru(null,s,c,!0,t,a);case 19:return Rf(t,s,a);case 22:return Ef(t,s,a)}throw Error(r(156,s.tag))};function rp(t,s){return Ld(t,s)}function gx(t,s,a,c){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(t,s,a,c){return new gx(t,s,a,c)}function ku(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vx(t){if(typeof t=="function")return ku(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ne)return 11;if(t===Fe)return 14}return 2}function Wn(t,s){var a=t.alternate;return a===null?(a=Wt(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&14680064,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a}function Vo(t,s,a,c,p,g){var b=2;if(c=t,typeof t=="function")ku(t)&&(b=1);else if(typeof t=="string")b=5;else e:switch(t){case C:return pr(a.children,p,g,s);case A:b=8,p|=8;break;case D:return t=Wt(12,a,s,p|2),t.elementType=D,t.lanes=g,t;case le:return t=Wt(13,a,s,p),t.elementType=le,t.lanes=g,t;case me:return t=Wt(19,a,s,p),t.elementType=me,t.lanes=g,t;case be:return Bo(a,p,g,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case B:b=10;break e;case J:b=9;break e;case ne:b=11;break e;case Fe:b=14;break e;case xe:b=16,c=null;break e}throw Error(r(130,t==null?t:typeof t,""))}return s=Wt(b,a,s,p),s.elementType=t,s.type=c,s.lanes=g,s}function pr(t,s,a,c){return t=Wt(7,t,c,s),t.lanes=a,t}function Bo(t,s,a,c){return t=Wt(22,t,c,s),t.elementType=be,t.lanes=a,t.stateNode={isHidden:!1},t}function Su(t,s,a){return t=Wt(6,t,null,s),t.lanes=a,t}function ju(t,s,a){return s=Wt(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function yx(t,s,a,c,p){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xa(0),this.expirationTimes=Xa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xa(0),this.identifierPrefix=c,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Eu(t,s,a,c,p,g,b,k,P){return t=new yx(t,s,a,k,P),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Wt(3,null,null,s),t.current=g,g.stateNode=t,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vl(g),t}function xx(t,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:c==null?null:""+c,children:t,containerInfo:s,implementation:a}}function sp(t){if(!t)return Ln;t=t._reactInternals;e:{if(nr(t)!==t||t.tag!==1)throw Error(r(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(St(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(r(171))}if(t.tag===1){var a=t.type;if(St(a))return Oh(t,a,s)}return s}function ip(t,s,a,c,p,g,b,k,P){return t=Eu(a,c,!0,t,p,g,b,k,P),t.context=sp(null),a=t.current,c=wt(),p=Fn(a),g=vn(c,p),g.callback=s??null,Mn(a,g,p),t.current.lanes=p,Ps(t,p,c),Ct(t,c),t}function $o(t,s,a,c){var p=s.current,g=wt(),b=Fn(p);return a=sp(a),s.context===null?s.context=a:s.pendingContext=a,s=vn(g,b),s.payload={element:t},c=c===void 0?null:c,c!==null&&(s.callback=c),t=Mn(p,s,b),t!==null&&(Zt(t,p,b,g),yo(t,p,b)),b}function Fo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function op(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function Cu(t,s){op(t,s),(t=t.alternate)&&op(t,s)}function wx(){return null}var ap=typeof reportError=="function"?reportError:function(t){console.error(t)};function Tu(t){this._internalRoot=t}Uo.prototype.render=Tu.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(r(409));$o(t,s,null,null)},Uo.prototype.unmount=Tu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;dr(function(){$o(null,t,null,null)}),s[hn]=null}};function Uo(t){this._internalRoot=t}Uo.prototype.unstable_scheduleHydration=function(t){if(t){var s=Ud();t={blockedOn:null,target:t,priority:s};for(var a=0;a<Nn.length&&s!==0&&s<Nn[a].priority;a++);Nn.splice(a,0,t),a===0&&qd(t)}};function Pu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function lp(){}function bx(t,s,a,c,p){if(p){if(typeof c=="function"){var g=c;c=function(){var V=Fo(b);g.call(V)}}var b=ip(s,c,t,0,null,!1,!1,"",lp);return t._reactRootContainer=b,t[hn]=b.current,Us(t.nodeType===8?t.parentNode:t),dr(),b}for(;p=t.lastChild;)t.removeChild(p);if(typeof c=="function"){var k=c;c=function(){var V=Fo(P);k.call(V)}}var P=Eu(t,0,!1,null,null,!1,!1,"",lp);return t._reactRootContainer=P,t[hn]=P.current,Us(t.nodeType===8?t.parentNode:t),dr(function(){$o(s,P,a,c)}),P}function Ho(t,s,a,c,p){var g=a._reactRootContainer;if(g){var b=g;if(typeof p=="function"){var k=p;p=function(){var P=Fo(b);k.call(P)}}$o(s,b,t,p)}else b=bx(a,s,t,p,c);return Fo(b)}$d=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var a=Ts(s.pendingLanes);a!==0&&(Za(s,a|1),Ct(s,qe()),(je&6)===0&&(ns=qe()+500,zn()))}break;case 13:dr(function(){var c=gn(t,1);if(c!==null){var p=wt();Zt(c,t,1,p)}}),Cu(t,1)}},el=function(t){if(t.tag===13){var s=gn(t,134217728);if(s!==null){var a=wt();Zt(s,t,134217728,a)}Cu(t,134217728)}},Fd=function(t){if(t.tag===13){var s=Fn(t),a=gn(t,s);if(a!==null){var c=wt();Zt(a,t,s,c)}Cu(t,s)}},Ud=function(){return Pe},Wd=function(t,s){var a=Pe;try{return Pe=t,s()}finally{Pe=a}},qa=function(t,s,a){switch(s){case"input":if(De(t,a),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==t&&c.form===t.form){var p=ao(c);if(!p)throw Error(r(90));pe(c),De(c,p)}}}break;case"textarea":xd(t,a);break;case"select":s=a.value,s!=null&&Rr(t,!!a.multiple,s,!1)}},Td=wu,Pd=dr;var _x={usingClientEntryPoint:!1,Events:[qs,Ur,ao,Ed,Cd,wu]},oi={findFiberByHostInstance:rr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kx={bundleType:oi.bundleType,version:oi.version,rendererPackageName:oi.rendererPackageName,rendererConfig:oi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Rd(t),t===null?null:t.stateNode},findFiberByHostInstance:oi.findFiberByHostInstance||wx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qo.isDisabled&&qo.supportsFiber)try{Fi=qo.inject(kx),sn=qo}catch{}}return Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_x,Tt.createPortal=function(t,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pu(s))throw Error(r(200));return xx(t,s,null,a)},Tt.createRoot=function(t,s){if(!Pu(t))throw Error(r(299));var a=!1,c="",p=ap;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=Eu(t,1,!1,null,null,a,!1,c,p),t[hn]=s.current,Us(t.nodeType===8?t.parentNode:t),new Tu(s)},Tt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=Rd(s),t=t===null?null:t.stateNode,t},Tt.flushSync=function(t){return dr(t)},Tt.hydrate=function(t,s,a){if(!Wo(s))throw Error(r(200));return Ho(null,t,s,!0,a)},Tt.hydrateRoot=function(t,s,a){if(!Pu(t))throw Error(r(405));var c=a!=null&&a.hydratedSources||null,p=!1,g="",b=ap;if(a!=null&&(a.unstable_strictMode===!0&&(p=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(b=a.onRecoverableError)),s=ip(s,null,t,1,a??null,p,!1,g,b),t[hn]=s.current,Us(t),c)for(t=0;t<c.length;t++)a=c[t],p=a._getVersion,p=p(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,p]:s.mutableSourceEagerHydrationData.push(a,p);return new Uo(s)},Tt.render=function(t,s,a){if(!Wo(s))throw Error(r(200));return Ho(null,t,s,!1,a)},Tt.unmountComponentAtNode=function(t){if(!Wo(t))throw Error(r(40));return t._reactRootContainer?(dr(function(){Ho(null,null,t,!1,function(){t._reactRootContainer=null,t[hn]=null})}),!0):!1},Tt.unstable_batchedUpdates=wu,Tt.unstable_renderSubtreeIntoContainer=function(t,s,a,c){if(!Wo(a))throw Error(r(200));if(t==null||t._reactInternals===void 0)throw Error(r(38));return Ho(t,s,a,!1,c)},Tt.version="18.3.1-next-f1338f8080-20240426",Tt}var gp;function Rx(){if(gp)return Au.exports;gp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Au.exports=Ax(),Au.exports}var vp;function Ix(){if(vp)return Ko;vp=1;var n=Rx();return Ko.createRoot=n.createRoot,Ko.hydrateRoot=n.hydrateRoot,Ko}var Lx=Ix();const zx=zc(Lx),Dx="/assets/dark-theme-DabIe8jr.css",Mx="/assets/gaming-theme-Cz1jYxMu.css",Vx="/assets/medieval-theme-_FftS1s2.css",Bx="/assets/rock-metal-theme-BzUe2cyQ.css",$x="/assets/110237-textura-negro-fila-monocromo-luz-2560x1440-B7mxV_zx.jpg",Fx="/assets/de97792143941f91556fe8e7873fd407-6-8723KJ.gif",Ux="/assets/smooth-3d-with-horizontal-rectangular-outcroppings-a-white-abstract-texture-powerpoint-background_0322f229b8__960_540-jITe9P5G.avif",Wx="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20640%20640'%3e%3c!--!Font%20Awesome%20Free%207.1.0%20by%20@fontawesome%20-%20https://fontawesome.com%20License%20-%20https://fontawesome.com/license/free%20Copyright%202025%20Fonticons,%20Inc.--%3e%3cpath%20d='M582.8%20305L532.7%20218.2C533.8%20216.1%20534.6%20213.6%20534.6%20211C534.6%20203%20527.9%20196.3%20519.9%20196L464.4%20100.1C464.9%2098.5%20465.5%2096.9%20465.5%2095.3C465.5%2086.7%20458.5%2080%20450.2%2080C445.4%2080%20441.4%2082.1%20438.4%2085.6L331.8%2085.6C329.1%2082.1%20325.1%2080%20320.3%2080C315.5%2080%20311.5%2082.1%20308.8%2085.6L202.7%2085.6C199.8%2082.1%20195.7%2080%20190.9%2080C182.6%2080%20175.6%2086.7%20175.6%2095.3C175.6%2096.9%20176.1%2098.8%20176.7%20100.1L120.7%20197.3C115.3%20199.7%20111.6%20204.8%20111.6%20211C111.6%20211.5%20111.9%20212.1%20111.9%20212.6L58.6%20304.7C51.4%20306%2046%20312.2%2046%20319.7C46%20326.9%2051.1%20333.1%2058.1%20334.7L113.3%20430.1C112.8%20431.7%20112.5%20433%20112.5%20434.9C112.5%20442.1%20117.6%20448.3%20124.6%20449.6L176.3%20539.3C175.8%20540.9%20175.2%20542.8%20175.2%20544.7C175.2%20553.3%20182.2%20560%20190.5%20560C195.3%20560%20199.3%20557.9%20202%20554.6L308.9%20554.6C311.6%20557.8%20315.9%20560%20320.4%20560C324.9%20560%20329.2%20557.9%20331.9%20554.6L439%20554.6C441.7%20557.5%20445.7%20559.4%20450%20559.4C458.6%20559.4%20465.3%20552.4%20465.3%20544.1C465.3%20542.5%20465%20541.2%20464.5%20539.8L516.2%20449.5C523.2%20448.2%20528.3%20442%20528.3%20434.8C528.3%20433.2%20528%20431.6%20527.5%20430L582.4%20334.6C589.4%20333.3%20594.7%20327.1%20594.7%20319.6C594.7%20312.4%20589.6%20306.2%20582.9%20304.9zM185.8%20514.7L142.1%20438.9L185.8%20438.9L185.8%20514.7zM185.8%20430.9L142.1%20430.9C141.8%20429.8%20141.3%20428.8%20140.8%20427.7L185.8%20380.3L185.8%20430.9zM185.8%20368.5L135.4%20421.8C134.1%20421.3%20132.7%20420.5%20131.4%20420.2L75.7%20323.8C76.2%20322.5%2076.2%20321.1%2076.2%20319.8C76.2%20318.5%2076.2%20317.4%2075.9%20316.3L127.9%20226.3C130.6%20226%20133.3%20225.2%20135.7%20223.6L185.8%20275.6L185.8%20368.5zM185.8%20266.2L140%20218.8C141.3%20216.7%20142.1%20214%20142.1%20211C142.1%20210.7%20141.8%20210.2%20141.8%20209.9L185.7%20194.1L185.7%20266.2zM185.8%20185.6L142.1%20201.4L185.8%20125.9L185.8%20185.6zM512.3%20224.7L513.1%20226L477.7%20393.1L413.9%20325.9L511.9%20224.4L512.2%20224.7zM324.1%20419.1L335.6%20430.9L312.8%20430.9L324.1%20419.1zM323.8%20407.8L240.5%20322.4L320.1%20238L403.1%20325.6L323.8%20407.8zM329.2%20413.7L408.5%20331.5L476%20402.8L470.1%20430.9L346.1%20430.9L329.2%20413.8zM442.7%20108.4C443.8%20108.9%20444.8%20109.5%20446.2%20109.7L504.1%20210.4L504.1%20210.9C504.1%20213.8%20504.9%20216.5%20506.2%20218.7L408.7%20319.9L325.7%20232.3L442.8%20108.3zM433.6%20106.3L320%20226.6L262.9%20166.3L429.2%20106.3L433.5%20106.3zM310.1%20106.3C312.8%20109%20316.3%20110.6%20320.3%20110.6C324.3%20110.6%20327.8%20109%20330.5%20106.3L405.5%20106.3L257.1%20159.9L206.2%20106.3L310.1%20106.3zM193.9%20111.9L195%20109.8C195.9%20109.6%20196.8%20109.3%20197.7%20109L248.9%20162.8L194%20182.6L194%20111.9zM193.9%20191.2L254.7%20169.2L314.4%20232.4L234.8%20316.5L193.8%20274.4L193.8%20191.1zM193.9%20283.9L230.3%20321.7L193.9%20360L193.9%20283.9zM193.9%20371.8L236%20327.3L318.8%20413.3L301.7%20431L194%20431L194%20371.8zM200.9%20533.9C199.3%20532.3%20197.4%20531.2%20195%20530.4L193.9%20528.8L193.9%20439.1L293.8%20439.1L202.2%20533.9L200.9%20533.9zM330.8%20533.9C328.1%20531.5%20324.4%20529.6%20320.4%20529.6C316.4%20529.6%20312.6%20531.5%20310%20533.9L213.6%20533.9L305.2%20439.1L343.5%20439.1L435.1%20533.9L330.9%20533.9zM450.8%20522.1L446.5%20529.6C445.2%20529.9%20444.1%20530.4%20443%20530.9L353.8%20439L468.2%20439L450.8%20522zM463.7%20499.9L476.6%20439.1L498.6%20439.1L463.8%20499.9zM498.5%20431.1L478.1%20431.1L482.7%20409.9L499.8%20428.1C499.3%20428.9%20498.7%20430%20498.5%20431zM564.7%20323.7L509.3%20420.4C508%20420.9%20506.6%20421.5%20505.3%20422.3L484.7%20400.3L519.3%20236.4L565.1%20315.7C564.8%20317%20564.3%20318.4%20564.3%20320C564.3%20321.3%20564.6%20322.4%20564.8%20323.7z'/%3e%3c/svg%3e",Hx="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20640%20640'%3e%3c!--!Font%20Awesome%20Free%207.1.0%20by%20@fontawesome%20-%20https://fontawesome.com%20License%20-%20https://fontawesome.com/license/free%20Copyright%202025%20Fonticons,%20Inc.--%3e%3cpath%20d='M319.6%2072C461.4%2072%20568%20182.1%20568%20320C568%20467.1%20449.5%20568%20319.6%20568C185.6%20568%2072%20458.5%2072%20320C72%20187.1%20176.7%2072%20319.6%2072zM320.4%20116.7C202.2%20116.7%20116.7%20214.6%20116.7%20320C116.7%20429.8%20207.9%20522.8%20320.4%20522.8C423.6%20522.8%20523.2%20441.7%20523.2%20320C523.3%20206.2%20433%20116.7%20320.4%20116.7zM421.4%20249.1C429.2%20249.1%20435.1%20255.2%20435.1%20262.8L435.1%20445.3C435.1%20453%20429%20459%20421.4%20459L286.3%20459C278.6%20459%20272.6%20453%20272.6%20445.3L272.6%20391.3L218.6%20391.3C210.8%20391.3%20204.9%20385.3%20204.9%20377.6L204.9%20195.1C204.9%20186.9%20211.5%20182.4%20217.3%20181.4L353.7%20181.4C361.4%20181.4%20367.4%20187.4%20367.4%20195.1L367.4%20249.1L421.4%20249.1zM231.9%20364.3L272.6%20364.3L272.6%20262.9C272.6%20255.5%20278.4%20250.3%20284.6%20249.2L340.4%20249.2L340.4%20208.9L231.9%20208.9L231.9%20364.3zM408.1%20276.2L299.6%20276.2L299.6%20431.6L408.1%20431.6L408.1%20276.2z'/%3e%3c/svg%3e",qx="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20640%20640'%3e%3c!--!Font%20Awesome%20Free%207.1.0%20by%20@fontawesome%20-%20https://fontawesome.com%20License%20-%20https://fontawesome.com/license/free%20Copyright%202025%20Fonticons,%20Inc.--%3e%3cpath%20d='M525.5%20300.3L387.7%20438.1L525.5%20576L368%20576C331.9%20539.9%20285.9%20493.9%20230.1%20438.1L368%20300.3L525.5%20300.3zM368%2064L112%20320L190.8%20398.8L525.5%2064L368%2064z'/%3e%3c/svg%3e",Kx="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20640%20640'%3e%3c!--!Font%20Awesome%20Free%207.1.0%20by%20@fontawesome%20-%20https://fontawesome.com%20License%20-%20https://fontawesome.com/license/free%20Copyright%202025%20Fonticons,%20Inc.--%3e%3cpath%20d='M320%2072C457%2072%20568%20183%20568%20320C568%20457%20457%20568%20320%20568C183%20568%2072%20457%2072%20320C72%20183%20183%2072%20320%2072zM320%2088.5C236.2%2086.8%20157.9%20130.5%20115.5%20202.8C73.1%20275.1%2073.1%20364.8%20115.5%20437.1C157.9%20509.4%20236.2%20553.1%20320%20551.4C403.8%20553.1%20482.1%20509.4%20524.5%20437.1C566.9%20364.8%20566.9%20275.1%20524.5%20202.8C482.1%20130.5%20403.8%2086.8%20320%2088.5zM347.6%20110.3L347.6%20134.9C377.9%20139.4%20406.6%20151.2%20431.2%20169.4L448.6%20152C419.9%20129.9%20385.3%20115.1%20347.6%20110.2zM292.2%20110.4C254.6%20115.3%20220%20130.2%20191.3%20152.3L208.6%20169.7L208.7%20169.7C232.8%20151.9%20261.3%20139.6%20292.2%20135L292.2%20110.5zM304.4%20160.6L304.4%20243.5C294.4%20245.5%20285%20249.4%20276.7%20254.9L218.1%20196.3L196.2%20218.2L254.9%20276.9C249.4%20285.1%20245.5%20294.5%20243.4%20304.5L160.5%20304.5L160.5%20335.5L243.4%20335.5C245.4%20345.5%20249.4%20354.8%20254.9%20363L196.2%20421.7L218.1%20443.6L276.7%20385C285.1%20390.6%20294.5%20394.5%20304.4%20396.5L304.4%20479.4L335.4%20479.4L335.4%20396.5C345.4%20394.5%20354.8%20390.4%20363%20385L421.7%20443.7L443.6%20421.8L384.9%20363.1C390.4%20354.9%20394.4%20345.6%20396.4%20335.6L479.3%20335.6L479.3%20304.6L396.4%20304.6C394.4%20294.6%20390.4%20285.2%20384.9%20277L443.6%20218.3L421.7%20196.4L363%20255.1C354.8%20249.6%20345.4%20245.6%20335.4%20243.6L335.4%20160.7L304.4%20160.7zM487.6%20191.3L470.2%20208.7C488.5%20233.3%20500.4%20262.1%20504.9%20292.4L529.5%20292.4C524.5%20254.7%20509.7%20220.1%20487.6%20191.4zM152%20191.4C129.9%20220.1%20115.1%20254.7%20110.2%20292.3L134.8%20292.3C139.4%20261.3%20151.6%20232.9%20169.4%20208.8L152.2%20191.4zM110.3%20347.7C115.2%20385.3%20130%20419.9%20152.1%20448.6L169.5%20431.2C151.7%20407.1%20139.6%20378.6%20135%20347.7L110.4%20347.7L110.4%20347.7zM505%20347.7C500.4%20378.7%20488.2%20407.2%20470.3%20431.3L487.7%20448.7C509.8%20420%20524.7%20385.4%20529.6%20347.7L505%20347.7zM208.7%20470.4L191.3%20487.8C220%20509.9%20254.6%20524.8%20292.3%20529.7L292.3%20505.1C261.3%20500.5%20232.8%20488.3%20208.7%20470.5zM431.2%20470.4C407.1%20488.2%20378.6%20500.5%20347.6%20505.1L347.6%20529.7C385.3%20524.8%20419.8%20509.9%20448.6%20487.9L431.3%20470.5L431.2%20470.5z'/%3e%3c/svg%3e",Gx="/assets/AerosoldierBasicSymbol_PERSONAL_USE_ONLY-T1agvOMJ.otf",Jx="/assets/AerosoldierBasic_PERSONAL_USE_ONLY-3FiYbnrQ.otf",Yx="/assets/AerosoldierDripSymbol_PERSONAL_USE_ONLY-D2pR-A28.otf",Qx="/assets/AerosoldierDrip_PERSONAL_USE_ONLY-DrqFem__.otf",Xx="/assets/AerosoldierSpraySymbol_PERSONAL_USE_ONLY-BbGQXLHy.otf",Zx="/assets/AerosoldierSpray_PERSONAL_USE_ONLY-DsLPtFPg.otf",e2="/assets/AerosoldierSymbol_PERSONAL_USE_ONLY-DkBFt1ed.otf",t2="/assets/Aerosoldier_PERSONAL_USE_ONLY-BoNpG3I8.otf",n2="/assets/Holly%20Skates-C2gE3EC4.otf",Mc=z.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),Ea=z.createContext({}),Ca=z.createContext(null),Ta=typeof document<"u",Pa=Ta?z.useLayoutEffect:z.useEffect,n0=z.createContext({strict:!1}),Vc=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r2="framerAppearId",r0="data-"+Vc(r2);function s2(n,e,r,i){const{visualElement:o}=z.useContext(Ea),l=z.useContext(n0),u=z.useContext(Ca),d=z.useContext(Mc).reducedMotion,h=z.useRef();i=i||l.renderer,!h.current&&i&&(h.current=i(n,{visualState:e,parent:o,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const m=h.current;z.useInsertionEffect(()=>{m&&m.update(r,u)});const v=z.useRef(!!(r[r0]&&!window.HandoffComplete));return Pa(()=>{m&&(m.render(),v.current&&m.animationState&&m.animationState.animateChanges())}),z.useEffect(()=>{m&&(m.updateFeatures(),!v.current&&m.animationState&&m.animationState.animateChanges(),v.current&&(v.current=!1,window.HandoffComplete=!0))}),m}function hs(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function i2(n,e,r){return z.useCallback(i=>{i&&n.mount&&n.mount(i),e&&(i?e.mount(i):e.unmount()),r&&(typeof r=="function"?r(i):hs(r)&&(r.current=i))},[e])}function ki(n){return typeof n=="string"||Array.isArray(n)}function Na(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const Bc=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$c=["initial",...Bc];function Oa(n){return Na(n.animate)||$c.some(e=>ki(n[e]))}function s0(n){return!!(Oa(n)||n.variants)}function o2(n,e){if(Oa(n)){const{initial:r,animate:i}=n;return{initial:r===!1||ki(r)?r:void 0,animate:ki(i)?i:void 0}}return n.inherit!==!1?e:{}}function a2(n){const{initial:e,animate:r}=o2(n,z.useContext(Ea));return z.useMemo(()=>({initial:e,animate:r}),[yp(e),yp(r)])}function yp(n){return Array.isArray(n)?n.join(" "):n}const xp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Si={};for(const n in xp)Si[n]={isEnabled:e=>xp[n].some(r=>!!e[r])};function l2(n){for(const e in n)Si[e]={...Si[e],...n[e]}}const Fc=z.createContext({}),i0=z.createContext({}),u2=Symbol.for("motionComponentSymbol");function c2({preloadedFeatures:n,createVisualElement:e,useRender:r,useVisualState:i,Component:o}){n&&l2(n);function l(d,h){let m;const v={...z.useContext(Mc),...d,layoutId:d2(d)},{isStatic:x}=v,y=a2(d),w=i(d,x);if(!x&&Ta){y.visualElement=s2(o,w,v,e);const _=z.useContext(i0),S=z.useContext(n0).strict;y.visualElement&&(m=y.visualElement.loadFeatures(v,S,n,_))}return z.createElement(Ea.Provider,{value:y},m&&y.visualElement?z.createElement(m,{visualElement:y.visualElement,...v}):null,r(o,d,i2(w,y.visualElement,h),w,x,y.visualElement))}const u=z.forwardRef(l);return u[u2]=o,u}function d2({layoutId:n}){const e=z.useContext(Fc).id;return e&&n!==void 0?e+"-"+n:n}function h2(n){function e(i,o={}){return c2(n(i,o))}if(typeof Proxy>"u")return e;const r=new Map;return new Proxy(e,{get:(i,o)=>(r.has(o)||r.set(o,e(o)),r.get(o))})}const f2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Uc(n){return typeof n!="string"||n.includes("-")?!1:!!(f2.indexOf(n)>-1||/[A-Z]/.test(n))}const ha={};function p2(n){Object.assign(ha,n)}const Ri=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Or=new Set(Ri);function o0(n,{layout:e,layoutId:r}){return Or.has(n)||n.startsWith("origin")||(e||r!==void 0)&&(!!ha[n]||n==="opacity")}const yt=n=>!!(n&&n.getVelocity),m2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},g2=Ri.length;function v2(n,{enableHardwareAcceleration:e=!0,allowTransformNone:r=!0},i,o){let l="";for(let u=0;u<g2;u++){const d=Ri[u];if(n[d]!==void 0){const h=m2[d]||d;l+=`${h}(${n[d]}) `}}return e&&!n.z&&(l+="translateZ(0)"),l=l.trim(),o?l=o(n,i?"":l):r&&i&&(l="none"),l}const a0=n=>e=>typeof e=="string"&&e.startsWith(n),l0=a0("--"),oc=a0("var(--"),y2=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,x2=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Xn=(n,e,r)=>Math.min(Math.max(r,n),e),Ar={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},mi={...Ar,transform:n=>Xn(0,1,n)},Go={...Ar,default:1},gi=n=>Math.round(n*1e5)/1e5,Aa=/(-)?([\d]*\.?[\d])+/g,u0=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,w2=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ii(n){return typeof n=="string"}const Li=n=>({test:e=>Ii(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Gn=Li("deg"),cn=Li("%"),ce=Li("px"),b2=Li("vh"),_2=Li("vw"),wp={...cn,parse:n=>cn.parse(n)/100,transform:n=>cn.transform(n*100)},bp={...Ar,transform:Math.round},c0={borderWidth:ce,borderTopWidth:ce,borderRightWidth:ce,borderBottomWidth:ce,borderLeftWidth:ce,borderRadius:ce,radius:ce,borderTopLeftRadius:ce,borderTopRightRadius:ce,borderBottomRightRadius:ce,borderBottomLeftRadius:ce,width:ce,maxWidth:ce,height:ce,maxHeight:ce,size:ce,top:ce,right:ce,bottom:ce,left:ce,padding:ce,paddingTop:ce,paddingRight:ce,paddingBottom:ce,paddingLeft:ce,margin:ce,marginTop:ce,marginRight:ce,marginBottom:ce,marginLeft:ce,rotate:Gn,rotateX:Gn,rotateY:Gn,rotateZ:Gn,scale:Go,scaleX:Go,scaleY:Go,scaleZ:Go,skew:Gn,skewX:Gn,skewY:Gn,distance:ce,translateX:ce,translateY:ce,translateZ:ce,x:ce,y:ce,z:ce,perspective:ce,transformPerspective:ce,opacity:mi,originX:wp,originY:wp,originZ:ce,zIndex:bp,fillOpacity:mi,strokeOpacity:mi,numOctaves:bp};function Wc(n,e,r,i){const{style:o,vars:l,transform:u,transformOrigin:d}=n;let h=!1,m=!1,v=!0;for(const x in e){const y=e[x];if(l0(x)){l[x]=y;continue}const w=c0[x],_=x2(y,w);if(Or.has(x)){if(h=!0,u[x]=_,!v)continue;y!==(w.default||0)&&(v=!1)}else x.startsWith("origin")?(m=!0,d[x]=_):o[x]=_}if(e.transform||(h||i?o.transform=v2(n.transform,r,v,i):o.transform&&(o.transform="none")),m){const{originX:x="50%",originY:y="50%",originZ:w=0}=d;o.transformOrigin=`${x} ${y} ${w}`}}const Hc=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function d0(n,e,r){for(const i in e)!yt(e[i])&&!o0(i,r)&&(n[i]=e[i])}function k2({transformTemplate:n},e,r){return z.useMemo(()=>{const i=Hc();return Wc(i,e,{enableHardwareAcceleration:!r},n),Object.assign({},i.vars,i.style)},[e])}function S2(n,e,r){const i=n.style||{},o={};return d0(o,i,n),Object.assign(o,k2(n,e,r)),n.transformValues?n.transformValues(o):o}function j2(n,e,r){const i={},o=S2(n,e,r);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=o,i}const E2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fa(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||E2.has(n)}let h0=n=>!fa(n);function C2(n){n&&(h0=e=>e.startsWith("on")?!fa(e):n(e))}try{C2(require("@emotion/is-prop-valid").default)}catch{}function T2(n,e,r){const i={};for(const o in n)o==="values"&&typeof n.values=="object"||(h0(o)||r===!0&&fa(o)||!e&&!fa(o)||n.draggable&&o.startsWith("onDrag"))&&(i[o]=n[o]);return i}function _p(n,e,r){return typeof n=="string"?n:ce.transform(e+r*n)}function P2(n,e,r){const i=_p(e,n.x,n.width),o=_p(r,n.y,n.height);return`${i} ${o}`}const N2={offset:"stroke-dashoffset",array:"stroke-dasharray"},O2={offset:"strokeDashoffset",array:"strokeDasharray"};function A2(n,e,r=1,i=0,o=!0){n.pathLength=1;const l=o?N2:O2;n[l.offset]=ce.transform(-i);const u=ce.transform(e),d=ce.transform(r);n[l.array]=`${u} ${d}`}function qc(n,{attrX:e,attrY:r,attrScale:i,originX:o,originY:l,pathLength:u,pathSpacing:d=1,pathOffset:h=0,...m},v,x,y){if(Wc(n,m,v,y),x){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:w,style:_,dimensions:S}=n;w.transform&&(S&&(_.transform=w.transform),delete w.transform),S&&(o!==void 0||l!==void 0||_.transform)&&(_.transformOrigin=P2(S,o!==void 0?o:.5,l!==void 0?l:.5)),e!==void 0&&(w.x=e),r!==void 0&&(w.y=r),i!==void 0&&(w.scale=i),u!==void 0&&A2(w,u,d,h,!1)}const f0=()=>({...Hc(),attrs:{}}),Kc=n=>typeof n=="string"&&n.toLowerCase()==="svg";function R2(n,e,r,i){const o=z.useMemo(()=>{const l=f0();return qc(l,e,{enableHardwareAcceleration:!1},Kc(i),n.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(n.style){const l={};d0(l,n.style,n),o.style={...l,...o.style}}return o}function I2(n=!1){return(r,i,o,{latestValues:l},u)=>{const h=(Uc(r)?R2:j2)(i,l,u,r),v={...T2(i,typeof r=="string",n),...h,ref:o},{children:x}=i,y=z.useMemo(()=>yt(x)?x.get():x,[x]);return z.createElement(r,{...v,children:y})}}function p0(n,{style:e,vars:r},i,o){Object.assign(n.style,e,o&&o.getProjectionStyles(i));for(const l in r)n.style.setProperty(l,r[l])}const m0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function g0(n,e,r,i){p0(n,e,void 0,i);for(const o in e.attrs)n.setAttribute(m0.has(o)?o:Vc(o),e.attrs[o])}function Gc(n,e){const{style:r}=n,i={};for(const o in r)(yt(r[o])||e.style&&yt(e.style[o])||o0(o,n))&&(i[o]=r[o]);return i}function v0(n,e){const r=Gc(n,e);for(const i in n)if(yt(n[i])||yt(e[i])){const o=Ri.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=n[i]}return r}function Jc(n,e,r,i={},o={}){return typeof e=="function"&&(e=e(r!==void 0?r:n.custom,i,o)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(r!==void 0?r:n.custom,i,o)),e}function Yc(n){const e=z.useRef(null);return e.current===null&&(e.current=n()),e.current}const pa=n=>Array.isArray(n),L2=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),z2=n=>pa(n)?n[n.length-1]||0:n;function ua(n){const e=yt(n)?n.get():n;return L2(e)?e.toValue():e}function D2({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:r},i,o,l){const u={latestValues:M2(i,o,l,n),renderState:e()};return r&&(u.mount=d=>r(i,d,u)),u}const y0=n=>(e,r)=>{const i=z.useContext(Ea),o=z.useContext(Ca),l=()=>D2(n,e,i,o);return r?l():Yc(l)};function M2(n,e,r,i){const o={},l=i(n,{});for(const y in l)o[y]=ua(l[y]);let{initial:u,animate:d}=n;const h=Oa(n),m=s0(n);e&&m&&!h&&n.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let v=r?r.initial===!1:!1;v=v||u===!1;const x=v?d:u;return x&&typeof x!="boolean"&&!Na(x)&&(Array.isArray(x)?x:[x]).forEach(w=>{const _=Jc(n,w);if(!_)return;const{transitionEnd:S,transition:E,...M}=_;for(const T in M){let j=M[T];if(Array.isArray(j)){const R=v?j.length-1:0;j=j[R]}j!==null&&(o[T]=j)}for(const T in S)o[T]=S[T]}),o}const Je=n=>n;class kp{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const r=this.order.indexOf(e);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function V2(n){let e=new kp,r=new kp,i=0,o=!1,l=!1;const u=new WeakSet,d={schedule:(h,m=!1,v=!1)=>{const x=v&&o,y=x?e:r;return m&&u.add(h),y.add(h)&&x&&o&&(i=e.order.length),h},cancel:h=>{r.remove(h),u.delete(h)},process:h=>{if(o){l=!0;return}if(o=!0,[e,r]=[r,e],r.clear(),i=e.order.length,i)for(let m=0;m<i;m++){const v=e.order[m];v(h),u.has(v)&&(d.schedule(v),n())}o=!1,l&&(l=!1,d.process(h))}};return d}const Jo=["prepare","read","update","preRender","render","postRender"],B2=40;function $2(n,e){let r=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=Jo.reduce((x,y)=>(x[y]=V2(()=>r=!0),x),{}),u=x=>l[x].process(o),d=()=>{const x=performance.now();r=!1,o.delta=i?1e3/60:Math.max(Math.min(x-o.timestamp,B2),1),o.timestamp=x,o.isProcessing=!0,Jo.forEach(u),o.isProcessing=!1,r&&e&&(i=!1,n(d))},h=()=>{r=!0,i=!0,o.isProcessing||n(d)};return{schedule:Jo.reduce((x,y)=>{const w=l[y];return x[y]=(_,S=!1,E=!1)=>(r||h(),w.schedule(_,S,E)),x},{}),cancel:x=>Jo.forEach(y=>l[y].cancel(x)),state:o,steps:l}}const{schedule:Oe,cancel:dn,state:gt,steps:Lu}=$2(typeof requestAnimationFrame<"u"?requestAnimationFrame:Je,!0),F2={useVisualState:y0({scrapeMotionValuesFromProps:v0,createRenderState:f0,onMount:(n,e,{renderState:r,latestValues:i})=>{Oe.read(()=>{try{r.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),Oe.render(()=>{qc(r,i,{enableHardwareAcceleration:!1},Kc(e.tagName),n.transformTemplate),g0(e,r)})}})},U2={useVisualState:y0({scrapeMotionValuesFromProps:Gc,createRenderState:Hc})};function W2(n,{forwardMotionProps:e=!1},r,i){return{...Uc(n)?F2:U2,preloadedFeatures:r,useRender:I2(e),createVisualElement:i,Component:n}}function _n(n,e,r,i={passive:!0}){return n.addEventListener(e,r,i),()=>n.removeEventListener(e,r)}const x0=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function Ra(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const H2=n=>e=>x0(e)&&n(e,Ra(e));function kn(n,e,r,i){return _n(n,e,H2(r),i)}const q2=(n,e)=>r=>e(n(r)),Qn=(...n)=>n.reduce(q2);function w0(n){let e=null;return()=>{const r=()=>{e=null};return e===null?(e=n,r):!1}}const Sp=w0("dragHorizontal"),jp=w0("dragVertical");function b0(n){let e=!1;if(n==="y")e=jp();else if(n==="x")e=Sp();else{const r=Sp(),i=jp();r&&i?e=()=>{r(),i()}:(r&&r(),i&&i())}return e}function _0(){const n=b0(!0);return n?(n(),!1):!0}class er{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Ep(n,e){const r="pointer"+(e?"enter":"leave"),i="onHover"+(e?"Start":"End"),o=(l,u)=>{if(l.pointerType==="touch"||_0())return;const d=n.getProps();n.animationState&&d.whileHover&&n.animationState.setActive("whileHover",e),d[i]&&Oe.update(()=>d[i](l,u))};return kn(n.current,r,o,{passive:!n.getProps()[i]})}class K2 extends er{mount(){this.unmount=Qn(Ep(this.node,!0),Ep(this.node,!1))}unmount(){}}class G2 extends er{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Qn(_n(this.node.current,"focus",()=>this.onFocus()),_n(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const k0=(n,e)=>e?n===e?!0:k0(n,e.parentElement):!1;function zu(n,e){if(!e)return;const r=new PointerEvent("pointer"+n);e(r,Ra(r))}class J2 extends er{constructor(){super(...arguments),this.removeStartListeners=Je,this.removeEndListeners=Je,this.removeAccessibleListeners=Je,this.startPointerPress=(e,r)=>{if(this.isPressing)return;this.removeEndListeners();const i=this.node.getProps(),l=kn(window,"pointerup",(d,h)=>{if(!this.checkPressEnd())return;const{onTap:m,onTapCancel:v,globalTapTarget:x}=this.node.getProps();Oe.update(()=>{!x&&!k0(this.node.current,d.target)?v&&v(d,h):m&&m(d,h)})},{passive:!(i.onTap||i.onPointerUp)}),u=kn(window,"pointercancel",(d,h)=>this.cancelPress(d,h),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=Qn(l,u),this.startPress(e,r)},this.startAccessiblePress=()=>{const e=l=>{if(l.key!=="Enter"||this.isPressing)return;const u=d=>{d.key!=="Enter"||!this.checkPressEnd()||zu("up",(h,m)=>{const{onTap:v}=this.node.getProps();v&&Oe.update(()=>v(h,m))})};this.removeEndListeners(),this.removeEndListeners=_n(this.node.current,"keyup",u),zu("down",(d,h)=>{this.startPress(d,h)})},r=_n(this.node.current,"keydown",e),i=()=>{this.isPressing&&zu("cancel",(l,u)=>this.cancelPress(l,u))},o=_n(this.node.current,"blur",i);this.removeAccessibleListeners=Qn(r,o)}}startPress(e,r){this.isPressing=!0;const{onTapStart:i,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&Oe.update(()=>i(e,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!_0()}cancelPress(e,r){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&Oe.update(()=>i(e,r))}mount(){const e=this.node.getProps(),r=kn(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=_n(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Qn(r,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const ac=new WeakMap,Du=new WeakMap,Y2=n=>{const e=ac.get(n.target);e&&e(n)},Q2=n=>{n.forEach(Y2)};function X2({root:n,...e}){const r=n||document;Du.has(r)||Du.set(r,{});const i=Du.get(r),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(Q2,{root:n,...e})),i[o]}function Z2(n,e,r){const i=X2(e);return ac.set(n,r),i.observe(n),()=>{ac.delete(n),i.unobserve(n)}}const ew={some:0,all:1};class tw extends er{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:i,amount:o="some",once:l}=e,u={root:r?r.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:ew[o]},d=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:v,onViewportLeave:x}=this.node.getProps(),y=m?v:x;y&&y(h)};return Z2(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(nw(e,r))&&this.startObserver()}unmount(){}}function nw({viewport:n={}},{viewport:e={}}={}){return r=>n[r]!==e[r]}const rw={inView:{Feature:tw},tap:{Feature:J2},focus:{Feature:G2},hover:{Feature:K2}};function S0(n,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==n.length)return!1;for(let i=0;i<r;i++)if(e[i]!==n[i])return!1;return!0}function sw(n){const e={};return n.values.forEach((r,i)=>e[i]=r.get()),e}function iw(n){const e={};return n.values.forEach((r,i)=>e[i]=r.getVelocity()),e}function Ia(n,e,r){const i=n.getProps();return Jc(i,e,r!==void 0?r:i.custom,sw(n),iw(n))}let Qc=Je;const Cr=n=>n*1e3,Sn=n=>n/1e3,ow={current:!1},j0=n=>Array.isArray(n)&&typeof n[0]=="number";function E0(n){return!!(!n||typeof n=="string"&&C0[n]||j0(n)||Array.isArray(n)&&n.every(E0))}const fi=([n,e,r,i])=>`cubic-bezier(${n}, ${e}, ${r}, ${i})`,C0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fi([0,.65,.55,1]),circOut:fi([.55,0,1,.45]),backIn:fi([.31,.01,.66,-.59]),backOut:fi([.33,1.53,.69,.99])};function T0(n){if(n)return j0(n)?fi(n):Array.isArray(n)?n.map(T0):C0[n]}function aw(n,e,r,{delay:i=0,duration:o,repeat:l=0,repeatType:u="loop",ease:d,times:h}={}){const m={[e]:r};h&&(m.offset=h);const v=T0(d);return Array.isArray(v)&&(m.easing=v),n.animate(m,{delay:i,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"})}function lw(n,{repeat:e,repeatType:r="loop"}){const i=e&&r!=="loop"&&e%2===1?0:n.length-1;return n[i]}const P0=(n,e,r)=>(((1-3*r+3*e)*n+(3*r-6*e))*n+3*e)*n,uw=1e-7,cw=12;function dw(n,e,r,i,o){let l,u,d=0;do u=e+(r-e)/2,l=P0(u,i,o)-n,l>0?r=u:e=u;while(Math.abs(l)>uw&&++d<cw);return u}function zi(n,e,r,i){if(n===e&&r===i)return Je;const o=l=>dw(l,0,1,n,r);return l=>l===0||l===1?l:P0(o(l),e,i)}const hw=zi(.42,0,1,1),fw=zi(0,0,.58,1),N0=zi(.42,0,.58,1),pw=n=>Array.isArray(n)&&typeof n[0]!="number",O0=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,A0=n=>e=>1-n(1-e),Xc=n=>1-Math.sin(Math.acos(n)),R0=A0(Xc),mw=O0(Xc),I0=zi(.33,1.53,.69,.99),Zc=A0(I0),gw=O0(Zc),vw=n=>(n*=2)<1?.5*Zc(n):.5*(2-Math.pow(2,-10*(n-1))),yw={linear:Je,easeIn:hw,easeInOut:N0,easeOut:fw,circIn:Xc,circInOut:mw,circOut:R0,backIn:Zc,backInOut:gw,backOut:I0,anticipate:vw},Cp=n=>{if(Array.isArray(n)){Qc(n.length===4);const[e,r,i,o]=n;return zi(e,r,i,o)}else if(typeof n=="string")return yw[n];return n},ed=(n,e)=>r=>!!(Ii(r)&&w2.test(r)&&r.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(r,e)),L0=(n,e,r)=>i=>{if(!Ii(i))return i;const[o,l,u,d]=i.match(Aa);return{[n]:parseFloat(o),[e]:parseFloat(l),[r]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},xw=n=>Xn(0,255,n),Mu={...Ar,transform:n=>Math.round(xw(n))},jr={test:ed("rgb","red"),parse:L0("red","green","blue"),transform:({red:n,green:e,blue:r,alpha:i=1})=>"rgba("+Mu.transform(n)+", "+Mu.transform(e)+", "+Mu.transform(r)+", "+gi(mi.transform(i))+")"};function ww(n){let e="",r="",i="",o="";return n.length>5?(e=n.substring(1,3),r=n.substring(3,5),i=n.substring(5,7),o=n.substring(7,9)):(e=n.substring(1,2),r=n.substring(2,3),i=n.substring(3,4),o=n.substring(4,5),e+=e,r+=r,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const lc={test:ed("#"),parse:ww,transform:jr.transform},fs={test:ed("hsl","hue"),parse:L0("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:r,alpha:i=1})=>"hsla("+Math.round(n)+", "+cn.transform(gi(e))+", "+cn.transform(gi(r))+", "+gi(mi.transform(i))+")"},bt={test:n=>jr.test(n)||lc.test(n)||fs.test(n),parse:n=>jr.test(n)?jr.parse(n):fs.test(n)?fs.parse(n):lc.parse(n),transform:n=>Ii(n)?n:n.hasOwnProperty("red")?jr.transform(n):fs.transform(n)},$e=(n,e,r)=>-r*n+r*e+n;function Vu(n,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?n+(e-n)*6*r:r<1/2?e:r<2/3?n+(e-n)*(2/3-r)*6:n}function bw({hue:n,saturation:e,lightness:r,alpha:i}){n/=360,e/=100,r/=100;let o=0,l=0,u=0;if(!e)o=l=u=r;else{const d=r<.5?r*(1+e):r+e-r*e,h=2*r-d;o=Vu(h,d,n+1/3),l=Vu(h,d,n),u=Vu(h,d,n-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}const Bu=(n,e,r)=>{const i=n*n;return Math.sqrt(Math.max(0,r*(e*e-i)+i))},_w=[lc,jr,fs],kw=n=>_w.find(e=>e.test(n));function Tp(n){const e=kw(n);let r=e.parse(n);return e===fs&&(r=bw(r)),r}const z0=(n,e)=>{const r=Tp(n),i=Tp(e),o={...r};return l=>(o.red=Bu(r.red,i.red,l),o.green=Bu(r.green,i.green,l),o.blue=Bu(r.blue,i.blue,l),o.alpha=$e(r.alpha,i.alpha,l),jr.transform(o))};function Sw(n){var e,r;return isNaN(n)&&Ii(n)&&(((e=n.match(Aa))===null||e===void 0?void 0:e.length)||0)+(((r=n.match(u0))===null||r===void 0?void 0:r.length)||0)>0}const D0={regex:y2,countKey:"Vars",token:"${v}",parse:Je},M0={regex:u0,countKey:"Colors",token:"${c}",parse:bt.parse},V0={regex:Aa,countKey:"Numbers",token:"${n}",parse:Ar.parse};function $u(n,{regex:e,countKey:r,token:i,parse:o}){const l=n.tokenised.match(e);l&&(n["num"+r]=l.length,n.tokenised=n.tokenised.replace(e,i),n.values.push(...l.map(o)))}function ma(n){const e=n.toString(),r={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&$u(r,D0),$u(r,M0),$u(r,V0),r}function B0(n){return ma(n).values}function $0(n){const{values:e,numColors:r,numVars:i,tokenised:o}=ma(n),l=e.length;return u=>{let d=o;for(let h=0;h<l;h++)h<i?d=d.replace(D0.token,u[h]):h<i+r?d=d.replace(M0.token,bt.transform(u[h])):d=d.replace(V0.token,gi(u[h]));return d}}const jw=n=>typeof n=="number"?0:n;function Ew(n){const e=B0(n);return $0(n)(e.map(jw))}const Zn={test:Sw,parse:B0,createTransformer:$0,getAnimatableNone:Ew},F0=(n,e)=>r=>`${r>0?e:n}`;function U0(n,e){return typeof n=="number"?r=>$e(n,e,r):bt.test(n)?z0(n,e):n.startsWith("var(")?F0(n,e):H0(n,e)}const W0=(n,e)=>{const r=[...n],i=r.length,o=n.map((l,u)=>U0(l,e[u]));return l=>{for(let u=0;u<i;u++)r[u]=o[u](l);return r}},Cw=(n,e)=>{const r={...n,...e},i={};for(const o in r)n[o]!==void 0&&e[o]!==void 0&&(i[o]=U0(n[o],e[o]));return o=>{for(const l in i)r[l]=i[l](o);return r}},H0=(n,e)=>{const r=Zn.createTransformer(e),i=ma(n),o=ma(e);return i.numVars===o.numVars&&i.numColors===o.numColors&&i.numNumbers>=o.numNumbers?Qn(W0(i.values,o.values),r):F0(n,e)},ji=(n,e,r)=>{const i=e-n;return i===0?1:(r-n)/i},Pp=(n,e)=>r=>$e(n,e,r);function Tw(n){return typeof n=="number"?Pp:typeof n=="string"?bt.test(n)?z0:H0:Array.isArray(n)?W0:typeof n=="object"?Cw:Pp}function Pw(n,e,r){const i=[],o=r||Tw(n[0]),l=n.length-1;for(let u=0;u<l;u++){let d=o(n[u],n[u+1]);if(e){const h=Array.isArray(e)?e[u]||Je:e;d=Qn(h,d)}i.push(d)}return i}function q0(n,e,{clamp:r=!0,ease:i,mixer:o}={}){const l=n.length;if(Qc(l===e.length),l===1)return()=>e[0];n[0]>n[l-1]&&(n=[...n].reverse(),e=[...e].reverse());const u=Pw(e,i,o),d=u.length,h=m=>{let v=0;if(d>1)for(;v<n.length-2&&!(m<n[v+1]);v++);const x=ji(n[v],n[v+1],m);return u[v](x)};return r?m=>h(Xn(n[0],n[l-1],m)):h}function Nw(n,e){const r=n[n.length-1];for(let i=1;i<=e;i++){const o=ji(0,e,i);n.push($e(r,1,o))}}function Ow(n){const e=[0];return Nw(e,n.length-1),e}function Aw(n,e){return n.map(r=>r*e)}function Rw(n,e){return n.map(()=>e||N0).splice(0,n.length-1)}function ga({duration:n=300,keyframes:e,times:r,ease:i="easeInOut"}){const o=pw(i)?i.map(Cp):Cp(i),l={done:!1,value:e[0]},u=Aw(r&&r.length===e.length?r:Ow(e),n),d=q0(u,e,{ease:Array.isArray(o)?o:Rw(e,o)});return{calculatedDuration:n,next:h=>(l.value=d(h),l.done=h>=n,l)}}function K0(n,e){return e?n*(1e3/e):0}const Iw=5;function G0(n,e,r){const i=Math.max(e-Iw,0);return K0(r-n(i),e-i)}const Fu=.001,Lw=.01,zw=10,Dw=.05,Mw=1;function Vw({duration:n=800,bounce:e=.25,velocity:r=0,mass:i=1}){let o,l,u=1-e;u=Xn(Dw,Mw,u),n=Xn(Lw,zw,Sn(n)),u<1?(o=m=>{const v=m*u,x=v*n,y=v-r,w=uc(m,u),_=Math.exp(-x);return Fu-y/w*_},l=m=>{const x=m*u*n,y=x*r+r,w=Math.pow(u,2)*Math.pow(m,2)*n,_=Math.exp(-x),S=uc(Math.pow(m,2),u);return(-o(m)+Fu>0?-1:1)*((y-w)*_)/S}):(o=m=>{const v=Math.exp(-m*n),x=(m-r)*n+1;return-Fu+v*x},l=m=>{const v=Math.exp(-m*n),x=(r-m)*(n*n);return v*x});const d=5/n,h=$w(o,l,d);if(n=Cr(n),isNaN(h))return{stiffness:100,damping:10,duration:n};{const m=Math.pow(h,2)*i;return{stiffness:m,damping:u*2*Math.sqrt(i*m),duration:n}}}const Bw=12;function $w(n,e,r){let i=r;for(let o=1;o<Bw;o++)i=i-n(i)/e(i);return i}function uc(n,e){return n*Math.sqrt(1-e*e)}const Fw=["duration","bounce"],Uw=["stiffness","damping","mass"];function Np(n,e){return e.some(r=>n[r]!==void 0)}function Ww(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!Np(n,Uw)&&Np(n,Fw)){const r=Vw(n);e={...e,...r,mass:1},e.isResolvedFromDuration=!0}return e}function J0({keyframes:n,restDelta:e,restSpeed:r,...i}){const o=n[0],l=n[n.length-1],u={done:!1,value:o},{stiffness:d,damping:h,mass:m,duration:v,velocity:x,isResolvedFromDuration:y}=Ww({...i,velocity:-Sn(i.velocity||0)}),w=x||0,_=h/(2*Math.sqrt(d*m)),S=l-o,E=Sn(Math.sqrt(d/m)),M=Math.abs(S)<5;r||(r=M?.01:2),e||(e=M?.005:.5);let T;if(_<1){const j=uc(E,_);T=R=>{const q=Math.exp(-_*E*R);return l-q*((w+_*E*S)/j*Math.sin(j*R)+S*Math.cos(j*R))}}else if(_===1)T=j=>l-Math.exp(-E*j)*(S+(w+E*S)*j);else{const j=E*Math.sqrt(_*_-1);T=R=>{const q=Math.exp(-_*E*R),F=Math.min(j*R,300);return l-q*((w+_*E*S)*Math.sinh(F)+j*S*Math.cosh(F))/j}}return{calculatedDuration:y&&v||null,next:j=>{const R=T(j);if(y)u.done=j>=v;else{let q=w;j!==0&&(_<1?q=G0(T,j,R):q=0);const F=Math.abs(q)<=r,C=Math.abs(l-R)<=e;u.done=F&&C}return u.value=u.done?l:R,u}}}function Op({keyframes:n,velocity:e=0,power:r=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:h,restDelta:m=.5,restSpeed:v}){const x=n[0],y={done:!1,value:x},w=A=>d!==void 0&&A<d||h!==void 0&&A>h,_=A=>d===void 0?h:h===void 0||Math.abs(d-A)<Math.abs(h-A)?d:h;let S=r*e;const E=x+S,M=u===void 0?E:u(E);M!==E&&(S=M-x);const T=A=>-S*Math.exp(-A/i),j=A=>M+T(A),R=A=>{const D=T(A),B=j(A);y.done=Math.abs(D)<=m,y.value=y.done?M:B};let q,F;const C=A=>{w(y.value)&&(q=A,F=J0({keyframes:[y.value,_(y.value)],velocity:G0(j,A,y.value),damping:o,stiffness:l,restDelta:m,restSpeed:v}))};return C(0),{calculatedDuration:null,next:A=>{let D=!1;return!F&&q===void 0&&(D=!0,R(A),C(A)),q!==void 0&&A>q?F.next(A-q):(!D&&R(A),y)}}}const Hw=n=>{const e=({timestamp:r})=>n(r);return{start:()=>Oe.update(e,!0),stop:()=>dn(e),now:()=>gt.isProcessing?gt.timestamp:performance.now()}},Ap=2e4;function Rp(n){let e=0;const r=50;let i=n.next(e);for(;!i.done&&e<Ap;)e+=r,i=n.next(e);return e>=Ap?1/0:e}const qw={decay:Op,inertia:Op,tween:ga,keyframes:ga,spring:J0};function va({autoplay:n=!0,delay:e=0,driver:r=Hw,keyframes:i,type:o="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:d="loop",onPlay:h,onStop:m,onComplete:v,onUpdate:x,...y}){let w=1,_=!1,S,E;const M=()=>{E=new Promise(N=>{S=N})};M();let T;const j=qw[o]||ga;let R;j!==ga&&typeof i[0]!="number"&&(R=q0([0,100],i,{clamp:!1}),i=[0,100]);const q=j({...y,keyframes:i});let F;d==="mirror"&&(F=j({...y,keyframes:[...i].reverse(),velocity:-(y.velocity||0)}));let C="idle",A=null,D=null,B=null;q.calculatedDuration===null&&l&&(q.calculatedDuration=Rp(q));const{calculatedDuration:J}=q;let ne=1/0,le=1/0;J!==null&&(ne=J+u,le=ne*(l+1)-u);let me=0;const Fe=N=>{if(D===null)return;w>0&&(D=Math.min(D,N)),w<0&&(D=Math.min(N-le/w,D)),A!==null?me=A:me=Math.round(N-D)*w;const $=me-e*(w>=0?1:-1),he=w>=0?$<0:$>le;me=Math.max($,0),C==="finished"&&A===null&&(me=le);let ge=me,_e=q;if(l){const Te=Math.min(me,le)/ne;let Ye=Math.floor(Te),_t=Te%1;!_t&&Te>=1&&(_t=1),_t===1&&Ye--,Ye=Math.min(Ye,l+1),!!(Ye%2)&&(d==="reverse"?(_t=1-_t,u&&(_t-=u/ne)):d==="mirror"&&(_e=F)),ge=Xn(0,1,_t)*ne}const ve=he?{done:!1,value:i[0]}:_e.next(ge);R&&(ve.value=R(ve.value));let{done:Ee}=ve;!he&&J!==null&&(Ee=w>=0?me>=le:me<=0);const ke=A===null&&(C==="finished"||C==="running"&&Ee);return x&&x(ve.value),ke&&G(),ve},xe=()=>{T&&T.stop(),T=void 0},be=()=>{C="idle",xe(),S(),M(),D=B=null},G=()=>{C="finished",v&&v(),xe(),S()},se=()=>{if(_)return;T||(T=r(Fe));const N=T.now();h&&h(),A!==null?D=N-A:(!D||C==="finished")&&(D=N),C==="finished"&&M(),B=D,A=null,C="running",T.start()};n&&se();const Y={then(N,$){return E.then(N,$)},get time(){return Sn(me)},set time(N){N=Cr(N),me=N,A!==null||!T||w===0?A=N:D=T.now()-N/w},get duration(){const N=q.calculatedDuration===null?Rp(q):q.calculatedDuration;return Sn(N)},get speed(){return w},set speed(N){N===w||!T||(w=N,Y.time=Sn(me))},get state(){return C},play:se,pause:()=>{C="paused",A=me},stop:()=>{_=!0,C!=="idle"&&(C="idle",m&&m(),be())},cancel:()=>{B!==null&&Fe(B),be()},complete:()=>{C="finished"},sample:N=>(D=0,Fe(N))};return Y}function Kw(n){let e;return()=>(e===void 0&&(e=n()),e)}const Gw=Kw(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Jw=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Yo=10,Yw=2e4,Qw=(n,e)=>e.type==="spring"||n==="backgroundColor"||!E0(e.ease);function Xw(n,e,{onUpdate:r,onComplete:i,...o}){if(!(Gw()&&Jw.has(e)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let u=!1,d,h,m=!1;const v=()=>{h=new Promise(j=>{d=j})};v();let{keyframes:x,duration:y=300,ease:w,times:_}=o;if(Qw(e,o)){const j=va({...o,repeat:0,delay:0});let R={done:!1,value:x[0]};const q=[];let F=0;for(;!R.done&&F<Yw;)R=j.sample(F),q.push(R.value),F+=Yo;_=void 0,x=q,y=F-Yo,w="linear"}const S=aw(n.owner.current,e,x,{...o,duration:y,ease:w,times:_}),E=()=>{m=!1,S.cancel()},M=()=>{m=!0,Oe.update(E),d(),v()};return S.onfinish=()=>{m||(n.set(lw(x,o)),i&&i(),M())},{then(j,R){return h.then(j,R)},attachTimeline(j){return S.timeline=j,S.onfinish=null,Je},get time(){return Sn(S.currentTime||0)},set time(j){S.currentTime=Cr(j)},get speed(){return S.playbackRate},set speed(j){S.playbackRate=j},get duration(){return Sn(y)},play:()=>{u||(S.play(),dn(E))},pause:()=>S.pause(),stop:()=>{if(u=!0,S.playState==="idle")return;const{currentTime:j}=S;if(j){const R=va({...o,autoplay:!1});n.setWithVelocity(R.sample(j-Yo).value,R.sample(j).value,Yo)}M()},complete:()=>{m||S.finish()},cancel:M}}function Zw({keyframes:n,delay:e,onUpdate:r,onComplete:i}){const o=()=>(r&&r(n[n.length-1]),i&&i(),{time:0,speed:1,duration:0,play:Je,pause:Je,stop:Je,then:l=>(l(),Promise.resolve()),cancel:Je,complete:Je});return e?va({keyframes:[0,1],duration:0,delay:e,onComplete:o}):o()}const e1={type:"spring",stiffness:500,damping:25,restSpeed:10},t1=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),n1={type:"keyframes",duration:.8},r1={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},s1=(n,{keyframes:e})=>e.length>2?n1:Or.has(n)?n.startsWith("scale")?t1(e[1]):e1:r1,cc=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Zn.test(e)||e==="0")&&!e.startsWith("url(")),i1=new Set(["brightness","contrast","saturate","opacity"]);function o1(n){const[e,r]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=r.match(Aa)||[];if(!i)return n;const o=r.replace(i,"");let l=i1.has(e)?1:0;return i!==r&&(l*=100),e+"("+l+o+")"}const a1=/([a-z-]*)\(.*?\)/g,dc={...Zn,getAnimatableNone:n=>{const e=n.match(a1);return e?e.map(o1).join(" "):n}},l1={...c0,color:bt,backgroundColor:bt,outlineColor:bt,fill:bt,stroke:bt,borderColor:bt,borderTopColor:bt,borderRightColor:bt,borderBottomColor:bt,borderLeftColor:bt,filter:dc,WebkitFilter:dc},td=n=>l1[n];function Y0(n,e){let r=td(n);return r!==dc&&(r=Zn),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const Q0=n=>/^0[^.\s]+$/.test(n);function u1(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||Q0(n)}function c1(n,e,r,i){const o=cc(e,r);let l;Array.isArray(r)?l=[...r]:l=[null,r];const u=i.from!==void 0?i.from:n.get();let d;const h=[];for(let m=0;m<l.length;m++)l[m]===null&&(l[m]=m===0?u:l[m-1]),u1(l[m])&&h.push(m),typeof l[m]=="string"&&l[m]!=="none"&&l[m]!=="0"&&(d=l[m]);if(o&&h.length&&d)for(let m=0;m<h.length;m++){const v=h[m];l[v]=Y0(e,d)}return l}function d1({when:n,delay:e,delayChildren:r,staggerChildren:i,staggerDirection:o,repeat:l,repeatType:u,repeatDelay:d,from:h,elapsed:m,...v}){return!!Object.keys(v).length}function nd(n,e){return n[e]||n.default||n}const h1={skipAnimations:!1},rd=(n,e,r,i={})=>o=>{const l=nd(i,n)||{},u=l.delay||i.delay||0;let{elapsed:d=0}=i;d=d-Cr(u);const h=c1(e,n,r,l),m=h[0],v=h[h.length-1],x=cc(n,m),y=cc(n,v);let w={keyframes:h,velocity:e.getVelocity(),ease:"easeOut",...l,delay:-d,onUpdate:_=>{e.set(_),l.onUpdate&&l.onUpdate(_)},onComplete:()=>{o(),l.onComplete&&l.onComplete()}};if(d1(l)||(w={...w,...s1(n,w)}),w.duration&&(w.duration=Cr(w.duration)),w.repeatDelay&&(w.repeatDelay=Cr(w.repeatDelay)),!x||!y||ow.current||l.type===!1||h1.skipAnimations)return Zw(w);if(!i.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const _=Xw(e,n,w);if(_)return _}return va(w)};function ya(n){return!!(yt(n)&&n.add)}const X0=n=>/^\-?\d*\.?\d+$/.test(n);function sd(n,e){n.indexOf(e)===-1&&n.push(e)}function id(n,e){const r=n.indexOf(e);r>-1&&n.splice(r,1)}class od{constructor(){this.subscriptions=[]}add(e){return sd(this.subscriptions,e),()=>id(this.subscriptions,e)}notify(e,r,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,r,i);else for(let l=0;l<o;l++){const u=this.subscriptions[l];u&&u(e,r,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const f1=n=>!isNaN(parseFloat(n));class p1{constructor(e,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,o=!0)=>{this.prev=this.current,this.current=i;const{delta:l,timestamp:u}=gt;this.lastUpdated!==u&&(this.timeDelta=l,this.lastUpdated=u,Oe.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Oe.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=f1(this.current),this.owner=r.owner}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new od);const i=this.events[e].add(r);return e==="change"?()=>{i(),Oe.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,i){this.set(r),this.prev=e,this.timeDelta=i}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?K0(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Tr(n,e){return new p1(n,e)}const Z0=n=>e=>e.test(n),m1={test:n=>n==="auto",parse:n=>n},eg=[Ar,ce,cn,Gn,_2,b2,m1],li=n=>eg.find(Z0(n)),g1=[...eg,bt,Zn],v1=n=>g1.find(Z0(n));function y1(n,e,r){n.hasValue(e)?n.getValue(e).set(r):n.addValue(e,Tr(r))}function x1(n,e){const r=Ia(n,e);let{transitionEnd:i={},transition:o={},...l}=r?n.makeTargetAnimatable(r,!1):{};l={...l,...i};for(const u in l){const d=z2(l[u]);y1(n,u,d)}}function w1(n,e,r){var i,o;const l=Object.keys(e).filter(d=>!n.hasValue(d)),u=l.length;if(u)for(let d=0;d<u;d++){const h=l[d],m=e[h];let v=null;Array.isArray(m)&&(v=m[0]),v===null&&(v=(o=(i=r[h])!==null&&i!==void 0?i:n.readValue(h))!==null&&o!==void 0?o:e[h]),v!=null&&(typeof v=="string"&&(X0(v)||Q0(v))?v=parseFloat(v):!v1(v)&&Zn.test(m)&&(v=Y0(h,m)),n.addValue(h,Tr(v,{owner:n})),r[h]===void 0&&(r[h]=v),v!==null&&n.setBaseTarget(h,v))}}function b1(n,e){return e?(e[n]||e.default||e).from:void 0}function _1(n,e,r){const i={};for(const o in n){const l=b1(o,e);if(l!==void 0)i[o]=l;else{const u=r.getValue(o);u&&(i[o]=u.get())}}return i}function k1({protectedKeys:n,needsAnimating:e},r){const i=n.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,i}function S1(n,e){const r=n.get();if(Array.isArray(e)){for(let i=0;i<e.length;i++)if(e[i]!==r)return!0}else return r!==e}function tg(n,e,{delay:r=0,transitionOverride:i,type:o}={}){let{transition:l=n.getDefaultTransition(),transitionEnd:u,...d}=n.makeTargetAnimatable(e);const h=n.getValue("willChange");i&&(l=i);const m=[],v=o&&n.animationState&&n.animationState.getState()[o];for(const x in d){const y=n.getValue(x),w=d[x];if(!y||w===void 0||v&&k1(v,x))continue;const _={delay:r,elapsed:0,...nd(l||{},x)};if(window.HandoffAppearAnimations){const M=n.getProps()[r0];if(M){const T=window.HandoffAppearAnimations(M,x,y,Oe);T!==null&&(_.elapsed=T,_.isHandoff=!0)}}let S=!_.isHandoff&&!S1(y,w);if(_.type==="spring"&&(y.getVelocity()||_.velocity)&&(S=!1),y.animation&&(S=!1),S)continue;y.start(rd(x,y,w,n.shouldReduceMotion&&Or.has(x)?{type:!1}:_));const E=y.animation;ya(h)&&(h.add(x),E.then(()=>h.remove(x))),m.push(E)}return u&&Promise.all(m).then(()=>{u&&x1(n,u)}),m}function hc(n,e,r={}){const i=Ia(n,e,r.custom);let{transition:o=n.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(o=r.transitionOverride);const l=i?()=>Promise.all(tg(n,i,r)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:v,staggerDirection:x}=o;return j1(n,e,m+h,v,x,r)}:()=>Promise.resolve(),{when:d}=o;if(d){const[h,m]=d==="beforeChildren"?[l,u]:[u,l];return h().then(()=>m())}else return Promise.all([l(),u(r.delay)])}function j1(n,e,r=0,i=0,o=1,l){const u=[],d=(n.variantChildren.size-1)*i,h=o===1?(m=0)=>m*i:(m=0)=>d-m*i;return Array.from(n.variantChildren).sort(E1).forEach((m,v)=>{m.notify("AnimationStart",e),u.push(hc(m,e,{...l,delay:r+h(v)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(u)}function E1(n,e){return n.sortNodePosition(e)}function C1(n,e,r={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(l=>hc(n,l,r));i=Promise.all(o)}else if(typeof e=="string")i=hc(n,e,r);else{const o=typeof e=="function"?Ia(n,e,r.custom):e;i=Promise.all(tg(n,o,r))}return i.then(()=>n.notify("AnimationComplete",e))}const T1=[...Bc].reverse(),P1=Bc.length;function N1(n){return e=>Promise.all(e.map(({animation:r,options:i})=>C1(n,r,i)))}function O1(n){let e=N1(n);const r=R1();let i=!0;const o=(h,m)=>{const v=Ia(n,m);if(v){const{transition:x,transitionEnd:y,...w}=v;h={...h,...w,...y}}return h};function l(h){e=h(n)}function u(h,m){const v=n.getProps(),x=n.getVariantContext(!0)||{},y=[],w=new Set;let _={},S=1/0;for(let M=0;M<P1;M++){const T=T1[M],j=r[T],R=v[T]!==void 0?v[T]:x[T],q=ki(R),F=T===m?j.isActive:null;F===!1&&(S=M);let C=R===x[T]&&R!==v[T]&&q;if(C&&i&&n.manuallyAnimateOnMount&&(C=!1),j.protectedKeys={..._},!j.isActive&&F===null||!R&&!j.prevProp||Na(R)||typeof R=="boolean")continue;let D=A1(j.prevProp,R)||T===m&&j.isActive&&!C&&q||M>S&&q,B=!1;const J=Array.isArray(R)?R:[R];let ne=J.reduce(o,{});F===!1&&(ne={});const{prevResolvedValues:le={}}=j,me={...le,...ne},Fe=xe=>{D=!0,w.has(xe)&&(B=!0,w.delete(xe)),j.needsAnimating[xe]=!0};for(const xe in me){const be=ne[xe],G=le[xe];if(_.hasOwnProperty(xe))continue;let se=!1;pa(be)&&pa(G)?se=!S0(be,G):se=be!==G,se?be!==void 0?Fe(xe):w.add(xe):be!==void 0&&w.has(xe)?Fe(xe):j.protectedKeys[xe]=!0}j.prevProp=R,j.prevResolvedValues=ne,j.isActive&&(_={..._,...ne}),i&&n.blockInitialAnimation&&(D=!1),D&&(!C||B)&&y.push(...J.map(xe=>({animation:xe,options:{type:T,...h}})))}if(w.size){const M={};w.forEach(T=>{const j=n.getBaseTarget(T);j!==void 0&&(M[T]=j)}),y.push({animation:M})}let E=!!y.length;return i&&(v.initial===!1||v.initial===v.animate)&&!n.manuallyAnimateOnMount&&(E=!1),i=!1,E?e(y):Promise.resolve()}function d(h,m,v){var x;if(r[h].isActive===m)return Promise.resolve();(x=n.variantChildren)===null||x===void 0||x.forEach(w=>{var _;return(_=w.animationState)===null||_===void 0?void 0:_.setActive(h,m)}),r[h].isActive=m;const y=u(v,h);for(const w in r)r[w].protectedKeys={};return y}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>r}}function A1(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!S0(e,n):!1}function mr(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function R1(){return{animate:mr(!0),whileInView:mr(),whileHover:mr(),whileTap:mr(),whileDrag:mr(),whileFocus:mr(),exit:mr()}}class I1 extends er{constructor(e){super(e),e.animationState||(e.animationState=O1(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Na(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let L1=0;class z1 extends er{constructor(){super(...arguments),this.id=L1++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r,custom:i}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===o)return;const l=this.node.animationState.setActive("exit",!e,{custom:i??this.node.getProps().custom});r&&!e&&l.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const D1={animation:{Feature:I1},exit:{Feature:z1}},Ip=(n,e)=>Math.abs(n-e);function M1(n,e){const r=Ip(n.x,e.x),i=Ip(n.y,e.y);return Math.sqrt(r**2+i**2)}class ng{constructor(e,r,{transformPagePoint:i,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Wu(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,w=M1(x.offset,{x:0,y:0})>=3;if(!y&&!w)return;const{point:_}=x,{timestamp:S}=gt;this.history.push({..._,timestamp:S});const{onStart:E,onMove:M}=this.handlers;y||(E&&E(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,x)},this.handlePointerMove=(x,y)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Uu(y,this.transformPagePoint),Oe.update(this.updatePoint,!0)},this.handlePointerUp=(x,y)=>{this.end();const{onEnd:w,onSessionEnd:_,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Wu(x.type==="pointercancel"?this.lastMoveEventInfo:Uu(y,this.transformPagePoint),this.history);this.startEvent&&w&&w(x,E),_&&_(x,E)},!x0(e))return;this.dragSnapToOrigin=l,this.handlers=r,this.transformPagePoint=i,this.contextWindow=o||window;const u=Ra(e),d=Uu(u,this.transformPagePoint),{point:h}=d,{timestamp:m}=gt;this.history=[{...h,timestamp:m}];const{onSessionStart:v}=r;v&&v(e,Wu(d,this.history)),this.removeListeners=Qn(kn(this.contextWindow,"pointermove",this.handlePointerMove),kn(this.contextWindow,"pointerup",this.handlePointerUp),kn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),dn(this.updatePoint)}}function Uu(n,e){return e?{point:e(n.point)}:n}function Lp(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Wu({point:n},e){return{point:n,delta:Lp(n,rg(e)),offset:Lp(n,V1(e)),velocity:B1(e,.1)}}function V1(n){return n[0]}function rg(n){return n[n.length-1]}function B1(n,e){if(n.length<2)return{x:0,y:0};let r=n.length-1,i=null;const o=rg(n);for(;r>=0&&(i=n[r],!(o.timestamp-i.timestamp>Cr(e)));)r--;if(!i)return{x:0,y:0};const l=Sn(o.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(o.x-i.x)/l,y:(o.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function Mt(n){return n.max-n.min}function fc(n,e=0,r=.01){return Math.abs(n-e)<=r}function zp(n,e,r,i=.5){n.origin=i,n.originPoint=$e(e.min,e.max,n.origin),n.scale=Mt(r)/Mt(e),(fc(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=$e(r.min,r.max,n.origin)-n.originPoint,(fc(n.translate)||isNaN(n.translate))&&(n.translate=0)}function vi(n,e,r,i){zp(n.x,e.x,r.x,i?i.originX:void 0),zp(n.y,e.y,r.y,i?i.originY:void 0)}function Dp(n,e,r){n.min=r.min+e.min,n.max=n.min+Mt(e)}function $1(n,e,r){Dp(n.x,e.x,r.x),Dp(n.y,e.y,r.y)}function Mp(n,e,r){n.min=e.min-r.min,n.max=n.min+Mt(e)}function yi(n,e,r){Mp(n.x,e.x,r.x),Mp(n.y,e.y,r.y)}function F1(n,{min:e,max:r},i){return e!==void 0&&n<e?n=i?$e(e,n,i.min):Math.max(n,e):r!==void 0&&n>r&&(n=i?$e(r,n,i.max):Math.min(n,r)),n}function Vp(n,e,r){return{min:e!==void 0?n.min+e:void 0,max:r!==void 0?n.max+r-(n.max-n.min):void 0}}function U1(n,{top:e,left:r,bottom:i,right:o}){return{x:Vp(n.x,r,o),y:Vp(n.y,e,i)}}function Bp(n,e){let r=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([r,i]=[i,r]),{min:r,max:i}}function W1(n,e){return{x:Bp(n.x,e.x),y:Bp(n.y,e.y)}}function H1(n,e){let r=.5;const i=Mt(n),o=Mt(e);return o>i?r=ji(e.min,e.max-i,n.min):i>o&&(r=ji(n.min,n.max-o,e.min)),Xn(0,1,r)}function q1(n,e){const r={};return e.min!==void 0&&(r.min=e.min-n.min),e.max!==void 0&&(r.max=e.max-n.min),r}const pc=.35;function K1(n=pc){return n===!1?n=0:n===!0&&(n=pc),{x:$p(n,"left","right"),y:$p(n,"top","bottom")}}function $p(n,e,r){return{min:Fp(n,e),max:Fp(n,r)}}function Fp(n,e){return typeof n=="number"?n:n[e]||0}const Up=()=>({translate:0,scale:1,origin:0,originPoint:0}),ps=()=>({x:Up(),y:Up()}),Wp=()=>({min:0,max:0}),Xe=()=>({x:Wp(),y:Wp()});function qt(n){return[n("x"),n("y")]}function sg({top:n,left:e,right:r,bottom:i}){return{x:{min:e,max:r},y:{min:n,max:i}}}function G1({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function J1(n,e){if(!e)return n;const r=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:r.y,left:r.x,bottom:i.y,right:i.x}}function Hu(n){return n===void 0||n===1}function mc({scale:n,scaleX:e,scaleY:r}){return!Hu(n)||!Hu(e)||!Hu(r)}function yr(n){return mc(n)||ig(n)||n.z||n.rotate||n.rotateX||n.rotateY}function ig(n){return Hp(n.x)||Hp(n.y)}function Hp(n){return n&&n!=="0%"}function xa(n,e,r){const i=n-r,o=e*i;return r+o}function qp(n,e,r,i,o){return o!==void 0&&(n=xa(n,o,i)),xa(n,r,i)+e}function gc(n,e=0,r=1,i,o){n.min=qp(n.min,e,r,i,o),n.max=qp(n.max,e,r,i,o)}function og(n,{x:e,y:r}){gc(n.x,e.translate,e.scale,e.originPoint),gc(n.y,r.translate,r.scale,r.originPoint)}function Y1(n,e,r,i=!1){const o=r.length;if(!o)return;e.x=e.y=1;let l,u;for(let d=0;d<o;d++){l=r[d],u=l.projectionDelta;const h=l.instance;h&&h.style&&h.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ms(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,og(n,u)),i&&yr(l.latestValues)&&ms(n,l.latestValues))}e.x=Kp(e.x),e.y=Kp(e.y)}function Kp(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function Jn(n,e){n.min=n.min+e,n.max=n.max+e}function Gp(n,e,[r,i,o]){const l=e[o]!==void 0?e[o]:.5,u=$e(n.min,n.max,l);gc(n,e[r],e[i],u,e.scale)}const Q1=["x","scaleX","originX"],X1=["y","scaleY","originY"];function ms(n,e){Gp(n.x,e,Q1),Gp(n.y,e,X1)}function ag(n,e){return sg(J1(n.getBoundingClientRect(),e))}function Z1(n,e,r){const i=ag(n,r),{scroll:o}=e;return o&&(Jn(i.x,o.offset.x),Jn(i.y,o.offset.y)),i}const lg=({current:n})=>n?n.ownerDocument.defaultView:null,eb=new WeakMap;class tb{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Xe(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=v=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Ra(v,"page").point)},l=(v,x)=>{const{drag:y,dragPropagation:w,onDragStart:_}=this.getProps();if(y&&!w&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=b0(y),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qt(E=>{let M=this.getAxisMotionValue(E).get()||0;if(cn.test(M)){const{projection:T}=this.visualElement;if(T&&T.layout){const j=T.layout.layoutBox[E];j&&(M=Mt(j)*(parseFloat(M)/100))}}this.originPoint[E]=M}),_&&Oe.update(()=>_(v,x),!1,!0);const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},u=(v,x)=>{const{dragPropagation:y,dragDirectionLock:w,onDirectionLock:_,onDrag:S}=this.getProps();if(!y&&!this.openGlobalLock)return;const{offset:E}=x;if(w&&this.currentDirection===null){this.currentDirection=nb(E),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",x.point,E),this.updateAxis("y",x.point,E),this.visualElement.render(),S&&S(v,x)},d=(v,x)=>this.stop(v,x),h=()=>qt(v=>{var x;return this.getAnimationState(v)==="paused"&&((x=this.getAxisMotionValue(v).animation)===null||x===void 0?void 0:x.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new ng(e,{onSessionStart:o,onStart:l,onMove:u,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:lg(this.visualElement)})}stop(e,r){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Oe.update(()=>l(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,i){const{drag:o}=this.getProps();if(!i||!Qo(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=F1(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:i}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;r&&hs(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&o?this.constraints=U1(o.layoutBox,r):this.constraints=!1,this.elastic=K1(i),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&qt(u=>{this.getAxisMotionValue(u)&&(this.constraints[u]=q1(o.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!hs(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=Z1(i,o.root,this.visualElement.getTransformPagePoint());let u=W1(o.layout.layoutBox,l);if(r){const d=r(G1(u));this.hasMutatedConstraints=!!d,d&&(u=sg(d))}return u}startAnimation(e){const{drag:r,dragMomentum:i,dragElastic:o,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},m=qt(v=>{if(!Qo(v,r,this.currentDirection))return;let x=h&&h[v]||{};u&&(x={min:0,max:0});const y=o?200:1e6,w=o?40:1e7,_={type:"inertia",velocity:i?e[v]:0,bounceStiffness:y,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...l,...x};return this.startAxisValueAnimation(v,_)});return Promise.all(m).then(d)}startAxisValueAnimation(e,r){const i=this.getAxisMotionValue(e);return i.start(rd(e,i,0,r))}stopAnimation(){qt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){qt(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r="_drag"+e.toUpperCase(),i=this.visualElement.getProps(),o=i[r];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){qt(r=>{const{drag:i}=this.getProps();if(!Qo(r,i,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(r);if(o&&o.layout){const{min:u,max:d}=o.layout.layoutBox[r];l.set(e[r]-$e(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!hs(r)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};qt(u=>{const d=this.getAxisMotionValue(u);if(d){const h=d.get();o[u]=H1({min:h,max:h},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),qt(u=>{if(!Qo(u,e,null))return;const d=this.getAxisMotionValue(u),{min:h,max:m}=this.constraints[u];d.set($e(h,m,o[u]))})}addListeners(){if(!this.visualElement.current)return;eb.set(this.visualElement,this);const e=this.visualElement.current,r=kn(e,"pointerdown",h=>{const{drag:m,dragListener:v=!0}=this.getProps();m&&v&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();hs(h)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),i();const u=_n(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(qt(v=>{const x=this.getAxisMotionValue(v);x&&(this.originPoint[v]+=h[v].translate,x.set(x.get()+h[v].translate))}),this.visualElement.render())}));return()=>{u(),r(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:u=pc,dragMomentum:d=!0}=e;return{...e,drag:r,dragDirectionLock:i,dragPropagation:o,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function Qo(n,e,r){return(e===!0||e===n)&&(r===null||r===n)}function nb(n,e=10){let r=null;return Math.abs(n.y)>e?r="y":Math.abs(n.x)>e&&(r="x"),r}class rb extends er{constructor(e){super(e),this.removeGroupControls=Je,this.removeListeners=Je,this.controls=new tb(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Je}unmount(){this.removeGroupControls(),this.removeListeners()}}const Jp=n=>(e,r)=>{n&&Oe.update(()=>n(e,r))};class sb extends er{constructor(){super(...arguments),this.removePointerDownListener=Je}onPointerDown(e){this.session=new ng(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:lg(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:Jp(e),onStart:Jp(r),onMove:i,onEnd:(l,u)=>{delete this.session,o&&Oe.update(()=>o(l,u))}}}mount(){this.removePointerDownListener=kn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function ib(){const n=z.useContext(Ca);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:i}=n,o=z.useId();return z.useEffect(()=>i(o),[]),!e&&r?[!1,()=>r&&r(o)]:[!0]}const ca={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Yp(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const ui={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(ce.test(n))n=parseFloat(n);else return n;const r=Yp(n,e.target.x),i=Yp(n,e.target.y);return`${r}% ${i}%`}},ob={correct:(n,{treeScale:e,projectionDelta:r})=>{const i=n,o=Zn.parse(n);if(o.length>5)return i;const l=Zn.createTransformer(n),u=typeof o[0]!="number"?1:0,d=r.x.scale*e.x,h=r.y.scale*e.y;o[0+u]/=d,o[1+u]/=h;const m=$e(d,h,.5);return typeof o[2+u]=="number"&&(o[2+u]/=m),typeof o[3+u]=="number"&&(o[3+u]/=m),l(o)}};class ab extends ja.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:i,layoutId:o}=this.props,{projection:l}=e;p2(lb),l&&(r.group&&r.group.add(l),i&&i.register&&o&&i.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),ca.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:i,drag:o,isPresent:l}=this.props,u=i.projection;return u&&(u.isPresent=l,o||e.layoutDependency!==r||r===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Oe.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:i}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ug(n){const[e,r]=ib(),i=z.useContext(Fc);return ja.createElement(ab,{...n,layoutGroup:i,switchLayoutGroup:z.useContext(i0),isPresent:e,safeToRemove:r})}const lb={borderRadius:{...ui,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ui,borderTopRightRadius:ui,borderBottomLeftRadius:ui,borderBottomRightRadius:ui,boxShadow:ob},cg=["TopLeft","TopRight","BottomLeft","BottomRight"],ub=cg.length,Qp=n=>typeof n=="string"?parseFloat(n):n,Xp=n=>typeof n=="number"||ce.test(n);function cb(n,e,r,i,o,l){o?(n.opacity=$e(0,r.opacity!==void 0?r.opacity:1,db(i)),n.opacityExit=$e(e.opacity!==void 0?e.opacity:1,0,hb(i))):l&&(n.opacity=$e(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,i));for(let u=0;u<ub;u++){const d=`border${cg[u]}Radius`;let h=Zp(e,d),m=Zp(r,d);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||Xp(h)===Xp(m)?(n[d]=Math.max($e(Qp(h),Qp(m),i),0),(cn.test(m)||cn.test(h))&&(n[d]+="%")):n[d]=m}(e.rotate||r.rotate)&&(n.rotate=$e(e.rotate||0,r.rotate||0,i))}function Zp(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const db=dg(0,.5,R0),hb=dg(.5,.95,Je);function dg(n,e,r){return i=>i<n?0:i>e?1:r(ji(n,e,i))}function em(n,e){n.min=e.min,n.max=e.max}function Ht(n,e){em(n.x,e.x),em(n.y,e.y)}function tm(n,e,r,i,o){return n-=e,n=xa(n,1/r,i),o!==void 0&&(n=xa(n,1/o,i)),n}function fb(n,e=0,r=1,i=.5,o,l=n,u=n){if(cn.test(e)&&(e=parseFloat(e),e=$e(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=$e(l.min,l.max,i);n===l&&(d-=e),n.min=tm(n.min,e,r,d,o),n.max=tm(n.max,e,r,d,o)}function nm(n,e,[r,i,o],l,u){fb(n,e[r],e[i],e[o],e.scale,l,u)}const pb=["x","scaleX","originX"],mb=["y","scaleY","originY"];function rm(n,e,r,i){nm(n.x,e,pb,r?r.x:void 0,i?i.x:void 0),nm(n.y,e,mb,r?r.y:void 0,i?i.y:void 0)}function sm(n){return n.translate===0&&n.scale===1}function hg(n){return sm(n.x)&&sm(n.y)}function gb(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function fg(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function im(n){return Mt(n.x)/Mt(n.y)}class vb{constructor(){this.members=[]}add(e){sd(this.members,e),e.scheduleRender()}remove(e){if(id(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(o=>e===o);if(r===0)return!1;let i;for(let o=r;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,r){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,r&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:i}=e;r.onExitComplete&&r.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function om(n,e,r){let i="";const o=n.x.translate/e.x,l=n.y.translate/e.y;if((o||l)&&(i=`translate3d(${o}px, ${l}px, 0) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),r){const{rotate:h,rotateX:m,rotateY:v}=r;h&&(i+=`rotate(${h}deg) `),m&&(i+=`rotateX(${m}deg) `),v&&(i+=`rotateY(${v}deg) `)}const u=n.x.scale*e.x,d=n.y.scale*e.y;return(u!==1||d!==1)&&(i+=`scale(${u}, ${d})`),i||"none"}const yb=(n,e)=>n.depth-e.depth;class xb{constructor(){this.children=[],this.isDirty=!1}add(e){sd(this.children,e),this.isDirty=!0}remove(e){id(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(yb),this.isDirty=!1,this.children.forEach(e)}}function wb(n,e){const r=performance.now(),i=({timestamp:o})=>{const l=o-r;l>=e&&(dn(i),n(l-e))};return Oe.read(i,!0),()=>dn(i)}function bb(n){window.MotionDebug&&window.MotionDebug.record(n)}function _b(n){return n instanceof SVGElement&&n.tagName!=="svg"}function kb(n,e,r){const i=yt(n)?n:Tr(n);return i.start(rd("",i,e,r)),i.animation}const am=["","X","Y","Z"],Sb={visibility:"hidden"},lm=1e3;let jb=0;const xr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function pg({attachResizeListener:n,defaultParent:e,measureScroll:r,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(u={},d=e?.()){this.id=jb++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,xr.totalNodes=xr.resolvedTargetDeltas=xr.recalculatedProjection=0,this.nodes.forEach(Tb),this.nodes.forEach(Rb),this.nodes.forEach(Ib),this.nodes.forEach(Pb),bb(xr)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new xb)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new od),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const h=this.eventHandlers.get(u);h&&h.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=_b(u),this.instance=u;const{layoutId:h,layout:m,visualElement:v}=this.options;if(v&&!v.current&&v.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(m||h)&&(this.isLayoutDirty=!0),n){let x;const y=()=>this.root.updateBlockedByResize=!1;n(u,()=>{this.root.updateBlockedByResize=!0,x&&x(),x=wb(y,250),ca.hasAnimatedSinceResize&&(ca.hasAnimatedSinceResize=!1,this.nodes.forEach(cm))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&v&&(h||m)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:y,hasRelativeTargetChanged:w,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||v.getDefaultTransition()||Vb,{onLayoutAnimationStart:E,onLayoutAnimationComplete:M}=v.getProps(),T=!this.targetLayout||!fg(this.targetLayout,_)||w,j=!y&&w;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||j||y&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(x,j);const R={...nd(S,"layout"),onPlay:E,onComplete:M};(v.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else y||cm(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,dn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Lb),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const x=this.path[v];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(um);return}this.isUpdating||this.nodes.forEach(Ob),this.isUpdating=!1,this.nodes.forEach(Ab),this.nodes.forEach(Eb),this.nodes.forEach(Cb),this.clearAllSnapshots();const d=performance.now();gt.delta=Xn(0,1e3/60,d-gt.timestamp),gt.timestamp=d,gt.isProcessing=!0,Lu.update.process(gt),Lu.preRender.process(gt),Lu.render.process(gt),gt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Nb),this.sharedNodes.forEach(zb)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Oe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Oe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Xe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&(this.scroll={animationId:this.root.animationId,phase:u,isRoot:i(this.instance),offset:r(this.instance)})}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform,d=this.projectionDelta&&!hg(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,v=m!==this.prevTransformTemplateValue;u&&(d||yr(this.latestValues)||v)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return u&&(h=this.removeTransform(h)),Bb(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Xe();const d=u.measureViewportBox(),{scroll:h}=this.root;return h&&(Jn(d.x,h.offset.x),Jn(d.y,h.offset.y)),d}removeElementScroll(u){const d=Xe();Ht(d,u);for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:v,options:x}=m;if(m!==this.root&&v&&x.layoutScroll){if(v.isRoot){Ht(d,u);const{scroll:y}=this.root;y&&(Jn(d.x,-y.offset.x),Jn(d.y,-y.offset.y))}Jn(d.x,v.offset.x),Jn(d.y,v.offset.y)}}return d}applyTransform(u,d=!1){const h=Xe();Ht(h,u);for(let m=0;m<this.path.length;m++){const v=this.path[m];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&ms(h,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),yr(v.latestValues)&&ms(h,v.latestValues)}return yr(this.latestValues)&&ms(h,this.latestValues),h}removeTransform(u){const d=Xe();Ht(d,u);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!yr(m.latestValues))continue;mc(m.latestValues)&&m.updateSnapshot();const v=Xe(),x=m.measurePageBox();Ht(v,x),rm(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,v)}return yr(this.latestValues)&&rm(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==gt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var d;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==h;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:x,layoutId:y}=this.options;if(!(!this.layout||!(x||y))){if(this.resolvedRelativeTargetAt=gt.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xe(),this.relativeTargetOrigin=Xe(),yi(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),Ht(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Xe(),this.targetWithTransforms=Xe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$1(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ht(this.target,this.layout.layoutBox),og(this.target,this.targetDelta)):Ht(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xe(),this.relativeTargetOrigin=Xe(),yi(this.relativeTargetOrigin,this.target,w.target),Ht(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}xr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||mc(this.parent.latestValues)||ig(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const d=this.getLead(),h=!!this.resumingFrom||this!==d;let m=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(m=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===gt.timestamp&&(m=!1),m)return;const{layout:v,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||x))return;Ht(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,w=this.treeScale.y;Y1(this.layoutCorrected,this.treeScale,this.path,h),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox);const{target:_}=d;if(!_){this.projectionTransform&&(this.projectionDelta=ps(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ps(),this.projectionDeltaWithTransform=ps());const S=this.projectionTransform;vi(this.projectionDelta,this.layoutCorrected,_,this.latestValues),this.projectionTransform=om(this.projectionDelta,this.treeScale),(this.projectionTransform!==S||this.treeScale.x!==y||this.treeScale.y!==w)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_)),xr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(u,d=!1){const h=this.snapshot,m=h?h.latestValues:{},v={...this.latestValues},x=ps();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const y=Xe(),w=h?h.source:void 0,_=this.layout?this.layout.source:void 0,S=w!==_,E=this.getStack(),M=!E||E.members.length<=1,T=!!(S&&!M&&this.options.crossfade===!0&&!this.path.some(Mb));this.animationProgress=0;let j;this.mixTargetDelta=R=>{const q=R/1e3;dm(x.x,u.x,q),dm(x.y,u.y,q),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yi(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Db(this.relativeTarget,this.relativeTargetOrigin,y,q),j&&gb(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=Xe()),Ht(j,this.relativeTarget)),S&&(this.animationValues=v,cb(v,m,this.latestValues,q,T,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(dn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Oe.update(()=>{ca.hasAnimatedSinceResize=!0,this.currentAnimation=kb(0,lm,{...u,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(lm),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:h,layout:m,latestValues:v}=u;if(!(!d||!h||!m)){if(this!==u&&this.layout&&m&&mg(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||Xe();const x=Mt(this.layout.layoutBox.x);h.x.min=u.target.x.min,h.x.max=h.x.min+x;const y=Mt(this.layout.layoutBox.y);h.y.min=u.target.y.min,h.y.max=h.y.min+y}Ht(d,h),ms(d,v),vi(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new vb),this.sharedNodes.get(u).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:d}=this.options;return d?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:d}=this.options;return d?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:h}=u;if((h.rotate||h.rotateX||h.rotateY||h.rotateZ)&&(d=!0),!d)return;const m={};for(let v=0;v<am.length;v++){const x="rotate"+am[v];h[x]&&(m[x]=h[x],u.setStaticValue(x,0))}u.render();for(const v in m)u.setStaticValue(v,m[v]);u.scheduleRender()}getProjectionStyles(u){var d,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Sb;const m={visibility:""},v=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=ua(u?.pointerEvents)||"",m.transform=v?v(this.latestValues,""):"none",m;const x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=ua(u?.pointerEvents)||""),this.hasProjected&&!yr(this.latestValues)&&(S.transform=v?v({},""):"none",this.hasProjected=!1),S}const y=x.animationValues||x.latestValues;this.applyTransformsToTarget(),m.transform=om(this.projectionDeltaWithTransform,this.treeScale,y),v&&(m.transform=v(y,m.transform));const{x:w,y:_}=this.projectionDelta;m.transformOrigin=`${w.origin*100}% ${_.origin*100}% 0`,x.animationValues?m.opacity=x===this?(h=(d=y.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:m.opacity=x===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const S in ha){if(y[S]===void 0)continue;const{correct:E,applyTo:M}=ha[S],T=m.transform==="none"?y[S]:E(y[S],x);if(M){const j=M.length;for(let R=0;R<j;R++)m[M[R]]=T}else m[S]=T}return this.options.layoutId&&(m.pointerEvents=x===this?ua(u?.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var d;return(d=u.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(um),this.root.sharedNodes.clear()}}}function Eb(n){n.updateLayout()}function Cb(n){var e;const r=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&r&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=n.layout,{animationType:l}=n.options,u=r.source!==n.layout.source;l==="size"?qt(x=>{const y=u?r.measuredBox[x]:r.layoutBox[x],w=Mt(y);y.min=i[x].min,y.max=y.min+w}):mg(l,r.layoutBox,i)&&qt(x=>{const y=u?r.measuredBox[x]:r.layoutBox[x],w=Mt(i[x]);y.max=y.min+w,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[x].max=n.relativeTarget[x].min+w)});const d=ps();vi(d,i,r.layoutBox);const h=ps();u?vi(h,n.applyTransform(o,!0),r.measuredBox):vi(h,i,r.layoutBox);const m=!hg(d);let v=!1;if(!n.resumeFrom){const x=n.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:y,layout:w}=x;if(y&&w){const _=Xe();yi(_,r.layoutBox,y.layoutBox);const S=Xe();yi(S,i,w.layoutBox),fg(_,S)||(v=!0),x.options.layoutRoot&&(n.relativeTarget=S,n.relativeTargetOrigin=_,n.relativeParent=x)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:r,delta:h,layoutDelta:d,hasLayoutChanged:m,hasRelativeTargetChanged:v})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function Tb(n){xr.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function Pb(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function Nb(n){n.clearSnapshot()}function um(n){n.clearMeasurements()}function Ob(n){n.isLayoutDirty=!1}function Ab(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function cm(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function Rb(n){n.resolveTargetDelta()}function Ib(n){n.calcProjection()}function Lb(n){n.resetRotation()}function zb(n){n.removeLeadSnapshot()}function dm(n,e,r){n.translate=$e(e.translate,0,r),n.scale=$e(e.scale,1,r),n.origin=e.origin,n.originPoint=e.originPoint}function hm(n,e,r,i){n.min=$e(e.min,r.min,i),n.max=$e(e.max,r.max,i)}function Db(n,e,r,i){hm(n.x,e.x,r.x,i),hm(n.y,e.y,r.y,i)}function Mb(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const Vb={duration:.45,ease:[.4,0,.1,1]},fm=n=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(n),pm=fm("applewebkit/")&&!fm("chrome/")?Math.round:Je;function mm(n){n.min=pm(n.min),n.max=pm(n.max)}function Bb(n){mm(n.x),mm(n.y)}function mg(n,e,r){return n==="position"||n==="preserve-aspect"&&!fc(im(e),im(r),.2)}const $b=pg({attachResizeListener:(n,e)=>_n(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),qu={current:void 0},gg=pg({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!qu.current){const n=new $b({});n.mount(window),n.setOptions({layoutScroll:!0}),qu.current=n}return qu.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Fb={pan:{Feature:sb},drag:{Feature:rb,ProjectionNode:gg,MeasureLayout:ug}},Ub=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Wb(n){const e=Ub.exec(n);if(!e)return[,];const[,r,i]=e;return[r,i]}function vc(n,e,r=1){const[i,o]=Wb(n);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const u=l.trim();return X0(u)?parseFloat(u):u}else return oc(o)?vc(o,e,r+1):o}function Hb(n,{...e},r){const i=n.current;if(!(i instanceof Element))return{target:e,transitionEnd:r};r&&(r={...r}),n.values.forEach(o=>{const l=o.get();if(!oc(l))return;const u=vc(l,i);u&&o.set(u)});for(const o in e){const l=e[o];if(!oc(l))continue;const u=vc(l,i);u&&(e[o]=u,r||(r={}),r[o]===void 0&&(r[o]=l))}return{target:e,transitionEnd:r}}const qb=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),vg=n=>qb.has(n),Kb=n=>Object.keys(n).some(vg),gm=n=>n===Ar||n===ce,vm=(n,e)=>parseFloat(n.split(", ")[e]),ym=(n,e)=>(r,{transform:i})=>{if(i==="none"||!i)return 0;const o=i.match(/^matrix3d\((.+)\)$/);if(o)return vm(o[1],e);{const l=i.match(/^matrix\((.+)\)$/);return l?vm(l[1],n):0}},Gb=new Set(["x","y","z"]),Jb=Ri.filter(n=>!Gb.has(n));function Yb(n){const e=[];return Jb.forEach(r=>{const i=n.getValue(r);i!==void 0&&(e.push([r,i.get()]),i.set(r.startsWith("scale")?1:0))}),e.length&&n.render(),e}const vs={width:({x:n},{paddingLeft:e="0",paddingRight:r="0"})=>n.max-n.min-parseFloat(e)-parseFloat(r),height:({y:n},{paddingTop:e="0",paddingBottom:r="0"})=>n.max-n.min-parseFloat(e)-parseFloat(r),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:ym(4,13),y:ym(5,14)};vs.translateX=vs.x;vs.translateY=vs.y;const Qb=(n,e,r)=>{const i=e.measureViewportBox(),o=e.current,l=getComputedStyle(o),{display:u}=l,d={};u==="none"&&e.setStaticValue("display",n.display||"block"),r.forEach(m=>{d[m]=vs[m](i,l)}),e.render();const h=e.measureViewportBox();return r.forEach(m=>{const v=e.getValue(m);v&&v.jump(d[m]),n[m]=vs[m](h,l)}),n},Xb=(n,e,r={},i={})=>{e={...e},i={...i};const o=Object.keys(e).filter(vg);let l=[],u=!1;const d=[];if(o.forEach(h=>{const m=n.getValue(h);if(!n.hasValue(h))return;let v=r[h],x=li(v);const y=e[h];let w;if(pa(y)){const _=y.length,S=y[0]===null?1:0;v=y[S],x=li(v);for(let E=S;E<_&&y[E]!==null;E++)w?Qc(li(y[E])===w):w=li(y[E])}else w=li(y);if(x!==w)if(gm(x)&&gm(w)){const _=m.get();typeof _=="string"&&m.set(parseFloat(_)),typeof y=="string"?e[h]=parseFloat(y):Array.isArray(y)&&w===ce&&(e[h]=y.map(parseFloat))}else x?.transform&&w?.transform&&(v===0||y===0)?v===0?m.set(w.transform(v)):e[h]=x.transform(y):(u||(l=Yb(n),u=!0),d.push(h),i[h]=i[h]!==void 0?i[h]:e[h],m.jump(y))}),d.length){const h=d.indexOf("height")>=0?window.pageYOffset:null,m=Qb(e,n,d);return l.length&&l.forEach(([v,x])=>{n.getValue(v).set(x)}),n.render(),Ta&&h!==null&&window.scrollTo({top:h}),{target:m,transitionEnd:i}}else return{target:e,transitionEnd:i}};function Zb(n,e,r,i){return Kb(e)?Xb(n,e,r,i):{target:e,transitionEnd:i}}const e_=(n,e,r,i)=>{const o=Hb(n,e,i);return e=o.target,i=o.transitionEnd,Zb(n,e,r,i)},yc={current:null},yg={current:!1};function t_(){if(yg.current=!0,!!Ta)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>yc.current=n.matches;n.addListener(e),e()}else yc.current=!1}function n_(n,e,r){const{willChange:i}=e;for(const o in e){const l=e[o],u=r[o];if(yt(l))n.addValue(o,l),ya(i)&&i.add(o);else if(yt(u))n.addValue(o,Tr(l,{owner:n})),ya(i)&&i.remove(o);else if(u!==l)if(n.hasValue(o)){const d=n.getValue(o);!d.hasAnimated&&d.set(l)}else{const d=n.getStaticValue(o);n.addValue(o,Tr(d!==void 0?d:l,{owner:n}))}}for(const o in r)e[o]===void 0&&n.removeValue(o);return e}const xm=new WeakMap,xg=Object.keys(Si),r_=xg.length,wm=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],s_=$c.length;class i_{constructor({parent:e,props:r,presenceContext:i,reducedMotionConfig:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Oe.render(this.render,!1,!0);const{latestValues:d,renderState:h}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=r.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=r,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=u,this.isControllingVariants=Oa(r),this.isVariantNode=s0(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...v}=this.scrapeMotionValuesFromProps(r,{});for(const x in v){const y=v[x];d[x]!==void 0&&yt(y)&&(y.set(d[x],!1),ya(m)&&m.add(x))}}scrapeMotionValuesFromProps(e,r){return{}}mount(e){this.current=e,xm.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),yg.current||t_(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:yc.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){xm.delete(this.current),this.projection&&this.projection.unmount(),dn(this.notifyUpdate),dn(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,r){const i=Or.has(e),o=r.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Oe.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),l=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{o(),l()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...r},i,o,l){let u,d;for(let h=0;h<r_;h++){const m=xg[h],{isEnabled:v,Feature:x,ProjectionNode:y,MeasureLayout:w}=Si[m];y&&(u=y),v(r)&&(!this.features[m]&&x&&(this.features[m]=new x(this)),w&&(d=w))}if((this.type==="html"||this.type==="svg")&&!this.projection&&u){this.projection=new u(this.latestValues,this.parent&&this.parent.projection);const{layoutId:h,layout:m,drag:v,dragConstraints:x,layoutScroll:y,layoutRoot:w}=r;this.projection.setOptions({layoutId:h,layout:m,alwaysMeasureLayout:!!v||x&&hs(x),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof m=="string"?m:"both",initialPromotionConfig:l,layoutScroll:y,layoutRoot:w})}return d}updateFeatures(){for(const e in this.features){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Xe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}makeTargetAnimatable(e,r=!0){return this.makeTargetAnimatableFromInstance(e,this.props,r)}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let i=0;i<wm.length;i++){const o=wm[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l=e["on"+o];l&&(this.propEventSubscriptions[o]=this.on(o,l))}this.prevMotionValues=n_(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const r={};for(let i=0;i<s_;i++){const o=$c[i],l=this.props[o];(ki(l)||l===!1)&&(r[o]=l)}return r}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){r!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,r)),this.values.set(e,r),this.latestValues[e]=r.get()}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&r!==void 0&&(i=Tr(r,{owner:this}),this.addValue(e,i)),i}readValue(e){var r;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:i}=this.props,o=typeof i=="string"||typeof i=="object"?(r=Jc(this.props,i))===null||r===void 0?void 0:r[e]:void 0;if(i&&o!==void 0)return o;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!yt(l)?l:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new od),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class wg extends i_{sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:i}){delete r[e],delete i[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:r,...i},{transformValues:o},l){let u=_1(i,e||{},this);if(o&&(r&&(r=o(r)),i&&(i=o(i)),u&&(u=o(u))),l){w1(this,i,u);const d=e_(this,i,u,r);r=d.transitionEnd,i=d.target}return{transition:e,transitionEnd:r,...i}}}function o_(n){return window.getComputedStyle(n)}class a_ extends wg{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,r){if(Or.has(r)){const i=td(r);return i&&i.default||0}else{const i=o_(e),o=(l0(r)?i.getPropertyValue(r):i[r])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:r}){return ag(e,r)}build(e,r,i,o){Wc(e,r,i,o.transformTemplate)}scrapeMotionValuesFromProps(e,r){return Gc(e,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;yt(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(e,r,i,o){p0(e,r,i,o)}}class l_ extends wg{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Or.has(r)){const i=td(r);return i&&i.default||0}return r=m0.has(r)?r:Vc(r),e.getAttribute(r)}measureInstanceViewportBox(){return Xe()}scrapeMotionValuesFromProps(e,r){return v0(e,r)}build(e,r,i,o){qc(e,r,i,this.isSVGTag,o.transformTemplate)}renderInstance(e,r,i,o){g0(e,r,i,o)}mount(e){this.isSVGTag=Kc(e.tagName),super.mount(e)}}const u_=(n,e)=>Uc(n)?new l_(e,{enableHardwareAcceleration:!1}):new a_(e,{enableHardwareAcceleration:!0}),c_={layout:{ProjectionNode:gg,MeasureLayout:ug}},d_={...D1,...rw,...Fb,...c_},Ge=h2((n,e)=>W2(n,e,d_,u_));function bg(){const n=z.useRef(!1);return Pa(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function h_(){const n=bg(),[e,r]=z.useState(0),i=z.useCallback(()=>{n.current&&r(e+1)},[e]);return[z.useCallback(()=>Oe.postRender(i),[i]),e]}class f_ extends z.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function p_({children:n,isPresent:e}){const r=z.useId(),i=z.useRef(null),o=z.useRef({width:0,height:0,top:0,left:0});return z.useInsertionEffect(()=>{const{width:l,height:u,top:d,left:h}=o.current;if(e||!i.current||!l||!u)return;i.current.dataset.motionPopId=r;const m=document.createElement("style");return document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            top: ${d}px !important;
            left: ${h}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[e]),z.createElement(f_,{isPresent:e,childRef:i,sizeRef:o},z.cloneElement(n,{ref:i}))}const Ku=({children:n,initial:e,isPresent:r,onExitComplete:i,custom:o,presenceAffectsLayout:l,mode:u})=>{const d=Yc(m_),h=z.useId(),m=z.useMemo(()=>({id:h,initial:e,isPresent:r,custom:o,onExitComplete:v=>{d.set(v,!0);for(const x of d.values())if(!x)return;i&&i()},register:v=>(d.set(v,!1),()=>d.delete(v))}),l?void 0:[r]);return z.useMemo(()=>{d.forEach((v,x)=>d.set(x,!1))},[r]),z.useEffect(()=>{!r&&!d.size&&i&&i()},[r]),u==="popLayout"&&(n=z.createElement(p_,{isPresent:r},n)),z.createElement(Ca.Provider,{value:m},n)};function m_(){return new Map}function g_(n){return z.useEffect(()=>()=>n(),[])}const wr=n=>n.key||"";function v_(n,e){n.forEach(r=>{const i=wr(r);e.set(i,r)})}function y_(n){const e=[];return z.Children.forEach(n,r=>{z.isValidElement(r)&&e.push(r)}),e}const Ei=({children:n,custom:e,initial:r=!0,onExitComplete:i,exitBeforeEnter:o,presenceAffectsLayout:l=!0,mode:u="sync"})=>{const d=z.useContext(Fc).forceRender||h_()[0],h=bg(),m=y_(n);let v=m;const x=z.useRef(new Map).current,y=z.useRef(v),w=z.useRef(new Map).current,_=z.useRef(!0);if(Pa(()=>{_.current=!1,v_(m,w),y.current=v}),g_(()=>{_.current=!0,w.clear(),x.clear()}),_.current)return z.createElement(z.Fragment,null,v.map(T=>z.createElement(Ku,{key:wr(T),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:l,mode:u},T)));v=[...v];const S=y.current.map(wr),E=m.map(wr),M=S.length;for(let T=0;T<M;T++){const j=S[T];E.indexOf(j)===-1&&!x.has(j)&&x.set(j,void 0)}return u==="wait"&&x.size&&(v=[]),x.forEach((T,j)=>{if(E.indexOf(j)!==-1)return;const R=w.get(j);if(!R)return;const q=S.indexOf(j);let F=T;if(!F){const C=()=>{x.delete(j);const A=Array.from(w.keys()).filter(D=>!E.includes(D));if(A.forEach(D=>w.delete(D)),y.current=m.filter(D=>{const B=wr(D);return B===j||A.includes(B)}),!x.size){if(h.current===!1)return;d(),i&&i()}};F=z.createElement(Ku,{key:wr(R),isPresent:!1,onExitComplete:C,custom:e,presenceAffectsLayout:l,mode:u},R),x.set(j,F)}v.splice(q,0,F)}),v=v.map(T=>{const j=T.key;return x.has(j)?T:z.createElement(Ku,{key:wr(T),isPresent:!0,presenceAffectsLayout:l,mode:u},T)}),z.createElement(z.Fragment,null,x.size?v:v.map(T=>z.cloneElement(T)))};function xc(n){const e=Yc(()=>Tr(n)),{isStatic:r}=z.useContext(Mc);if(r){const[,i]=z.useState(n);z.useEffect(()=>e.on("change",i),[])}return e}function x_(n,e){const r=xc(e()),i=()=>r.set(e());return i(),Pa(()=>{const o=()=>Oe.update(i,!1,!0),l=n.map(u=>u.on("change",o));return()=>{l.forEach(u=>u()),dn(i)}}),r}function w_(n,...e){const r=n.length;function i(){let o="";for(let l=0;l<r;l++){o+=n[l];const u=e[l];u&&(o+=yt(u)?u.get():u)}return o}return x_(e.filter(yt),i)}var b_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const __=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fe=(n,e)=>{const r=z.forwardRef(({color:i="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:u,children:d,...h},m)=>z.createElement("svg",{ref:m,...b_,width:o,height:o,stroke:i,strokeWidth:u?Number(l)*24/Number(o):l,className:`lucide lucide-${__(n)}`,...h},[...e.map(([v,x])=>z.createElement(v,x)),...(Array.isArray(d)?d:[d])||[]]));return r.displayName=`${n}`,r},k_=fe("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),S_=fe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),j_=fe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),E_=fe("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),ad=fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),C_=fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),_g=fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),T_=fe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),P_=fe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),kg=fe("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),N_=fe("FilePlus",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"12",x2:"12",y1:"18",y2:"12",key:"1tsf04"}],["line",{x1:"9",x2:"15",y1:"15",y2:"15",key:"110plj"}]]),Pr=fe("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),O_=fe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),A_=fe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),R_=fe("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),wc=fe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Sg=fe("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]),ld=fe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),I_=fe("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),L_=fe("Layout",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"9",x2:"9",y1:"21",y2:"9",key:"wpwpyp"}]]),z_=fe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),jg=fe("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),La=fe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Eg=fe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),D_=fe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),Cg=fe("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),Tg=fe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),Gu=fe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),M_=fe("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),Nr=fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),V_=fe("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]),Pg=fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),B_=fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),bm=fe("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),Ci=fe("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Ng=fe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),$_=fe("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]),F_=fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),jn=fe("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),U_=fe("Trello",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["rect",{width:"3",height:"9",x:"7",y:"7",key:"14n3xi"}],["rect",{width:"3",height:"5",x:"14",y:"7",key:"s4azjd"}]]),xi=fe("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),W_=fe("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]),H_=fe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),q_=fe("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),xs=fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Og(n){var e,r,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(r=Og(n[e]))&&(i&&(i+=" "),i+=r)}else for(r in n)n[r]&&(i&&(i+=" "),i+=r);return i}function We(){for(var n,e,r=0,i="",o=arguments.length;r<o;r++)(n=arguments[r])&&(e=Og(n))&&(i&&(i+=" "),i+=e);return i}var bc=function(n,e){return bc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},bc(n,e)};function Ag(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");bc(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var wa=function(){return wa=Object.assign||function(e){for(var r,i=1,o=arguments.length;i<o;i++){r=arguments[i];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},wa.apply(this,arguments)};function ws(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(r[i[o]]=n[i[o]]);return r}function Rg(n,e,r,i){var o=arguments.length,l=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,r):i,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(n,e,r,i);else for(var d=n.length-1;d>=0;d--)(u=n[d])&&(l=(o<3?u(l):o>3?u(e,r,l):u(e,r))||l);return o>3&&l&&Object.defineProperty(e,r,l),l}function Ig(n,e){return function(r,i){e(r,i,n)}}function Lg(n,e,r,i,o,l){function u(M){if(M!==void 0&&typeof M!="function")throw new TypeError("Function expected");return M}for(var d=i.kind,h=d==="getter"?"get":d==="setter"?"set":"value",m=!e&&n?i.static?n:n.prototype:null,v=e||(m?Object.getOwnPropertyDescriptor(m,i.name):{}),x,y=!1,w=r.length-1;w>=0;w--){var _={};for(var S in i)_[S]=S==="access"?{}:i[S];for(var S in i.access)_.access[S]=i.access[S];_.addInitializer=function(M){if(y)throw new TypeError("Cannot add initializers after decoration has completed");l.push(u(M||null))};var E=(0,r[w])(d==="accessor"?{get:v.get,set:v.set}:v[h],_);if(d==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(x=u(E.get))&&(v.get=x),(x=u(E.set))&&(v.set=x),(x=u(E.init))&&o.unshift(x)}else(x=u(E))&&(d==="field"?o.unshift(x):v[h]=x)}m&&Object.defineProperty(m,i.name,v),y=!0}function zg(n,e,r){for(var i=arguments.length>2,o=0;o<e.length;o++)r=i?e[o].call(n,r):e[o].call(n);return i?r:void 0}function Dg(n){return typeof n=="symbol"?n:"".concat(n)}function Mg(n,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Vg(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function Z(n,e,r,i){function o(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(v){try{m(i.next(v))}catch(x){u(x)}}function h(v){try{m(i.throw(v))}catch(x){u(x)}}function m(v){v.done?l(v.value):o(v.value).then(d,h)}m((i=i.apply(n,e||[])).next())})}function Bg(n,e){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,o,l,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=d(0),u.throw=d(1),u.return=d(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(m){return function(v){return h([m,v])}}function h(m){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,m[0]&&(r=0)),r;)try{if(i=1,o&&(l=m[0]&2?o.return:m[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,m[1])).done)return l;switch(o=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,o=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){r.label=m[1];break}if(m[0]===6&&r.label<l[1]){r.label=l[1],l=m;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(m);break}l[2]&&r.ops.pop(),r.trys.pop();continue}m=e.call(n,r)}catch(v){m=[6,v],o=0}finally{i=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var za=Object.create?(function(n,e,r,i){i===void 0&&(i=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(n,i,o)}):(function(n,e,r,i){i===void 0&&(i=r),n[i]=e[r]});function $g(n,e){for(var r in n)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&za(e,n,r)}function ba(n){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&n[e],i=0;if(r)return r.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ud(n,e){var r=typeof Symbol=="function"&&n[Symbol.iterator];if(!r)return n;var i=r.call(n),o,l=[],u;try{for(;(e===void 0||e-- >0)&&!(o=i.next()).done;)l.push(o.value)}catch(d){u={error:d}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(u)throw u.error}}return l}function Fg(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(ud(arguments[e]));return n}function Ug(){for(var n=0,e=0,r=arguments.length;e<r;e++)n+=arguments[e].length;for(var i=Array(n),o=0,e=0;e<r;e++)for(var l=arguments[e],u=0,d=l.length;u<d;u++,o++)i[o]=l[u];return i}function Wg(n,e,r){if(r||arguments.length===2)for(var i=0,o=e.length,l;i<o;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return n.concat(l||Array.prototype.slice.call(e))}function ys(n){return this instanceof ys?(this.v=n,this):new ys(n)}function Hg(n,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(n,e||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(w){return function(_){return Promise.resolve(_).then(w,x)}}function d(w,_){i[w]&&(o[w]=function(S){return new Promise(function(E,M){l.push([w,S,E,M])>1||h(w,S)})},_&&(o[w]=_(o[w])))}function h(w,_){try{m(i[w](_))}catch(S){y(l[0][3],S)}}function m(w){w.value instanceof ys?Promise.resolve(w.value.v).then(v,x):y(l[0][2],w)}function v(w){h("next",w)}function x(w){h("throw",w)}function y(w,_){w(_),l.shift(),l.length&&h(l[0][0],l[0][1])}}function qg(n){var e,r;return e={},i("next"),i("throw",function(o){throw o}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(o,l){e[o]=n[o]?function(u){return(r=!r)?{value:ys(n[o](u)),done:!1}:l?l(u):u}:l}}function Kg(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],r;return e?e.call(n):(n=typeof ba=="function"?ba(n):n[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(l){r[l]=n[l]&&function(u){return new Promise(function(d,h){u=n[l](u),o(d,h,u.done,u.value)})}}function o(l,u,d,h){Promise.resolve(h).then(function(m){l({value:m,done:d})},u)}}function Gg(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}var K_=Object.create?(function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}):function(n,e){n.default=e},_c=function(n){return _c=Object.getOwnPropertyNames||function(e){var r=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[r.length]=i);return r},_c(n)};function Jg(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var r=_c(n),i=0;i<r.length;i++)r[i]!=="default"&&za(e,n,r[i]);return K_(e,n),e}function Yg(n){return n&&n.__esModule?n:{default:n}}function Qg(n,e,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(n):i?i.value:e.get(n)}function Xg(n,e,r,i,o){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!o:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?o.call(n,r):o?o.value=r:e.set(n,r),r}function Zg(n,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?e===n:n.has(e)}function ev(n,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose],r&&(o=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");o&&(i=function(){try{o.call(this)}catch(l){return Promise.reject(l)}}),n.stack.push({value:e,dispose:i,async:r})}else r&&n.stack.push({async:!0});return e}var G_=typeof SuppressedError=="function"?SuppressedError:function(n,e,r){var i=new Error(r);return i.name="SuppressedError",i.error=n,i.suppressed=e,i};function tv(n){function e(l){n.error=n.hasError?new G_(l,n.error,"An error was suppressed during disposal."):l,n.hasError=!0}var r,i=0;function o(){for(;r=n.stack.pop();)try{if(!r.async&&i===1)return i=0,n.stack.push(r),Promise.resolve().then(o);if(r.dispose){var l=r.dispose.call(r.value);if(r.async)return i|=2,Promise.resolve(l).then(o,function(u){return e(u),o()})}else i|=1}catch(u){e(u)}if(i===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return o()}function nv(n,e){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,i,o,l,u){return i?e?".jsx":".js":o&&(!l||!u)?r:o+l+"."+u.toLowerCase()+"js"}):n}const J_={__extends:Ag,__assign:wa,__rest:ws,__decorate:Rg,__param:Ig,__esDecorate:Lg,__runInitializers:zg,__propKey:Dg,__setFunctionName:Mg,__metadata:Vg,__awaiter:Z,__generator:Bg,__createBinding:za,__exportStar:$g,__values:ba,__read:ud,__spread:Fg,__spreadArrays:Ug,__spreadArray:Wg,__await:ys,__asyncGenerator:Hg,__asyncDelegator:qg,__asyncValues:Kg,__makeTemplateObject:Gg,__importStar:Jg,__importDefault:Yg,__classPrivateFieldGet:Qg,__classPrivateFieldSet:Xg,__classPrivateFieldIn:Zg,__addDisposableResource:ev,__disposeResources:tv,__rewriteRelativeImportExtension:nv},Y_=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:ev,get __assign(){return wa},__asyncDelegator:qg,__asyncGenerator:Hg,__asyncValues:Kg,__await:ys,__awaiter:Z,__classPrivateFieldGet:Qg,__classPrivateFieldIn:Zg,__classPrivateFieldSet:Xg,__createBinding:za,__decorate:Rg,__disposeResources:tv,__esDecorate:Lg,__exportStar:$g,__extends:Ag,__generator:Bg,__importDefault:Yg,__importStar:Jg,__makeTemplateObject:Gg,__metadata:Vg,__param:Ig,__propKey:Dg,__read:ud,__rest:ws,__rewriteRelativeImportExtension:nv,__runInitializers:zg,__setFunctionName:Mg,__spread:Fg,__spreadArray:Wg,__spreadArrays:Ug,__values:ba,default:J_},Symbol.toStringTag,{value:"Module"})),Q_=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);class cd extends Error{constructor(e,r="FunctionsError",i){super(e),this.name=r,this.context=i}}class X_ extends cd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class _m extends cd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class km extends cd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var kc;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(kc||(kc={}));class Z_{constructor(e,{headers:r={},customFetch:i,region:o=kc.Any}={}){this.url=e,this.headers=r,this.region=o,this.fetch=Q_(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Z(this,arguments,void 0,function*(r,i={}){var o;let l,u;try{const{headers:d,method:h,body:m,signal:v,timeout:x}=i;let y={},{region:w}=i;w||(w=this.region);const _=new URL(`${this.url}/${r}`);w&&w!=="any"&&(y["x-region"]=w,_.searchParams.set("forceFunctionRegion",w));let S;m&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",S=m):typeof m=="string"?(y["Content-Type"]="text/plain",S=m):typeof FormData<"u"&&m instanceof FormData?S=m:(y["Content-Type"]="application/json",S=JSON.stringify(m)):S=m;let E=v;x&&(u=new AbortController,l=setTimeout(()=>u.abort(),x),v?(E=u.signal,v.addEventListener("abort",()=>u.abort())):E=u.signal);const M=yield this.fetch(_.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),d),body:S,signal:E}).catch(q=>{throw new X_(q)}),T=M.headers.get("x-relay-error");if(T&&T==="true")throw new _m(M);if(!M.ok)throw new km(M);let j=((o=M.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),R;return j==="application/json"?R=yield M.json():j==="application/octet-stream"||j==="application/pdf"?R=yield M.blob():j==="text/event-stream"?R=M:j==="multipart/form-data"?R=yield M.formData():R=yield M.text(),{data:R,error:null,response:M}}catch(d){return{data:null,error:d,response:d instanceof km||d instanceof _m?d.context:void 0}}finally{l&&clearTimeout(l)}})}}var mt={};const bs=Ex(Y_);var Xo={},Zo={},ea={},ta={},na={},ra={},Sm;function rv(){if(Sm)return ra;Sm=1,Object.defineProperty(ra,"__esModule",{value:!0});class n extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return ra.default=n,ra}var jm;function sv(){if(jm)return na;jm=1,Object.defineProperty(na,"__esModule",{value:!0});const e=bs.__importDefault(rv());class r{constructor(o){var l,u;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(l=o.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=o.signal,this.isMaybeSingle=(u=o.isMaybeSingle)!==null&&u!==void 0?u:!1,o.fetch?this.fetch=o.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,l){return this.headers=new Headers(this.headers),this.headers.set(o,l),this}then(o,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var m,v,x,y;let w=null,_=null,S=null,E=h.status,M=h.statusText;if(h.ok){if(this.method!=="HEAD"){const q=await h.text();q===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?_=q:_=JSON.parse(q))}const j=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),R=(x=h.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");j&&R&&R.length>1&&(S=parseInt(R[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(w={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,S=null,E=406,M="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const j=await h.text();try{w=JSON.parse(j),Array.isArray(w)&&h.status===404&&(_=[],w=null,E=200,M="OK")}catch{h.status===404&&j===""?(E=204,M="No Content"):w={message:j}}if(w&&this.isMaybeSingle&&(!((y=w?.details)===null||y===void 0)&&y.includes("0 rows"))&&(w=null,E=200,M="OK"),w&&this.shouldThrowOnError)throw new e.default(w)}return{error:w,data:_,count:S,status:E,statusText:M}});return this.shouldThrowOnError||(d=d.catch(h=>{var m,v,x,y,w,_;let S="";const E=h?.cause;if(E){const M=(m=E?.message)!==null&&m!==void 0?m:"",T=(v=E?.code)!==null&&v!==void 0?v:"";S=`${(x=h?.name)!==null&&x!==void 0?x:"FetchError"}: ${h?.message}`,S+=`

Caused by: ${(y=E?.name)!==null&&y!==void 0?y:"Error"}: ${M}`,T&&(S+=` (${T})`),E?.stack&&(S+=`
${E.stack}`)}else S=(w=h?.stack)!==null&&w!==void 0?w:"";return{error:{message:`${(_=h?.name)!==null&&_!==void 0?_:"FetchError"}: ${h?.message}`,details:S,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(o,l)}returns(){return this}overrideTypes(){return this}}return na.default=r,na}var Em;function iv(){if(Em)return ta;Em=1,Object.defineProperty(ta,"__esModule",{value:!0});const e=bs.__importDefault(sv());class r extends e.default{select(o){let l=!1;const u=(o??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:l=!0,nullsFirst:u,foreignTable:d,referencedTable:h=d}={}){const m=h?`${h}.order`:"order",v=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${v?`${v},`:""}${o}.${l?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:l,referencedTable:u=l}={}){const d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${o}`),this}range(o,l,{foreignTable:u,referencedTable:d=u}={}){const h=typeof d>"u"?"offset":`${d}.offset`,m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${o}`),this.url.searchParams.set(m,`${l-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:l=!1,settings:u=!1,buffers:d=!1,wal:h=!1,format:m="text"}={}){var v;const x=[o?"analyze":null,l?"verbose":null,u?"settings":null,d?"buffers":null,h?"wal":null].filter(Boolean).join("|"),y=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${y}"; options=${x};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return ta.default=r,ta}var Cm;function dd(){if(Cm)return ea;Cm=1,Object.defineProperty(ea,"__esModule",{value:!0});const e=bs.__importDefault(iv()),r=new RegExp("[,()]");class i extends e.default{eq(l,u){return this.url.searchParams.append(l,`eq.${u}`),this}neq(l,u){return this.url.searchParams.append(l,`neq.${u}`),this}gt(l,u){return this.url.searchParams.append(l,`gt.${u}`),this}gte(l,u){return this.url.searchParams.append(l,`gte.${u}`),this}lt(l,u){return this.url.searchParams.append(l,`lt.${u}`),this}lte(l,u){return this.url.searchParams.append(l,`lte.${u}`),this}like(l,u){return this.url.searchParams.append(l,`like.${u}`),this}likeAllOf(l,u){return this.url.searchParams.append(l,`like(all).{${u.join(",")}}`),this}likeAnyOf(l,u){return this.url.searchParams.append(l,`like(any).{${u.join(",")}}`),this}ilike(l,u){return this.url.searchParams.append(l,`ilike.${u}`),this}ilikeAllOf(l,u){return this.url.searchParams.append(l,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(l,u){return this.url.searchParams.append(l,`ilike(any).{${u.join(",")}}`),this}regexMatch(l,u){return this.url.searchParams.append(l,`match.${u}`),this}regexIMatch(l,u){return this.url.searchParams.append(l,`imatch.${u}`),this}is(l,u){return this.url.searchParams.append(l,`is.${u}`),this}isDistinct(l,u){return this.url.searchParams.append(l,`isdistinct.${u}`),this}in(l,u){const d=Array.from(new Set(u)).map(h=>typeof h=="string"&&r.test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(l,`in.(${d})`),this}contains(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cs.{${u.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(u)}`),this}containedBy(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cd.{${u.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(u)}`),this}rangeGt(l,u){return this.url.searchParams.append(l,`sr.${u}`),this}rangeGte(l,u){return this.url.searchParams.append(l,`nxl.${u}`),this}rangeLt(l,u){return this.url.searchParams.append(l,`sl.${u}`),this}rangeLte(l,u){return this.url.searchParams.append(l,`nxr.${u}`),this}rangeAdjacent(l,u){return this.url.searchParams.append(l,`adj.${u}`),this}overlaps(l,u){return typeof u=="string"?this.url.searchParams.append(l,`ov.${u}`):this.url.searchParams.append(l,`ov.{${u.join(",")}}`),this}textSearch(l,u,{config:d,type:h}={}){let m="";h==="plain"?m="pl":h==="phrase"?m="ph":h==="websearch"&&(m="w");const v=d===void 0?"":`(${d})`;return this.url.searchParams.append(l,`${m}fts${v}.${u}`),this}match(l){return Object.entries(l).forEach(([u,d])=>{this.url.searchParams.append(u,`eq.${d}`)}),this}not(l,u,d){return this.url.searchParams.append(l,`not.${u}.${d}`),this}or(l,{foreignTable:u,referencedTable:d=u}={}){const h=d?`${d}.or`:"or";return this.url.searchParams.append(h,`(${l})`),this}filter(l,u,d){return this.url.searchParams.append(l,`${u}.${d}`),this}}return ea.default=i,ea}var Tm;function ov(){if(Tm)return Zo;Tm=1,Object.defineProperty(Zo,"__esModule",{value:!0});const e=bs.__importDefault(dd());class r{constructor(o,{headers:l={},schema:u,fetch:d}){this.url=o,this.headers=new Headers(l),this.schema=u,this.fetch=d}select(o,l){const{head:u=!1,count:d}=l??{},h=u?"HEAD":"GET";let m=!1;const v=(o??"*").split("").map(x=>/\s/.test(x)&&!m?"":(x==='"'&&(m=!m),x)).join("");return this.url.searchParams.set("select",v),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:l,defaultToNull:u=!0}={}){var d;const h="POST";if(l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const m=o.reduce((v,x)=>v.concat(Object.keys(x)),[]);if(m.length>0){const v=[...new Set(m)].map(x=>`"${x}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(o,{onConflict:l,ignoreDuplicates:u=!1,count:d,defaultToNull:h=!0}={}){var m;const v="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const x=o.reduce((y,w)=>y.concat(Object.keys(w)),[]);if(x.length>0){const y=[...new Set(x)].map(w=>`"${w}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(o,{count:l}={}){var u;const d="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:o}={}){var l;const u="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return Zo.default=r,Zo}var Pm;function ek(){if(Pm)return Xo;Pm=1,Object.defineProperty(Xo,"__esModule",{value:!0});const n=bs,e=n.__importDefault(ov()),r=n.__importDefault(dd());class i{constructor(l,{headers:u={},schema:d,fetch:h}={}){this.url=l,this.headers=new Headers(u),this.schemaName=d,this.fetch=h}from(l){if(!l||typeof l!="string"||l.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const u=new URL(`${this.url}/${l}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new i(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:d=!1,get:h=!1,count:m}={}){var v;let x;const y=new URL(`${this.url}/rpc/${l}`);let w;d||h?(x=d?"HEAD":"GET",Object.entries(u).filter(([S,E])=>E!==void 0).map(([S,E])=>[S,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([S,E])=>{y.searchParams.append(S,E)})):(x="POST",w=u);const _=new Headers(this.headers);return m&&_.set("Prefer",`count=${m}`),new r.default({method:x,url:y,headers:_,schema:this.schemaName,body:w,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return Xo.default=i,Xo}var Nm;function tk(){if(Nm)return mt;Nm=1,Object.defineProperty(mt,"__esModule",{value:!0}),mt.PostgrestError=mt.PostgrestBuilder=mt.PostgrestTransformBuilder=mt.PostgrestFilterBuilder=mt.PostgrestQueryBuilder=mt.PostgrestClient=void 0;const n=bs,e=n.__importDefault(ek());mt.PostgrestClient=e.default;const r=n.__importDefault(ov());mt.PostgrestQueryBuilder=r.default;const i=n.__importDefault(dd());mt.PostgrestFilterBuilder=i.default;const o=n.__importDefault(iv());mt.PostgrestTransformBuilder=o.default;const l=n.__importDefault(sv());mt.PostgrestBuilder=l.default;const u=n.__importDefault(rv());return mt.PostgrestError=u.default,mt.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:u.default},mt}var av=tk();const lv=zc(av),nk=jx({__proto__:null,default:lv},[av]),{PostgrestClient:rk,PostgrestQueryBuilder:eC,PostgrestFilterBuilder:tC,PostgrestTransformBuilder:nC,PostgrestBuilder:rC,PostgrestError:sC}=lv||nk;class sk{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const i=r.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const i=this.getWebSocketConstructor();return new i(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const ik="2.86.0",ok=`realtime-js/${ik}`,uv="1.0.0",ak="2.0.0",Om=uv,Sc=1e4,lk=1e3,uk=100;var _r;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(_r||(_r={}));var nt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(nt||(nt={}));var nn;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(nn||(nn={}));var jc;(function(n){n.websocket="websocket"})(jc||(jc={}));var kr;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(kr||(kr={}));class ck{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,i;const o=(i=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var r,i;const o=(i=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:{},u=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,r,i){var o,l;const u=e.topic,d=(o=e.ref)!==null&&o!==void 0?o:"",h=(l=e.join_ref)!==null&&l!==void 0?l:"",m=e.payload.event,v=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},x=Object.keys(v).length===0?"":JSON.stringify(v);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`metadata length ${x.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+d.length+u.length+m.length+x.length,w=new ArrayBuffer(this.HEADER_LENGTH+y);let _=new DataView(w),S=0;_.setUint8(S++,this.KINDS.userBroadcastPush),_.setUint8(S++,h.length),_.setUint8(S++,d.length),_.setUint8(S++,u.length),_.setUint8(S++,m.length),_.setUint8(S++,x.length),_.setUint8(S++,r),Array.from(h,M=>_.setUint8(S++,M.charCodeAt(0))),Array.from(d,M=>_.setUint8(S++,M.charCodeAt(0))),Array.from(u,M=>_.setUint8(S++,M.charCodeAt(0))),Array.from(m,M=>_.setUint8(S++,M.charCodeAt(0))),Array.from(x,M=>_.setUint8(S++,M.charCodeAt(0)));var E=new Uint8Array(w.byteLength+i.byteLength);return E.set(new Uint8Array(w),0),E.set(new Uint8Array(i),w.byteLength),E.buffer}decode(e,r){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return r(i)}if(typeof e=="string"){const i=JSON.parse(e),[o,l,u,d,h]=i;return r({join_ref:o,ref:l,topic:u,event:d,payload:h})}return r({})}_binaryDecode(e){const r=new DataView(e),i=r.getUint8(0),o=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,o)}}_decodeUserBroadcast(e,r,i){const o=r.getUint8(1),l=r.getUint8(2),u=r.getUint8(3),d=r.getUint8(4);let h=this.HEADER_LENGTH+4;const m=i.decode(e.slice(h,h+o));h=h+o;const v=i.decode(e.slice(h,h+l));h=h+l;const x=i.decode(e.slice(h,h+u));h=h+u;const y=e.slice(h,e.byteLength),w=d===this.JSON_ENCODING?JSON.parse(i.decode(y)):y,_={type:this.BROADCAST_EVENT,event:v,payload:w};return u>0&&(_.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:_}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([i])=>r.includes(i)))}}class cv{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Re;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Re||(Re={}));const Am=(n,e,r={})=>{var i;const o=(i=r.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=dk(u,n,e,o),l),{}):{}},dk=(n,e,r,i)=>{const o=e.find(d=>d.name===n),l=o?.type,u=r[n];return l&&!i.includes(l)?dv(l,u):Ec(u)},dv=(n,e)=>{if(n.charAt(0)==="_"){const r=n.slice(1,n.length);return mk(e,r)}switch(n){case Re.bool:return hk(e);case Re.float4:case Re.float8:case Re.int2:case Re.int4:case Re.int8:case Re.numeric:case Re.oid:return fk(e);case Re.json:case Re.jsonb:return pk(e);case Re.timestamp:return gk(e);case Re.abstime:case Re.date:case Re.daterange:case Re.int4range:case Re.int8range:case Re.money:case Re.reltime:case Re.text:case Re.time:case Re.timestamptz:case Re.timetz:case Re.tsrange:case Re.tstzrange:return Ec(e);default:return Ec(e)}},Ec=n=>n,hk=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},fk=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},pk=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},mk=(n,e)=>{if(typeof n!="string")return n;const r=n.length-1,i=n[r];if(n[0]==="{"&&i==="}"){let l;const u=n.slice(1,r);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(d=>dv(e,d))}return n},gk=n=>typeof n=="string"?n.replace(" ","T"):n,hv=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Ju{constructor(e,r,i={},o=Sc){this.channel=e,this.event=r,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var i;return this._hasReceived(e)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Rm;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Rm||(Rm={}));class wi{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=wi.syncState(this.state,o,l,u),this.pendingDiffs.forEach(h=>{this.state=wi.syncDiff(this.state,h,l,u)}),this.pendingDiffs=[],d()}),this.channel._on(i.diff,{},o=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=wi.syncDiff(this.state,o,l,u),d())}),this.onJoin((o,l,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:u})}),this.onLeave((o,l,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,i,o){const l=this.cloneDeep(e),u=this.transformState(r),d={},h={};return this.map(l,(m,v)=>{u[m]||(h[m]=v)}),this.map(u,(m,v)=>{const x=l[m];if(x){const y=v.map(E=>E.presence_ref),w=x.map(E=>E.presence_ref),_=v.filter(E=>w.indexOf(E.presence_ref)<0),S=x.filter(E=>y.indexOf(E.presence_ref)<0);_.length>0&&(d[m]=_),S.length>0&&(h[m]=S)}else d[m]=v}),this.syncDiff(l,{joins:d,leaves:h},i,o)}static syncDiff(e,r,i,o){const{joins:l,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(l,(d,h)=>{var m;const v=(m=e[d])!==null&&m!==void 0?m:[];if(e[d]=this.cloneDeep(h),v.length>0){const x=e[d].map(w=>w.presence_ref),y=v.filter(w=>x.indexOf(w.presence_ref)<0);e[d].unshift(...y)}i(d,v,h)}),this.map(u,(d,h)=>{let m=e[d];if(!m)return;const v=h.map(x=>x.presence_ref);m=m.filter(x=>v.indexOf(x.presence_ref)<0),e[d]=m,o(d,m,h),m.length===0&&delete e[d]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(i=>r(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,i)=>{const o=e[i];return"metas"in o?r[i]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[i]=o,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Im;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Im||(Im={}));var bi;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(bi||(bi={}));var bn;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(bn||(bn={}));class hd{constructor(e,r={config:{}},i){var o,l;if(this.topic=e,this.params=r,this.socket=i,this.bindings={},this.state=nt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ju(this,nn.join,this.params,this.timeout),this.rejoinTimer=new cv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=nt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=nt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=nt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nn.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new wi(this),this.broadcastEndpointURL=hv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var i,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==nt.closed){const{config:{broadcast:u,presence:d,private:h}}=this.params,m=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(w=>w.filter))!==null&&o!==void 0?o:[],v=!!this.bindings[bi.PRESENCE]&&this.bindings[bi.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,x={},y={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:v}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(w=>e?.(bn.CHANNEL_ERROR,w)),this._onClose(()=>e?.(bn.CLOSED)),this.updateJoinPayload(Object.assign({config:y},x)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:w})=>{var _;if(this.socket.setAuth(),w===void 0){e?.(bn.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,E=(_=S?.length)!==null&&_!==void 0?_:0,M=[];for(let T=0;T<E;T++){const j=S[T],{filter:{event:R,schema:q,table:F,filter:C}}=j,A=w&&w[T];if(A&&A.event===R&&A.schema===q&&A.table===F&&A.filter===C)M.push(Object.assign(Object.assign({},j),{id:A.id}));else{this.unsubscribe(),this.state=nt.errored,e?.(bn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=M,e&&e(bn.SUBSCRIBED);return}}).receive("error",w=>{this.state=nt.errored,e?.(bn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e?.(bn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,i){return this.state===nt.joined&&e===bi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,i)}async httpSend(e,r,i={}){var o;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);if(d.status===202)return{success:!0};let h=d.statusText;try{const m=await d.json();h=m.error||m.message||h}catch{}return Promise.reject(new Error(h))}async send(e,r={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,d,h;const m=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=nt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new Ju(this,nn.leave,{},e),i.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=nt.closed,this.bindings={}}async _fetchWithTimeout(e,r,i){const o=new AbortController,l=setTimeout(()=>o.abort(),i),u=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(l),u}_push(e,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Ju(this,e,r,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>uk){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,i){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,i){var o,l;const u=e.toLocaleLowerCase(),{close:d,error:h,leave:m,join:v}=nn;if(i&&[d,h,m,v].indexOf(u)>=0&&i!==this._joinRef())return;let y=this._onMessage(u,r,i);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(w=>{var _,S,E;return((_=w.filter)===null||_===void 0?void 0:_.event)==="*"||((E=(S=w.filter)===null||S===void 0?void 0:S.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===u}).map(w=>w.callback(y,i)):(l=this.bindings[u])===null||l===void 0||l.filter(w=>{var _,S,E,M,T,j;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in w){const R=w.id,q=(_=w.filter)===null||_===void 0?void 0:_.event;return R&&((S=r.ids)===null||S===void 0?void 0:S.includes(R))&&(q==="*"||q?.toLocaleLowerCase()===((E=r.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const R=(T=(M=w?.filter)===null||M===void 0?void 0:M.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return R==="*"||R===((j=r?.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===u}).map(w=>{if(typeof y=="object"&&"ids"in y){const _=y.data,{schema:S,table:E,commit_timestamp:M,type:T,errors:j}=_;y=Object.assign(Object.assign({},{schema:S,table:E,commit_timestamp:M,eventType:T,new:{},old:{},errors:j}),this._getPayloadRecords(_))}w.callback(y,i)})}_isClosed(){return this.state===nt.closed}_isJoined(){return this.state===nt.joined}_isJoining(){return this.state===nt.joining}_isLeaving(){return this.state===nt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,i){const o=e.toLocaleLowerCase(),l={type:o,filter:r,callback:i};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,r){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&hd.isEqual(o.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const i in e)if(e[i]!==r[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(nn.close,{},e)}_onError(e){this._on(nn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=nt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Am(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Am(e.columns,e.old_record)),r}}const Yu=()=>{},sa={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},vk=[1e3,2e3,5e3,1e4],yk=1e4,xk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class wk{constructor(e,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Sc,this.transport=null,this.heartbeatIntervalMs=sa.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Yu,this.ref=0,this.reconnectTimer=null,this.vsn=Om,this.logger=Yu,this.conn=null,this.sendBuffer=[],this.serializer=new ck,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...l)=>o(...l):(...l)=>fetch(...l),!(!((i=r?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${jc.websocket}`,this.httpEndpoint=hv(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=sk.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,i){this.logger(e,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case _r.connecting:return kr.Connecting;case _r.open:return kr.Open;case _r.closing:return kr.Closing;default:return kr.Closed}}isConnected(){return this.connectionState()===kr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const i=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===i);if(o)return o;{const l=new hd(`realtime:${e}`,r,this);return this.channels.push(l),l}}push(e){const{topic:r,event:i,payload:o,ref:l}=e,u=()=>{this.encode(e,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${r} ${i} (${l})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(lk,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},sa.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:o,payload:l,ref:u}=r,d=u?`(${u})`:"",h=l.status||"";this.log("receive",`${h} ${i} ${o} ${d}`.trim(),l),this.channels.filter(m=>m._isMember(i)).forEach(m=>m._trigger(o,l,u)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===_r.open||this.conn.readyState===_r.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(nn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const i=e.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${e}${i}${o}`}_workerObjectUrl(e){let r;if(e)r=e;else{const i=new Blob([xk],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const o={access_token:r,version:ok};r&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(nn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(r)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new cv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},sa.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,i,o,l,u,d,h,m,v,x,y,w;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:Sc,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:sa.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:Yu,this.vsn=(h=e?.vsn)!==null&&h!==void 0?h:Om,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e?.reconnectAfterMs)!==null&&m!==void 0?m:(_=>vk[_-1]||yk),this.vsn){case uv:this.encode=(v=e?.encode)!==null&&v!==void 0?v:((_,S)=>S(JSON.stringify(_))),this.decode=(x=e?.decode)!==null&&x!==void 0?x:((_,S)=>S(JSON.parse(_)));break;case ak:this.encode=(y=e?.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(w=e?.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class Da extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Be(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class bk extends Da{constructor(e,r,i){super(e),this.name="StorageApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Cc extends Da{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const fd=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),_k=()=>Response,Tc=n=>{if(Array.isArray(n))return n.map(r=>Tc(r));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([r,i])=>{const o=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=Tc(i)}),e},kk=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Sk=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n),Qu=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},jk=(n,e,r)=>Z(void 0,void 0,void 0,function*(){const i=yield _k();n instanceof i&&!r?.noResolveJson?n.json().then(o=>{const l=n.status||500,u=o?.statusCode||l+"";e(new bk(Qu(o),l,u))}).catch(o=>{e(new Cc(Qu(o),o))}):e(new Cc(Qu(n),n))}),Ek=(n,e,r,i)=>{const o={method:n,headers:e?.headers||{}};return n==="GET"||!i?o:(kk(i)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(i)):o.body=i,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),r))};function Di(n,e,r,i,o,l){return Z(this,void 0,void 0,function*(){return new Promise((u,d)=>{n(r,Ek(e,i,o,l)).then(h=>{if(!h.ok)throw h;return i?.noResolveJson?h:h.json()}).then(h=>u(h)).catch(h=>jk(h,d,i))})})}function Ti(n,e,r,i){return Z(this,void 0,void 0,function*(){return Di(n,"GET",e,r,i)})}function tn(n,e,r,i,o){return Z(this,void 0,void 0,function*(){return Di(n,"POST",e,i,o,r)})}function Pc(n,e,r,i,o){return Z(this,void 0,void 0,function*(){return Di(n,"PUT",e,i,o,r)})}function Ck(n,e,r,i){return Z(this,void 0,void 0,function*(){return Di(n,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),i)})}function pd(n,e,r,i,o){return Z(this,void 0,void 0,function*(){return Di(n,"DELETE",e,i,o,r)})}class Tk{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return Z(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Be(e))return{data:null,error:e};throw e}})}}var fv;class Pk{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[fv]="BlobDownloadBuilder",this.promise=null}asStream(){return new Tk(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Z(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Be(e))return{data:null,error:e};throw e}})}}fv=Symbol.toStringTag;const Nk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Lm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ok{constructor(e,r={},i,o){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=i,this.fetch=fd(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,i,o){return Z(this,void 0,void 0,function*(){try{let l;const u=Object.assign(Object.assign({},Lm),o);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),h&&l.append("metadata",this.encodeMetadata(h)),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),h&&!l.has("metadata")&&l.append("metadata",this.encodeMetadata(h))):(l=i,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,h&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(h))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),o?.headers&&(d=Object.assign(Object.assign({},d),o.headers));const m=this._removeEmptyFolders(r),v=this._getFinalPath(m),x=yield(e=="PUT"?Pc:tn)(this.fetch,`${this.url}/object/${v}`,l,Object.assign({headers:d},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:m,id:x.Id,fullPath:x.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Be(l))return{data:null,error:l};throw l}})}upload(e,r,i){return Z(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,i)})}uploadToSignedUrl(e,r,i,o){return Z(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),u=this._getFinalPath(l),d=new URL(this.url+`/object/upload/sign/${u}`);d.searchParams.set("token",r);try{let h;const m=Object.assign({upsert:Lm.upsert},o),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&i instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",i)):typeof FormData<"u"&&i instanceof FormData?(h=i,h.append("cacheControl",m.cacheControl)):(h=i,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType);const x=yield Pc(this.fetch,d.toString(),h,{headers:v});return{data:{path:l,fullPath:x.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(Be(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,r){return Z(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const o=Object.assign({},this.headers);r?.upsert&&(o["x-upsert"]="true");const l=yield tn(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:o}),u=new URL(this.url+l.url),d=u.searchParams.get("token");if(!d)throw new Da("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:d},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Be(i))return{data:null,error:i};throw i}})}update(e,r,i){return Z(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,i)})}move(e,r,i){return Z(this,void 0,void 0,function*(){try{return{data:yield tn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Be(o))return{data:null,error:o};throw o}})}copy(e,r,i){return Z(this,void 0,void 0,function*(){try{return{data:{path:(yield tn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Be(o))return{data:null,error:o};throw o}})}createSignedUrl(e,r,i){return Z(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),l=yield tn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const u=i?.download?`&download=${i.download===!0?"":i.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Be(o))return{data:null,error:o};throw o}})}createSignedUrls(e,r,i){return Z(this,void 0,void 0,function*(){try{const o=yield tn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),l=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${l}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Be(o))return{data:null,error:o};throw o}})}download(e,r){const o=typeof r?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(r?.transform||{}),u=l?`?${l}`:"",d=this._getFinalPath(e),h=()=>Ti(this.fetch,`${this.url}/${o}/${d}${u}`,{headers:this.headers,noResolveJson:!0});return new Pk(h,this.shouldThrowOnError)}info(e){return Z(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const i=yield Ti(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Tc(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Be(i))return{data:null,error:i};throw i}})}exists(e){return Z(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Ck(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Be(i)&&i instanceof Cc){const o=i.originalError;if([400,404].includes(o?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,r){const i=this._getFinalPath(e),o=[],l=r?.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&o.push(l);const d=typeof r?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(r?.transform||{});h!==""&&o.push(h);let m=o.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${i}${m}`)}}}remove(e){return Z(this,void 0,void 0,function*(){try{return{data:yield pd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Be(r))return{data:null,error:r};throw r}})}list(e,r,i){return Z(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},Nk),r),{prefix:e||""});return{data:yield tn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Be(o))return{data:null,error:o};throw o}})}listV2(e,r){return Z(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield tn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Be(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const pv="2.86.0",mv={"X-Client-Info":`storage-js/${pv}`};class Ak{constructor(e,r={},i,o){this.shouldThrowOnError=!1;const l=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mv),r),this.fetch=fd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Z(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield Ti(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Be(r))return{data:null,error:r};throw r}})}getBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:yield Ti(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Be(r))return{data:null,error:r};throw r}})}createBucket(e){return Z(this,arguments,void 0,function*(r,i={public:!1}){try{return{data:yield tn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Be(o))return{data:null,error:o};throw o}})}updateBucket(e,r){return Z(this,void 0,void 0,function*(){try{return{data:yield Pc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Be(i))return{data:null,error:i};throw i}})}emptyBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:yield tn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Be(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:yield pd(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Be(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var Pi=class extends Error{constructor(n,e){super(n),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Rk(n,e,r){const i=new URL(e,n);if(r)for(const[o,l]of Object.entries(r))l!==void 0&&i.searchParams.set(o,l);return i.toString()}async function Ik(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function Lk(n){const e=n.fetchImpl??globalThis.fetch;return{async request({method:r,path:i,query:o,body:l,headers:u}){const d=Rk(n.baseUrl,i,o),h=await Ik(n.auth),m=await e(d,{method:r,headers:{...l?{"Content-Type":"application/json"}:{},...h,...u},body:l?JSON.stringify(l):void 0}),v=await m.text(),x=(m.headers.get("content-type")||"").includes("application/json"),y=x&&v?JSON.parse(v):v;if(!m.ok){const w=x?y:void 0,_=w?.error;throw new Pi(_?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:_?.type,icebergCode:_?.code,details:w})}return{status:m.status,headers:m.headers,data:y}}}}function ia(n){return n.join("")}var zk=class{constructor(n,e=""){this.client=n,this.prefix=e}async listNamespaces(n){const e=n?{parent:ia(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(n,e){const r={namespace:n.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ia(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ia(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ia(n.namespace)}`}),!0}catch(e){if(e instanceof Pi&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(n,e){try{return await this.createNamespace(n,e)}catch(r){if(r instanceof Pi&&r.status===409)return;throw r}}};function ss(n){return n.join("")}var Dk=class{constructor(n,e="",r){this.client=n,this.prefix=e,this.accessDelegation=r}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ss(n.namespace)}/tables`})).data.identifiers}async createTable(n,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ss(n.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(n,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ss(n.namespace)}/tables/${n.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(n,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ss(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(n){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ss(n.namespace)}/tables/${n.name}`,headers:e})).data.metadata}async tableExists(n){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ss(n.namespace)}/tables/${n.name}`,headers:e}),!0}catch(r){if(r instanceof Pi&&r.status===404)return!1;throw r}}async createTableIfNotExists(n,e){try{return await this.createTable(n,e)}catch(r){if(r instanceof Pi&&r.status===409)return await this.loadTable({namespace:n.namespace,name:e.name});throw r}}},Mk=class{constructor(n){let e="v1";n.catalogName&&(e+=`/${n.catalogName}`);const r=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=Lk({baseUrl:r,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=n.accessDelegation?.join(","),this.namespaceOps=new zk(this.client,e),this.tableOps=new Dk(this.client,e,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,e){return this.namespaceOps.createNamespace(n,e)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,e){return this.tableOps.createTable(n,e)}async updateTable(n,e){return this.tableOps.updateTable(n,e)}async dropTable(n,e){await this.tableOps.dropTable(n,e)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,e){return this.namespaceOps.createNamespaceIfNotExists(n,e)}async createTableIfNotExists(n,e){return this.tableOps.createTableIfNotExists(n,e)}};class Vk{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mv),r),this.fetch=fd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:yield tn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Be(r))return{data:null,error:r};throw r}})}listBuckets(e){return Z(this,void 0,void 0,function*(){try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const i=r.toString(),o=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield Ti(this.fetch,o,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Be(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:yield pd(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Be(r))return{data:null,error:r};throw r}})}from(e){if(!Sk(e))throw new Da("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new Mk({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>Z(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const md={"X-Client-Info":`storage-js/${pv}`,"Content-Type":"application/json"};class gv extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function zt(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}class Xu extends gv{constructor(e,r,i){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Bk extends gv{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var zm;(function(n){n.InternalError="InternalError",n.S3VectorConflictException="S3VectorConflictException",n.S3VectorNotFoundException="S3VectorNotFoundException",n.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",n.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",n.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(zm||(zm={}));const gd=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),$k=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Dm=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Fk=(n,e,r)=>Z(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!r?.noResolveJson){const o=n.status||500,l=n;if(typeof l.json=="function")l.json().then(u=>{const d=u?.statusCode||u?.code||o+"";e(new Xu(Dm(u),o,d))}).catch(()=>{const u=o+"",d=l.statusText||`HTTP ${o} error`;e(new Xu(d,o,u))});else{const u=o+"",d=l.statusText||`HTTP ${o} error`;e(new Xu(d,o,u))}}else e(new Bk(Dm(n),n))}),Uk=(n,e,r,i)=>{const o={method:n,headers:e?.headers||{}};return i?($k(i)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(i)):o.body=i,Object.assign(Object.assign({},o),r)):o};function Wk(n,e,r,i,o,l){return Z(this,void 0,void 0,function*(){return new Promise((u,d)=>{n(r,Uk(e,i,o,l)).then(h=>{if(!h.ok)throw h;if(i?.noResolveJson)return h;const m=h.headers.get("content-type");return!m||!m.includes("application/json")?{}:h.json()}).then(h=>u(h)).catch(h=>Fk(h,d,i))})})}function Dt(n,e,r,i,o){return Z(this,void 0,void 0,function*(){return Wk(n,"POST",e,i,o,r)})}class Hk{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},md),r),this.fetch=gd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Z(this,void 0,void 0,function*(){try{return{data:(yield Dt(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}})}getIndex(e,r){return Z(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}})}listIndexes(e){return Z(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return Z(this,void 0,void 0,function*(){try{return{data:(yield Dt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}})}}class qk{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},md),r),this.fetch=gd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Z(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Dt(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}})}getVectors(e){return Z(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}})}listVectors(e){return Z(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Dt(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}})}queryVectors(e){return Z(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}})}deleteVectors(e){return Z(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Dt(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}})}}class Kk{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},md),r),this.fetch=gd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:(yield Dt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}})}getBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}})}listBuckets(){return Z(this,arguments,void 0,function*(e={}){try{return{data:yield Dt(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:(yield Dt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}})}}class Gk extends Kk{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new Jk(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Z(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Z(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Z(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Z(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class Jk extends Hk{constructor(e,r,i,o){super(e,r,o),this.vectorBucketName=i}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Z(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Z(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Z(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Z(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Yk(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Yk extends qk{constructor(e,r,i,o,l){super(e,r,l),this.vectorBucketName=i,this.indexName=o}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Z(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Z(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Z(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Z(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Z(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Qk extends Ak{constructor(e,r={},i,o){super(e,r,i,o)}from(e){return new Ok(this.url,this.headers,e,this.fetch)}get vectors(){return new Gk(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Vk(this.url+"/iceberg",this.headers,this.fetch)}}const Xk="2.86.0";let pi="";typeof Deno<"u"?pi="deno":typeof document<"u"?pi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?pi="react-native":pi="node";const Zk={"X-Client-Info":`supabase-js-${pi}/${Xk}`},eS={headers:Zk},tS={schema:"public"},nS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},rS={},sS=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),iS=()=>Headers,oS=(n,e,r)=>{const i=sS(r),o=iS();return async(l,u)=>{var d;const h=(d=await e())!==null&&d!==void 0?d:n;let m=new o(u?.headers);return m.has("apikey")||m.set("apikey",n),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),i(l,Object.assign(Object.assign({},u),{headers:m}))}};function aS(n){return n.endsWith("/")?n:n+"/"}function lS(n,e){var r,i;const{db:o,auth:l,realtime:u,global:d}=n,{db:h,auth:m,realtime:v,global:x}=e,y={db:Object.assign(Object.assign({},h),o),auth:Object.assign(Object.assign({},m),l),realtime:Object.assign(Object.assign({},v),u),storage:{},global:Object.assign(Object.assign(Object.assign({},x),d),{headers:Object.assign(Object.assign({},(r=x?.headers)!==null&&r!==void 0?r:{}),(i=d?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return n.accessToken?y.accessToken=n.accessToken:delete y.accessToken,y}function uS(n){const e=n?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(aS(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const vv="2.86.0",cs=30*1e3,Nc=3,Zu=Nc*cs,cS="http://localhost:9999",dS="supabase.auth.token",hS={"X-Client-Info":`gotrue-js/${vv}`},Oc="X-Supabase-Api-Version",yv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},fS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,pS=600*1e3;class Ni extends Error{constructor(e,r,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function ie(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class mS extends Ni{constructor(e,r,i){super(e,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function gS(n){return ie(n)&&n.name==="AuthApiError"}class Sr extends Ni{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class tr extends Ni{constructor(e,r,i,o){super(e,i,o),this.name=r,this.status=i}}class It extends tr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function vS(n){return ie(n)&&n.name==="AuthSessionMissingError"}class is extends tr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class oa extends tr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class aa extends tr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function yS(n){return ie(n)&&n.name==="AuthImplicitGrantRedirectError"}class Mm extends tr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ac extends tr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function ec(n){return ie(n)&&n.name==="AuthRetryableFetchError"}class Vm extends tr{constructor(e,r,i){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class Rc extends tr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const _a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Bm=` 	
\r=`.split(""),xS=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<Bm.length;e+=1)n[Bm[e].charCodeAt(0)]=-2;for(let e=0;e<_a.length;e+=1)n[_a[e].charCodeAt(0)]=e;return n})();function $m(n,e,r){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(_a[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(_a[i]),e.queuedBits-=6}}function xv(n,e,r){const i=xS[n];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Fm(n){const e=[],r=u=>{e.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=u=>{_S(u,i,r)};for(let u=0;u<n.length;u+=1)xv(n.charCodeAt(u),o,l);return e.join("")}function wS(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function bS(n,e){for(let r=0;r<n.length;r+=1){let i=n.charCodeAt(r);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(n.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}wS(i,e)}}function _S(n,e,r){if(e.utf8seq===0){if(n<=127){r(n);return}for(let i=1;i<6;i+=1)if((n>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function gs(n){const e=[],r={queue:0,queuedBits:0},i=o=>{e.push(o)};for(let o=0;o<n.length;o+=1)xv(n.charCodeAt(o),r,i);return new Uint8Array(e)}function kS(n){const e=[];return bS(n,r=>e.push(r)),new Uint8Array(e)}function Er(n){const e=[],r={queue:0,queuedBits:0},i=o=>{e.push(o)};return n.forEach(o=>$m(o,r,i)),$m(null,r,i),e.join("")}function SS(n){return Math.round(Date.now()/1e3)+n}function jS(){return Symbol("auth-callback")}const ut=()=>typeof window<"u"&&typeof document<"u",gr={tested:!1,writable:!1},wv=()=>{if(!ut())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gr.tested)return gr.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),gr.tested=!0,gr.writable=!0}catch{gr.tested=!0,gr.writable=!1}return gr.writable};function ES(n){const e={},r=new URL(n);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return r.searchParams.forEach((i,o)=>{e[o]=i}),e}const bv=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),CS=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",ds=async(n,e,r)=>{await n.setItem(e,JSON.stringify(r))},vr=async(n,e)=>{const r=await n.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},qn=async(n,e)=>{await n.removeItem(e)};class Ma{constructor(){this.promise=new Ma.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Ma.promiseConstructor=Promise;function tc(n){const e=n.split(".");if(e.length!==3)throw new Rc("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!fS.test(e[i]))throw new Rc("JWT not in base64url format");return{header:JSON.parse(Fm(e[0])),payload:JSON.parse(Fm(e[1])),signature:gs(e[2]),raw:{header:e[0],payload:e[1]}}}async function TS(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function PS(n,e){return new Promise((i,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await n(l);if(!e(l,null,u)){i(u);return}}catch(u){if(!e(l,u)){o(u);return}}})()})}function NS(n){return("0"+n.toString(16)).substr(-2)}function OS(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let o="";for(let l=0;l<56;l++)o+=r.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(e),Array.from(e,NS).join("")}async function AS(n){const r=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(i);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function RS(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const r=await AS(n);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function os(n,e,r=!1){const i=OS();let o=i;r&&(o+="/PASSWORD_RECOVERY"),await ds(n,`${e}-code-verifier`,o);const l=await RS(i);return[l,i===l?"plain":"s256"]}const IS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function LS(n){const e=n.headers.get(Oc);if(!e||!e.match(IS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function zS(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function DS(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const MS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function as(n){if(!MS.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function nc(){const n={};return new Proxy(n,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function VS(n,e){return new Proxy(n,{get:(r,i,o)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,i,o)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,i,o)}})}function Um(n){return JSON.parse(JSON.stringify(n))}const br=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),BS=[502,503,504];async function Wm(n){var e;if(!CS(n))throw new Ac(br(n),0);if(BS.includes(n.status))throw new Ac(br(n),n.status);let r;try{r=await n.json()}catch(l){throw new Sr(br(l),l)}let i;const o=LS(n);if(o&&o.getTime()>=yv["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new Vm(br(r),n.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new It}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new Vm(br(r),n.status,r.weak_password.reasons);throw new mS(br(r),n.status||500,i)}const $S=(n,e,r,i)=>{const o={method:n,headers:e?.headers||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),r))};async function ue(n,e,r,i){var o;const l=Object.assign({},i?.headers);l[Oc]||(l[Oc]=yv["2024-01-01"].name),i?.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const u=(o=i?.query)!==null&&o!==void 0?o:{};i?.redirectTo&&(u.redirect_to=i.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await FS(n,e,r+d,{headers:l,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(h):{data:Object.assign({},h),error:null}}async function FS(n,e,r,i,o,l){const u=$S(e,i,o,l);let d;try{d=await n(r,Object.assign({},u))}catch(h){throw console.error(h),new Ac(br(h),0)}if(d.ok||await Wm(d),i?.noResolveJson)return d;try{return await d.json()}catch(h){await Wm(h)}}function en(n){var e;let r=null;HS(n)&&(r=Object.assign({},n),n.expires_at||(r.expires_at=SS(n.expires_in)));const i=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:r,user:i},error:null}}function Hm(n){const e=en(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Yn(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function US(n){return{data:n,error:null}}function WS(n){const{action_link:e,email_otp:r,hashed_token:i,redirect_to:o,verification_type:l}=n,u=ws(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:r,hashed_token:i,redirect_to:o,verification_type:l},h=Object.assign({},u);return{data:{properties:d,user:h},error:null}}function qm(n){return n}function HS(n){return n.access_token&&n.refresh_token&&n.expires_in}const rc=["global","local","others"];class qS{constructor({url:e="",headers:r={},fetch:i}){this.url=e,this.headers=r,this.fetch=bv(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=rc[0]){if(rc.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${rc.join(", ")}`);try{return await ue(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ie(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,r={}){try{return await ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Yn})}catch(i){if(ie(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:r}=e,i=ws(e,["options"]),o=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(o.new_email=i?.newEmail,delete o.newEmail),await ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:WS,redirectTo:r?.redirectTo})}catch(r){if(ie(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ue(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Yn})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,i,o,l,u,d,h;try{const m={nextPage:null,lastPage:0,total:0},v=await ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:qm});if(v.error)throw v.error;const x=await v.json(),y=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,w=(h=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return w.length>0&&(w.forEach(_=>{const S=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(_.split(";")[1].split("=")[1]);m[`${E}Page`]=S}),m.total=parseInt(y)),{data:Object.assign(Object.assign({},x),m),error:null}}catch(m){if(ie(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){as(e);try{return await ue(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Yn})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){as(e);try{return await ue(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Yn})}catch(i){if(ie(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,r=!1){as(e);try{return await ue(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Yn})}catch(i){if(ie(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){as(e.userId);try{const{data:r,error:i}=await ue(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:i}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _deleteFactor(e){as(e.userId),as(e.id);try{return{data:await ue(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,i,o,l,u,d,h;try{const m={nextPage:null,lastPage:0,total:0},v=await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:qm});if(v.error)throw v.error;const x=await v.json(),y=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,w=(h=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return w.length>0&&(w.forEach(_=>{const S=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(_.split(";")[1].split("=")[1]);m[`${E}Page`]=S}),m.total=parseInt(y)),{data:Object.assign(Object.assign({},x),m),error:null}}catch(m){if(ie(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await ue(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ie(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await ue(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}}function Km(n={}){return{getItem:e=>n[e]||null,setItem:(e,r)=>{n[e]=r},removeItem:e=>{delete n[e]}}}const ls={debug:!!(globalThis&&wv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _v extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class KS extends _v{}async function GS(n,e,r){ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),ls.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return await r()}finally{ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(e===0)throw ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new KS(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(ls.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function JS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function kv(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function YS(n){return parseInt(n,16)}function QS(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function XS(n){var e;const{chainId:r,domain:i,expirationTime:o,issuedAt:l=new Date,nonce:u,notBefore:d,requestId:h,resources:m,scheme:v,uri:x,version:y}=n;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const w=kv(n.address),_=v?`${v}://${i}`:i,S=n.statement?`${n.statement}
`:"",E=`${_} wants you to sign in with your Ethereum account:
${w}

${S}`;let M=`URI: ${x}
Version: ${y}
Chain ID: ${r}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(o&&(M+=`
Expiration Time: ${o.toISOString()}`),d&&(M+=`
Not Before: ${d.toISOString()}`),h&&(M+=`
Request ID: ${h}`),m){let T=`
Resources:`;for(const j of m){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);T+=`
- ${j}`}M+=T}return`${E}
${M}`}class Ze extends Error{constructor({message:e,code:r,cause:i,name:o}){var l;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(l=o??(i instanceof Error?i.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class ka extends Ze{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function ZS({error:n,options:e}){var r,i,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ze({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ze({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ze({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Ze({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Ze({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Ze({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new Ze({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Ze({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const u=window.location.hostname;if(Sv(u)){if(l.rp.id!==u)return new Ze({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new Ze({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Ze({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function ej({error:n,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ze({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Ze({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const i=window.location.hostname;if(Sv(i)){if(r.rpId!==i)return new Ze({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Ze({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class tj{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const nj=new tj;function rj(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:r,excludeCredentials:i}=n,o=ws(n,["challenge","user","excludeCredentials"]),l=gs(e).buffer,u=Object.assign(Object.assign({},r),{id:gs(r.id).buffer}),d=Object.assign(Object.assign({},o),{challenge:l,user:u});if(i&&i.length>0){d.excludeCredentials=new Array(i.length);for(let h=0;h<i.length;h++){const m=i[h];d.excludeCredentials[h]=Object.assign(Object.assign({},m),{id:gs(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function sj(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:r}=n,i=ws(n,["challenge","allowCredentials"]),o=gs(e).buffer,l=Object.assign(Object.assign({},i),{challenge:o});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const d=r[u];l.allowCredentials[u]=Object.assign(Object.assign({},d),{id:gs(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function ij(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const r=n;return{id:n.id,rawId:n.id,response:{attestationObject:Er(new Uint8Array(n.response.attestationObject)),clientDataJSON:Er(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function oj(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const r=n,i=n.getClientExtensionResults(),o=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:Er(new Uint8Array(o.authenticatorData)),clientDataJSON:Er(new Uint8Array(o.clientDataJSON)),signature:Er(new Uint8Array(o.signature)),userHandle:o.userHandle?Er(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Sv(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function Gm(){var n,e;return!!(ut()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function aj(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ka("Browser returned unexpected credential type",e)}:{data:null,error:new ka("Empty credential response",e)}}catch(e){return{data:null,error:ZS({error:e,options:n})}}}async function lj(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ka("Browser returned unexpected credential type",e)}:{data:null,error:new ka("Empty credential response",e)}}catch(e){return{data:null,error:ej({error:e,options:n})}}}const uj={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},cj={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Sa(...n){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),i={};for(const o of n)if(o)for(const l in o){const u=o[l];if(u!==void 0)if(Array.isArray(u))i[l]=u;else if(r(u))i[l]=u;else if(e(u)){const d=i[l];e(d)?i[l]=Sa(d,u):i[l]=Sa(u)}else i[l]=u}return i}function dj(n,e){return Sa(uj,n,e||{})}function hj(n,e){return Sa(cj,n,e||{})}class fj{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:i,signal:o},l){try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!u)return{data:null,error:d};const h=o??nj.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:m}=u.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${i}`),m.displayName||(m.displayName=m.name)}switch(u.webauthn.type){case"create":{const m=dj(u.webauthn.credential_options.publicKey,l?.create),{data:v,error:x}=await aj({publicKey:m,signal:h});return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:x}}case"request":{const m=hj(u.webauthn.credential_options.publicKey,l?.request),{data:v,error:x}=await lj(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:m,signal:h}));return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:x}}}}catch(u){return ie(u)?{data:null,error:u}:{data:null,error:new Sr("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:r,webauthn:i}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!r)return{data:null,error:new Ni("rpId is required for WebAuthn authentication")};try{if(!Gm())return{data:null,error:new Sr("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:i},signal:o},{request:l});if(!u)return{data:null,error:d};const{webauthn:h}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:h.type,rpId:r,rpOrigins:i,credential_response:h.credential_response}})}catch(u){return ie(u)?{data:null,error:u}:{data:null,error:new Sr("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!r)return{data:null,error:new Ni("rpId is required for WebAuthn registration")};try{if(!Gm())return{data:null,error:new Sr("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(v=>{var x;return(x=v.data)===null||x===void 0?void 0:x.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===e&&y.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:d};const{data:h,error:m}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:r,rpOrigins:i},signal:o},{create:l});return h?this._verify({factorId:u.id,challengeId:h.challengeId,webauthn:{rpId:r,rpOrigins:i,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:m}}catch(u){return ie(u)?{data:null,error:u}:{data:null,error:new Sr("Unexpected error in register",u)}}}}JS();const pj={url:cS,storageKey:dS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:hS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Jm(n,e,r){return await r()}const us={};class Oi{get jwks(){var e,r;return(r=(e=us[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){us[this.storageKey]=Object.assign(Object.assign({},us[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=us[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){us[this.storageKey]=Object.assign(Object.assign({},us[this.storageKey]),{cachedAt:e})}constructor(e){var r,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},pj),e);if(this.storageKey=l.storageKey,this.instanceID=(r=Oi.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Oi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&ut()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new qS({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=bv(l.fetch),this.lock=l.lock||Jm,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:ut()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=GS:this.lock=Jm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new fj(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:wv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Km(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Km(this.memoryStorage)),ut()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${vv}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},i="none";if(ut()&&(r=ES(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce")),ut()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:l}=await this._getSessionFromURL(r,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),yS(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ie(r)?this._returnResult({error:r}):this._returnResult({error:new Sr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,i,o;try{const l=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:en}),{data:u,error:d}=l;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const h=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(l){if(ie(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var r,i,o;try{let l;if("email"in e){const{email:v,password:x,options:y}=e;let w=null,_=null;this.flowType==="pkce"&&([w,_]=await os(this.storage,this.storageKey)),l=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:v,password:x,data:(r=y?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:w,code_challenge_method:_},xform:en})}else if("phone"in e){const{phone:v,password:x,options:y}=e;l=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:x,data:(i=y?.data)!==null&&i!==void 0?i:{},channel:(o=y?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:en})}else throw new oa("You must provide either an email or phone number and a password");const{data:u,error:d}=l;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const h=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(l){if(ie(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let r;if("email"in e){const{email:l,password:u,options:d}=e;r=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Hm})}else if("phone"in e){const{phone:l,password:u,options:d}=e;r=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Hm})}else throw new oa("You must provide either an email or phone number and a password");const{data:i,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){const l=new is;return this._returnResult({data:{user:null,session:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,i,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,i,o,l,u,d,h,m,v,x,y;let w,_;if("message"in e)w=e.message,_=e.signature;else{const{chain:S,wallet:E,statement:M,options:T}=e;let j;if(ut())if(typeof E=="object")j=E;else{const D=window;if("ethereum"in D&&typeof D.ethereum=="object"&&"request"in D.ethereum&&typeof D.ethereum.request=="function")j=D.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=E}const R=new URL((r=T?.url)!==null&&r!==void 0?r:window.location.href),q=await j.request({method:"eth_requestAccounts"}).then(D=>D).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!q||q.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const F=kv(q[0]);let C=(i=T?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!C){const D=await j.request({method:"eth_chainId"});C=YS(D)}const A={domain:R.host,address:F,statement:M,uri:R.href,version:"1",chainId:C,nonce:(o=T?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(l=T?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(d=T?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=T?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=T?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(v=T?.signInWithEthereum)===null||v===void 0?void 0:v.resources};w=XS(A),_=await j.request({method:"personal_sign",params:[QS(w),F]})}try{const{data:S,error:E}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:_},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:en});if(E)throw E;if(!S||!S.session||!S.user){const M=new is;return this._returnResult({data:{user:null,session:null},error:M})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:E})}catch(S){if(ie(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(e){var r,i,o,l,u,d,h,m,v,x,y,w;let _,S;if("message"in e)_=e.message,S=e.signature;else{const{chain:E,wallet:M,statement:T,options:j}=e;let R;if(ut())if(typeof M=="object")R=M;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))R=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=M}const q=new URL((r=j?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in R&&R.signIn){const F=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j?.signInWithSolana),{version:"1",domain:q.host,uri:q.href}),T?{statement:T}:null));let C;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")C=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)C=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)_=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),S=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${q.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${q.href}`,`Issued At: ${(o=(i=j?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=j?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((u=j?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((d=j?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((h=j?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((m=j?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((x=(v=j?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||x===void 0)&&x.length?["Resources",...j.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const F=await R.signMessage(new TextEncoder().encode(_),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=F}}try{const{data:E,error:M}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:Er(S)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:en});if(M)throw M;if(!E||!E.session||!E.user){const T=new is;return this._returnResult({data:{user:null,session:null},error:T})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:M})}catch(E){if(ie(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(e){const r=await vr(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{const{data:l,error:u}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:en});if(await qn(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const d=new is;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:u})}catch(l){if(ie(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:r,provider:i,token:o,access_token:l,nonce:u}=e,d=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:en}),{data:h,error:m}=d;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h||!h.session||!h.user){const v=new is;return this._returnResult({data:{user:null,session:null},error:v})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:m})}catch(r){if(ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,i,o,l,u;try{if("email"in e){const{email:d,options:h}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await os(this.storage,this.storageKey));const{error:x}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=h?.data)!==null&&r!==void 0?r:{},create_user:(i=h?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in e){const{phone:d,options:h}=e,{data:m,error:v}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=h?.data)!==null&&o!==void 0?o:{},create_user:(l=h?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(u=h?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:v})}throw new oa("You must provide either an email or phone number.")}catch(d){if(ie(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var r,i;try{let o,l;"options"in e&&(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo,l=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:d}=await ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:en});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,m=u.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(o){if(ie(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var r,i,o,l,u;try{let d=null,h=null;this.flowType==="pkce"&&([d,h]=await os(this.storage,this.storageKey));const m=await ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:US});return!((l=m.data)===null||l===void 0)&&l.url&&ut()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(d){if(ie(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new It;const{error:o}=await ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(ie(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:i,type:o,options:l}=e,{error:u}=await ue(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:i,type:o,options:l}=e,{data:u,error:d}=await ue(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new oa("You must provide either an email or phone number and a type")}catch(r){if(ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await vr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Zu:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const u=await vr(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=nc()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=VS(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Yn}):await this._useSession(async r=>{var i,o,l;const{data:u,error:d}=r;if(d)throw d;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new It}:await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:Yn})})}catch(r){if(ie(r))return vS(r)&&(await this._removeSession(),await qn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async i=>{const{data:o,error:l}=i;if(l)throw l;if(!o.session)throw new It;const u=o.session;let d=null,h=null;this.flowType==="pkce"&&e.email!=null&&([d,h]=await os(this.storage,this.storageKey));const{data:m,error:v}=await ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:h}),jwt:u.access_token,xform:Yn});if(v)throw v;return u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(i){if(ie(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new It;const r=Date.now()/1e3;let i=r,o=!0,l=null;const{payload:u}=tc(e.access_token);if(u.exp&&(i=u.exp,o=i<=r),o){const{data:d,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(r){if(ie(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var i;if(!e){const{data:u,error:d}=r;if(d)throw d;e=(i=u.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new It;const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!ut())throw new aa("No browser detected.");if(e.error||e.error_description||e.error_code)throw new aa(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Mm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new aa("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Mm("No code detected.");const{data:T,error:j}=await this._exchangeCodeForSession(e.code);if(j)throw j;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:l,refresh_token:u,expires_in:d,expires_at:h,token_type:m}=e;if(!l||!d||!u||!m)throw new aa("No session defined in URL");const v=Math.round(Date.now()/1e3),x=parseInt(d);let y=v+x;h&&(y=parseInt(h));const w=y-v;w*1e3<=cs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${x}s`);const _=y-x;v-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,y,v):v-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,y,v);const{data:S,error:E}=await this._getUser(l);if(E)throw E;const M={provider_token:i,provider_refresh_token:o,access_token:l,expires_in:x,expires_at:y,refresh_token:u,token_type:m,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:M,redirectType:e.type},error:null})}catch(i){if(ie(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await vr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:o,error:l}=r;if(l)return this._returnResult({error:l});const u=(i=o.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:d}=await this.admin.signOut(u,e);if(d&&!(gS(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await qn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=jS(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async r=>{var i,o;try{const{data:{session:l},error:u}=r;if(u)throw u;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,r={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await os(this.storage,this.storageKey,!0));try{return await ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:i,error:o}=await this._useSession(async l=>{var u,d,h,m,v;const{data:x,error:y}=l;if(y)throw y;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await ue(this.fetch,"GET",w,{headers:this.headers,jwt:(v=(m=x.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(o)throw o;return ut()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:e.provider,url:i?.url},error:null})}catch(i){if(ie(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var i;try{const{error:o,data:{session:l}}=r;if(o)throw o;const{options:u,provider:d,token:h,access_token:m,nonce:v}=e,x=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=l?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:d,id_token:h,access_token:m,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:en}),{data:y,error:w}=x;return w?this._returnResult({data:{user:null,session:null},error:w}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new is}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:w}))}catch(o){if(ie(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var i,o;const{data:l,error:u}=r;if(u)throw u;return await ue(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await PS(async o=>(o>0&&await TS(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:en})),(o,l)=>{const u=200*Math.pow(2,o);return l&&ec(l)&&Date.now()+u-i<cs})}catch(i){if(this._debug(r,"error",i),ie(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),ut()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await vr(this.storage,this.storageKey);if(o&&this.userStorage){let u=await vr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await ds(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u?.user)!==null&&e!==void 0?e:nc()}else if(o&&!o.user&&!o.user){const u=await vr(this.storage,this.storageKey+"-user");u&&u?.user?(o.user=u.user,await qn(this.storage,this.storageKey+"-user"),await ds(this.storage,this.storageKey,o)):o.user=nc()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const l=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Zu;if(this._debug(i,`session has${l?"":" not"} expired with margin of ${Zu}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),ec(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(o.access_token);!d&&u?.user?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var r,i;if(!e)throw new It;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Ma;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new It;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(o,"error",l),ie(l)){const u={data:null,error:l};return ec(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,r,i=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,r)}catch(h){l.push(h)}});if(await Promise.all(u),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await ds(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const l=Um(o);await ds(this.storage,this.storageKey,l)}else{const o=Um(r);await ds(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await qn(this.storage,this.storageKey),await qn(this.storage,this.storageKey+"-code-verifier"),await qn(this.storage,this.storageKey+"-user"),this.userStorage&&await qn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ut()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),cs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-e)/cs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${cs}ms, refresh threshold is ${Nc} ticks`),o<=Nc&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof _v)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ut()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,i){const o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,u]=await os(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(d.toString())}if(i?.queryParams){const l=new URLSearchParams(i.queryParams);o.push(l.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var i;const{data:o,error:l}=r;return l?this._returnResult({data:null,error:l}):await ue(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var i,o;const{data:l,error:u}=r;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:m}=await ue(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&h.type==="totp"&&(!((o=h?.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:o,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?ij(e.webauthn.credential_response):oj(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:h}=await ue(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:h}))})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:o,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=await ue(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(u.error)return u;const{data:d}=u;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:rj(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:sj(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=r?.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:i},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=tc(i.access_token);let u=null;l.aal&&(u=l.aal);let d=u;((r=(e=i.user.factors)===null||e===void 0?void 0:e.filter(v=>v.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const m=l.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?await ue(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new It})})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async i=>{const{data:{session:o},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new It});const u=await ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&ut()&&!r?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(i){if(ie(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,r){try{return await this._useSession(async i=>{const{data:{session:o},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new It});const u=await ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&ut()&&!r?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(i){if(ie(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:i}=e;return i?this._returnResult({data:null,error:i}):r?await ue(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new It})})}catch(e){if(ie(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?(await ue(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new It})})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let i=r.keys.find(d=>d.kid===e);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(d=>d.kid===e),i&&this.jwks_cached_at+pS>o)return i;const{data:l,error:u}=await ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,i=l.keys.find(d=>d.kid===e),!i)?null:i}async getClaims(e,r={}){try{let i=e;if(!i){const{data:w,error:_}=await this.getSession();if(_||!w.session)return this._returnResult({data:null,error:_});i=w.session.access_token}const{header:o,payload:l,signature:u,raw:{header:d,payload:h}}=tc(i);r?.allowExpired||zS(l.exp);const m=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:w}=await this.getUser(i);if(w)throw w;return{data:{claims:l,header:o,signature:u},error:null}}const v=DS(o.alg),x=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,x,u,kS(`${d}.${h}`)))throw new Rc("Invalid JWT signature");return{data:{claims:l,header:o,signature:u},error:null}}catch(i){if(ie(i))return this._returnResult({data:null,error:i});throw i}}}Oi.nextInstanceID={};const mj=Oi;class gj extends mj{constructor(e){super(e)}}class vj{constructor(e,r,i){var o,l,u;this.supabaseUrl=e,this.supabaseKey=r;const d=uS(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,m={db:tS,realtime:rS,auth:Object.assign(Object.assign({},nS),{storageKey:h}),global:eS},v=lS(i??{},m);this.storageKey=(o=v.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=v.global.headers)!==null&&l!==void 0?l:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(x,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=v.auth)!==null&&u!==void 0?u:{},this.headers,v.global.fetch),this.fetch=oS(r,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.accessToken&&this.accessToken().then(x=>this.realtime.setAuth(x)).catch(x=>console.warn("Failed to set initial Realtime auth token:",x)),this.rest=new rk(new URL("rest/v1",d).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new Qk(this.storageUrl.href,this.headers,this.fetch,i?.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new Z_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,i)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(r=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:i,storage:o,userStorage:l,storageKey:u,flowType:d,lock:h,debug:m,throwOnError:v},x,y){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new gj({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),x),storageKey:u,autoRefreshToken:e,persistSession:r,detectSessionInUrl:i,storage:o,userStorage:l,flowType:d,lock:h,debug:m,throwOnError:v,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new wk(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,i)=>{this._handleTokenChanged(r,"CLIENT",i?.access_token)})}_handleTokenChanged(e,r,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const yj=(n,e,r)=>new vj(n,e,r);function xj(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}xj()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const wj="https://itvwrrsaigfejbooewjb.supabase.co",Ym="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";let Lt=null;Ym.startsWith("GOCSPX")?(console.warn("Invalid Supabase key detected (looks like Google secret). Forcing Mock Mode."),Lt=null):Lt=yj(wj,Ym);const _i={signInWithGoogle:async()=>{if(Lt){const{data:n,error:e}=await Lt.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});if(e)throw e;return n}else{await new Promise(e=>setTimeout(e,1e3));const n={id:"user-mock-google",email:"google-user@ejemplo.com",user_metadata:{full_name:"Usuario Google Mock",avatar_url:"https://api.dicebear.com/7.x/avataaars/svg?seed=Felix"}};return localStorage.setItem("notion_mock_user",JSON.stringify(n)),{user:n}}},signInWithPassword:async(n,e)=>{if(n==="demo@ejemplo.com"&&e==="demo"){await new Promise(l=>setTimeout(l,800));const o={id:"user-mock-demo",email:"demo@ejemplo.com",user_metadata:{full_name:"Usuario Demo"}};return localStorage.setItem("notion_mock_user",JSON.stringify(o)),{user:o}}const i=JSON.parse(localStorage.getItem("notion_mock_db_users")||"[]").find(o=>o.email===n&&o.password===e);if(i){await new Promise(l=>setTimeout(l,800));const o={id:i.id,email:i.email,user_metadata:{full_name:i.email.split("@")[0]}};return localStorage.setItem("notion_mock_user",JSON.stringify(o)),{user:o}}if(Lt){const{data:o,error:l}=await Lt.auth.signInWithPassword({email:n,password:e});if(l)throw l;return o}throw new Error("Credenciales invlidas (Mock: usa demo@ejemplo.com / demo o regstrate)")},signUp:async(n,e)=>{if(Lt){const{data:r,error:i}=await Lt.auth.signUp({email:n,password:e});if(i)throw i;return r}else{await new Promise(l=>setTimeout(l,1e3));const r=JSON.parse(localStorage.getItem("notion_mock_db_users")||"[]");if(r.find(l=>l.email===n))throw new Error("El usuario ya existe (Mock DB)");const i={id:`user-mock-${Date.now()}`,email:n,password:e};r.push(i),localStorage.setItem("notion_mock_db_users",JSON.stringify(r));const o={id:i.id,email:i.email,user_metadata:{full_name:n.split("@")[0]}};return localStorage.setItem("notion_mock_user",JSON.stringify(o)),{user:o}}},logout:async()=>(Lt?await Lt.auth.signOut():localStorage.removeItem("notion_mock_user"),!0)},Ai={STORAGE_KEYS:["notion_v82_ws","notion_v82_profile","notion_v82_themes","notion_v82_fonts","notion_v82_active_id","notion_v82_active_theme"],saveBackup:n=>{if(!n)return;const e={};Ai.STORAGE_KEYS.forEach(i=>{const o=localStorage.getItem(i);o&&(e[i]=JSON.parse(o))});const r=`notion_backup_${n}`;localStorage.setItem(r,JSON.stringify(e)),console.log(`[Backup] Saved data for ${n} to ${r}`)},restoreBackup:n=>{if(!n)return!1;const e=`notion_backup_${n}`,r=localStorage.getItem(e);if(r){const i=JSON.parse(r);return Object.keys(i).forEach(o=>{localStorage.setItem(o,JSON.stringify(i[o]))}),console.log(`[Backup] Restored data for ${n}`),!0}return!1},clearLocalData:()=>{Ai.STORAGE_KEYS.forEach(n=>localStorage.removeItem(n)),console.log("[Backup] Local data cleared")}},ye={generateId:()=>Math.random().toString(36).substr(2,9),getRandomColor:()=>["from-indigo-500 to-purple-500","from-pink-500 to-rose-500","from-emerald-500 to-teal-500","from-blue-500 to-cyan-500","from-orange-500 to-amber-500"][Math.floor(Math.random()*5)],delay:n=>new Promise(e=>setTimeout(e,n))},jv=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],bj=[{id:"red",name:"Rojo",color:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},{id:"orange",name:"Naranja",color:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"},{id:"blue",name:"Azul",color:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"},{id:"beige",name:"Beige",color:"linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)"},{id:"teal",name:"Verde azulado",color:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)"},{id:"pink",name:"Rosa",color:"linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%)"},{id:"orange-red",name:"Naranja rojizo",color:"linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)"},{id:"purple",name:"Morado",color:"linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%)"}],_j=["https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800","https://images.unsplash.com/photo-1497493292307-31c376b6e479?w=800","https://images.unsplash.com/photo-1451187580459-43490279c0fa?w=800","https://images.unsplash.com/photo-1419242902214-272b3f66ee7a?w=800"],Ev={id:"default",name:"Original",author:"System",colors:{bg:"#ffffff",text:"#37352f",sidebar:"#F7F7F5"}},la={workspaces:[{id:"ws-demo",name:"usuario Workspace",initial:"U",color:"from-indigo-500 to-purple-500",email:"user@example.com",pages:[],databases:[{id:"db-demo-proyectos",title:"Proyectos",icon:"",type:"fullpage",parentPageId:null,properties:[{id:"prop-title",name:"Nombre",type:"title",visible:!0,order:0},{id:"prop-estado",name:"Estado",type:"select",visible:!0,order:1,config:{options:[{label:"Por Hacer",color:"#6b7280"},{label:"En Progreso",color:"#3b82f6"},{label:"Terminado",color:"#22c55e"}]}},{id:"prop-prioridad",name:"Prioridad",type:"select",visible:!0,order:2,config:{options:[{label:"Alta",color:"#ef4444"},{label:"Media",color:"#f97316"},{label:"Baja",color:"#22c55e"}]}},{id:"prop-fecha",name:"Fecha Lmite",type:"date",visible:!0,order:3}],items:[{id:"item-1",pageId:"page-db-1",values:{"prop-title":"Diseo de UI/UX","prop-estado":"En Progreso","prop-prioridad":"Alta","prop-fecha":"2025-12-15"}},{id:"item-2",pageId:"page-db-2",values:{"prop-title":"Implementar Base de Datos","prop-estado":"Terminado","prop-prioridad":"Alta","prop-fecha":"2025-12-05"}},{id:"item-3",pageId:"page-db-3",values:{"prop-title":"Pruebas de Usuario","prop-estado":"Por Hacer","prop-prioridad":"Media","prop-fecha":"2025-12-20"}}],views:[{id:"view-table",name:"Tabla",type:"table",filters:[],sorts:[],visibleProperties:[]},{id:"view-board",name:"Tablero",type:"board",groupBy:"prop-estado",filters:[],sorts:[],visibleProperties:[]}],activeViewId:"view-table"}]}],profile:{name:"Usuario Fixius",email:"usuario@ejemplo.com",bio:"Productivity enthusiast.",avatar:null},themes:[Ev],fonts:[{id:"sans",name:"Sans Serif",value:"ui-sans-serif, system-ui, sans-serif",preview:"Aa"},{id:"serif",name:"Serif",value:'ui-serif, Georgia, Cambria, "Times New Roman", Times, serif',preview:"Aa"},{id:"mono",name:"Mono",value:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace",preview:"Aa"}]},Kn=(n,e)=>{const[r,i]=z.useState(()=>{try{return JSON.parse(window.localStorage.getItem(n))||e}catch{return e}}),o=z.useCallback(l=>{i(u=>{const d=l instanceof Function?l(u):l;return window.localStorage.setItem(n,JSON.stringify(d)),d})},[n]);return[r,o]},vd=()=>{const[n,e]=Kn("notion_v82_ws",la.workspaces),[r,i]=Kn("notion_v82_profile",la.profile),[o,l]=Kn("notion_v82_themes",la.themes),[u,d]=Kn("notion_v82_fonts",la.fonts),[h,m]=Kn("notion_v82_active_id","ws-demo"),[v,x]=z.useState(null),[y,w]=Kn("notion_v82_active_theme","default"),[_,S]=Kn("notion_v82_active_font","sans"),[E,M]=Kn("notion_v82_downloads",{icons:[],covers:[]}),T=z.useMemo(()=>{if(!Array.isArray(n))return null;const C=n.find(A=>A.id===h);return C||(n.length>0?(m(n[0].id),n[0]):null)},[n,h]),j=z.useMemo(()=>T?.pages.find(C=>C.id===v),[T,v]),R=z.useMemo(()=>o.find(C=>C.id===y)||Ev,[o,y]),q=z.useMemo(()=>u.find(C=>C.id===_)||{id:"sans",name:"Sans Serif",value:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif'},[u,_]);z.useEffect(()=>{window.appState={workspaces:n,userProfile:r,themes:o,fonts:u,activeWorkspaceId:h,activePageId:v,activeThemeId:y}},[n,r,o,u,h,v,y]),z.useEffect(()=>{const C=document.getElementById("theme-stylesheet");if(R&&R.type==="css"&&R.url)if(C)C.href=R.url;else{const A=document.createElement("link");A.id="theme-stylesheet",A.rel="stylesheet",A.href=R.url,document.head.appendChild(A)}else C&&C.remove()},[R]),z.useEffect(()=>{document.documentElement.style.setProperty("--font-main",q?.value||"ui-sans-serif, system-ui, sans-serif")},[q]);const F={setActiveWorkspaceId:m,setActivePageId:x,setUserProfile:i,setActiveThemeId:w,addWorkspace:C=>{const A=C||(r?.email?`${r.email.split("@")[0]}'s Workspace`:"New Workspace"),D={id:ye.generateId(),name:A,initial:A[0].toUpperCase(),color:ye.getRandomColor(),email:r.email,pages:[{id:ye.generateId(),title:"Bienvenida",icon:"",cover:null,comments:[],inInbox:!1,isFavorite:!1,isDeleted:!1,isGenerating:!1,parentId:null,updatedAt:new Date().toISOString(),blocks:[{id:ye.generateId(),type:"h1",content:"Bienvenida"},{id:ye.generateId(),type:"p",content:"Este es tu nuevo espacio de trabajo."}]},{id:ye.generateId(),title:"Tareas",icon:"",cover:null,comments:[],inInbox:!1,isFavorite:!1,isDeleted:!1,isGenerating:!1,parentId:null,updatedAt:new Date().toISOString(),blocks:[{id:ye.generateId(),type:"h1",content:"Lista de Tareas"},{id:ye.generateId(),type:"todo",content:"Revisar documentacin",checked:!1},{id:ye.generateId(),type:"todo",content:"Configurar perfil",checked:!1}]}]};e(B=>[...B,D]),m(D.id)},removeWorkspace:C=>{if(n.length<=1)return!1;const A=n.filter(D=>D.id!==C);return e(A),h===C&&m(A[0].id),!0},addPage:(C={})=>{if(!T)return;const A={id:ye.generateId(),title:"",icon:null,cover:null,comments:[],inInbox:!1,isFavorite:!1,isDeleted:!1,isGenerating:!1,parentId:null,updatedAt:new Date().toISOString(),blocks:[],...C},D={...T,pages:[...T.pages,A]};return e(n.map(B=>B.id===h?D:B)),A.id},movePage:(C,A)=>{if(!T||C===A)return;const D=T.pages.map(B=>B.id===C?{...B,parentId:A}:B);e(n.map(B=>B.id===h?{...T,pages:D}:B))},duplicatePage:C=>{if(!T)return;const A=T.pages.find(J=>J.id===C);if(!A)return;const D={...A,id:ye.generateId(),title:`${A.title} (Copia)`,updatedAt:new Date().toISOString(),blocks:A.blocks.map(J=>({...J,id:ye.generateId()}))},B={...T,pages:[...T.pages,D]};e(n.map(J=>J.id===h?B:J))},updatePage:(C,A)=>e(D=>D.map(B=>B.id===h?{...B,pages:B.pages.map(J=>J.id===C?{...J,...A}:J)}:B)),deletePage:C=>{e(A=>A.map(D=>{if(D.id!==h)return D;const B=(me,Fe)=>{const xe=Fe.filter(G=>G.parentId===me);let be=[...xe];return xe.forEach(G=>{be=[...be,...B(G.id,Fe)]}),be},J=B(C,D.pages),ne=[C,...J.map(me=>me.id)],le=D.pages.map(me=>ne.includes(me.id)?{...me,isDeleted:!0,deletedAt:new Date().toISOString()}:me);return{...D,pages:le}})),v===C&&x(null)},restorePage:C=>{e(A=>A.map(D=>D.id===h?{...D,pages:D.pages.map(B=>B.id===C?{...B,isDeleted:!1,deletedAt:null}:B)}:D))},permanentDeletePage:C=>{e(A=>A.map(D=>D.id===h?{...D,pages:D.pages.filter(B=>B.id!==C)}:D))},updateBlock:(C,A)=>j&&F.updatePage(v,{blocks:j.blocks.map(D=>D.id===C?{...D,...A}:D)}),addBlock:(C,A)=>j&&F.updatePage(v,{blocks:[...j.blocks.slice(0,C),{id:ye.generateId(),type:"p",content:"",...A},...j.blocks.slice(C)]}),deleteBlock:C=>j&&F.updatePage(v,{blocks:[...j.blocks.slice(0,C),...j.blocks.slice(C+1)]}),reorderBlocks:(C,A)=>{if(!j)return;const D=[...j.blocks],[B]=D.splice(C,1);D.splice(A,0,B),F.updatePage(v,{blocks:D})},addDatabase:(C,A="fullpage",D=null)=>{if(!T)return null;const B={id:ye.generateId(),name:"Tabla",type:"table",filters:[],sorts:[],visibleProperties:[]},J={id:ye.generateId(),name:"Nombre",type:"title",visible:!0,order:0},ne={id:ye.generateId(),title:C||"Nueva Base de Datos",icon:"",type:A,parentPageId:D,properties:[J],items:[],views:[B],activeViewId:B.id};return e(n.map(le=>le.id===h?{...le,databases:[...le.databases||[],ne]}:le)),ne.id},updateDatabase:(C,A)=>{e(n.map(D=>D.id===h?{...D,databases:(D.databases||[]).map(B=>B.id===C?{...B,...A}:B)}:D))},deleteDatabase:C=>{e(n.map(A=>A.id===h?{...A,databases:(A.databases||[]).filter(D=>D.id!==C)}:A))},addDatabaseItem:(C,A="")=>{if(!T)return null;const D=(T.databases||[]).find(le=>le.id===C);if(!D)return null;const B=F.addPage({title:A||"Sin ttulo",isDatabaseItem:!0,databaseId:C}),J=D.properties.find(le=>le.type==="title"),ne={id:ye.generateId(),pageId:B,values:{[J.id]:A||"Sin ttulo"}};return e(n.map(le=>le.id===h?{...le,databases:(le.databases||[]).map(me=>me.id===C?{...me,items:[...me.items,ne]}:me)}:le)),ne.id},updateDatabaseItem:(C,A,D,B)=>{e(n.map(J=>J.id===h?{...J,databases:(J.databases||[]).map(ne=>ne.id===C?{...ne,items:ne.items.map(le=>le.id===A?{...le,values:{...le.values,[D]:B}}:le)}:ne)}:J))},deleteDatabaseItem:(C,A)=>{e(n.map(D=>D.id===h?{...D,databases:(D.databases||[]).map(B=>B.id===C?{...B,items:B.items.filter(J=>J.id!==A)}:B)}:D))},addProperty:(C,A)=>{const D=(T?.databases||[]).find(J=>J.id===C);if(!D)return null;const B={id:ye.generateId(),name:A.name||"Nueva Propiedad",type:A.type||"text",visible:!0,order:D.properties.length,config:A.config||{}};return e(n.map(J=>J.id===h?{...J,databases:(J.databases||[]).map(ne=>ne.id===C?{...ne,properties:[...ne.properties,B]}:ne)}:J)),B.id},updateProperty:(C,A,D)=>{e(n.map(B=>B.id===h?{...B,databases:(B.databases||[]).map(J=>J.id===C?{...J,properties:J.properties.map(ne=>ne.id===A?{...ne,...D}:ne)}:J)}:B))},deleteProperty:(C,A)=>{e(n.map(D=>D.id===h?{...D,databases:(D.databases||[]).map(B=>B.id===C?{...B,properties:B.properties.filter(J=>J.id!==A&&J.type!=="title")}:B)}:D))},addView:(C,A)=>{const D={id:ye.generateId(),name:A.name||"Nueva Vista",type:A.type||"table",filters:[],sorts:[],visibleProperties:[]};return e(n.map(B=>B.id===h?{...B,databases:(B.databases||[]).map(J=>J.id===C?{...J,views:[...J.views,D]}:J)}:B)),D.id},updateView:(C,A,D)=>{e(n.map(B=>B.id===h?{...B,databases:(B.databases||[]).map(J=>J.id===C?{...J,views:J.views.map(ne=>ne.id===A?{...ne,...D}:ne)}:J)}:B))},deleteView:(C,A)=>{e(n.map(D=>D.id===h?{...D,databases:(D.databases||[]).map(B=>B.id===C?{...B,views:B.views.filter(J=>J.id!==A),activeViewId:B.activeViewId===A?B.views[0]?.id:B.activeViewId}:B)}:D))},addTheme:C=>{C.name&&l(A=>A.find(B=>B.id===C.id)?A.map(B=>B.id===C.id?C:B):[...A,C])},removeTheme:C=>{C!=="default"&&(l(A=>A.filter(D=>D.id!==C)),y===C&&w("default"))},addFont:C=>{C.name&&d(A=>A.find(B=>B.id===C.id)?A:[...A,C])},removeFont:C=>{d(A=>A.filter(D=>D.id!==C)),_===C&&S("sans")},addComment:C=>{if(!j)return;const A={id:ye.generateId(),author:r.name,avatar:r.avatar,text:C,createdAt:new Date().toISOString()},D=j.comments||[];F.updatePage(v,{comments:[...D,A]})},emptyInbox:()=>{e(C=>C.map(A=>A.id!==h?A:{...A,pages:A.pages.filter(D=>!D.inInbox)}))},emptyTrash:()=>{e(C=>C.map(A=>A.id!==h?A:{...A,pages:A.pages.filter(D=>!D.isDeleted)}))},deleteAllPages:()=>{e(C=>C.map(A=>A.id!==h?A:{...A,pages:[]})),x(null)},addDownloadedIcon:C=>{M(A=>({...A,icons:[...A.icons||[],{...C,downloadedAt:Date.now()}]}))},addDownloadedCover:C=>{M(A=>({...A,covers:[...A.covers||[],{...C,downloadedAt:Date.now()}]}))},isDownloaded:(C,A)=>E[C]?.some(D=>D.id===A)||!1,clearDownloadedIcons:()=>{M(C=>({...C,icons:[]}))},clearDownloadedCovers:()=>{M(C=>({...C,covers:[]}))},setWorkspaces:e,setUserProfile:i,setThemes:l,setFonts:d,setActiveWorkspaceId:m,setActiveThemeId:w};return{workspaces:n,userProfile:r,activeWorkspace:T,activeWorkspaceId:h,activePage:j,activePageId:v,themes:o,activeTheme:R,activeThemeId:y,fonts:u,activeFont:q,activeFontId:_,downloads:E,actions:F,utils:ye,setWorkspaces:e,setUserProfile:i,setThemes:l,setFonts:d,setActiveWorkspaceId:m,setActiveThemeId:w,setActiveFontId:S}},Qm={"--bg-color":"#ffffff","--text-color":"#37352f","--sidebar-bg":"#F7F7F5","--border-color":"#e5e7eb","--accent-primary":"#3b82f6","--accent-hover":"#2563eb","--hover-bg":"#f4f4f5","--font-main":"ui-sans-serif, system-ui, sans-serif","--font-size-base":"14px","--line-height":"1.5","--padding-page":"1.5rem","--sidebar-width":"240px","--shadow-sm":"0 1px 2px 0 rgb(0 0 0 / 0.05)","--shadow-md":"0 4px 6px -1px rgb(0 0 0 / 0.1)","--shadow-lg":"0 10px 15px -3px rgb(0 0 0 / 0.1)","--radius-sm":"0.25rem","--radius-md":"0.5rem","--radius-lg":"0.75rem"};function kj(n={}){z.useEffect(()=>{const e={...Qm,...n};return Object.entries(e).forEach(([r,i])=>{document.documentElement.style.setProperty(r,i)}),()=>{Object.keys(n).forEach(r=>{Qm[r]||document.documentElement.style.removeProperty(r)})}},[n])}function Sj(n){if(!n||!n.colors)return{};const e={};return n.colors.bg&&(e["--bg-color"]=n.colors.bg),n.colors.text&&(e["--text-color"]=n.colors.text),n.colors.sidebar&&(e["--sidebar-bg"]=n.colors.sidebar),n.colors.border&&(e["--border-color"]=n.colors.border),n.colors.accent&&(e["--accent-primary"]=n.colors.accent),n.colors.accentHover&&(e["--accent-hover"]=n.colors.accentHover),n.colors.hover&&(e["--hover-bg"]=n.colors.hover),e}function jj({onLoginSuccess:n}){const[e,r]=z.useState(""),[i,o]=z.useState(""),[l,u]=z.useState(!1),[d,h]=z.useState(!1),[m,v]=z.useState(""),x=async w=>{w.preventDefault(),h(!0),v("");try{let _;l?(_=await _i.signUp(e,i),_?.user&&(alert("Registro exitoso. Por favor verifica tu correo electrnico (si usas Supabase real) o inicia sesin."),u(!1))):(_=await _i.signInWithPassword(e,i),_?.user&&n(_.user))}catch(_){v(_.message||"Error en la autenticacin")}finally{h(!1)}},y=async()=>{try{h(!0);const w=await _i.signInWithGoogle();w?.user&&n(w.user)}catch(w){v(w.message),h(!1)}};return f.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 bg-gradient-to-b from-white to-zinc-50",children:f.jsxs("div",{className:"max-w-md w-full space-y-8",children:[f.jsxs("div",{className:"text-center space-y-4",children:[f.jsxs(Ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-indigo-50 text-indigo-600 text-sm font-medium border border-indigo-100 mx-auto",children:[f.jsx(Ci,{size:14}),f.jsx("span",{children:"Nueva Arquitectura V82"})]}),f.jsx("h1",{className:"text-4xl font-bold tracking-tight text-zinc-900",children:"Bienvenido"}),f.jsx("p",{className:"text-zinc-500",children:"Tu espacio de trabajo, reimaginado."})]}),f.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl border border-zinc-100",children:[f.jsxs("form",{onSubmit:x,className:"space-y-4",children:[m&&f.jsxs("div",{className:"p-3 bg-red-50 text-red-600 text-sm rounded-lg flex items-center gap-2",children:[f.jsx(ld,{size:16})," ",m]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-zinc-700",children:"Correo electrnico"}),f.jsx("input",{type:"email",required:!0,value:e,onChange:w=>r(w.target.value),className:"w-full p-2.5 border border-zinc-200 rounded-lg outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all",placeholder:"nombre@ejemplo.com"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-zinc-700",children:"Contrasea"}),f.jsx("input",{type:"password",required:!0,value:i,onChange:w=>o(w.target.value),className:"w-full p-2.5 border border-zinc-200 rounded-lg outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all",placeholder:""})]}),f.jsx("button",{type:"submit",disabled:d,className:"w-full py-2.5 bg-zinc-900 text-white rounded-lg font-medium hover:bg-black transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:d?f.jsx(La,{className:"animate-spin",size:18}):l?"Crear cuenta":"Iniciar Sesin"})]}),f.jsxs("div",{className:"relative my-6",children:[f.jsx("div",{className:"absolute inset-0 flex items-center",children:f.jsx("div",{className:"w-full border-t border-zinc-200"})}),f.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:f.jsx("span",{className:"bg-white px-2 text-zinc-400",children:"O contina con"})})]}),f.jsxs("button",{onClick:y,disabled:d,className:"w-full py-2.5 bg-white border border-zinc-200 text-zinc-700 rounded-lg font-medium hover:bg-zinc-50 transition-all flex items-center justify-center gap-2",children:[f.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[f.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),f.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),f.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),f.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google"]}),f.jsxs("div",{className:"mt-6 text-center text-sm",children:[f.jsx("span",{className:"text-zinc-500",children:l?"Ya tienes cuenta?":"No tienes cuenta?"}),f.jsx("button",{onClick:()=>u(!l),className:"ml-1 font-medium text-indigo-600 hover:text-indigo-500",children:l?"Inicia sesin":"Regstrate"})]}),f.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg text-xs text-yellow-800",children:[f.jsx("p",{className:"font-bold mb-1",children:" Modo de Prueba (Mock)"}),f.jsx("p",{children:"Si tienes problemas con la API, usa estas credenciales para probar la app localmente:"}),f.jsxs("div",{className:"mt-2 font-mono bg-yellow-100 p-2 rounded",children:[f.jsxs("p",{children:["Email: ",f.jsx("strong",{children:"demo@ejemplo.com"})]}),f.jsxs("p",{children:["Pass: ",f.jsx("strong",{children:"demo"})]})]})]})]})]})})}const Ic=({page:n,depth:e=0,actions:r,ui:i,setUi:o,activePageId:l,allPages:u,onContextMenu:d})=>{const[h,m]=z.useState(!0),v=u.some(w=>w.parentId===n.id&&!w.isDeleted&&!w.inInbox),x=u.filter(w=>w.parentId===n.id&&!w.isDeleted&&!w.inInbox),y=w=>{w.preventDefault(),w.stopPropagation();const _=w.dataTransfer.getData("text/plain");_!==n.id&&r.movePage(_,n.id)};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:We("group flex items-center gap-1 p-1 rounded-md hover:bg-[rgba(0,0,0,0.05)] cursor-pointer min-h-[1.75rem] relative select-none",l===n.id?"bg-[rgba(0,0,0,0.05)] font-medium":"opacity-80"),style:{paddingLeft:`${e*.75+.5}rem`},onClick:()=>{r.setActivePageId(n.id),o(w=>({...w,currentView:"page"})),i.isMobile&&o(w=>({...w,sidebarOpen:!1}))},draggable:!0,onDragStart:w=>w.dataTransfer.setData("text/plain",n.id),onDragOver:w=>w.preventDefault(),onDrop:y,children:[f.jsx("div",{className:"flex items-center justify-center w-4 h-4 shrink-0 hover:bg-zinc-200 rounded transition-colors",onClick:w=>{w.stopPropagation(),m(!h)},children:v&&f.jsx(_g,{size:12,className:We("transition-transform",h&&"rotate-90")})}),f.jsx("span",{className:"text-lg leading-none w-4 text-center shrink-0 flex items-center justify-center",children:n.isGenerating?f.jsx(La,{className:"animate-spin text-indigo-500",size:14}):n.icon?.startsWith("http")||n.icon?.startsWith("data:")?f.jsx("img",{src:n.icon,alt:"",className:"w-4 h-4 object-contain"}):n.icon||f.jsx(Pr,{size:16})}),f.jsx("span",{className:We("text-sm truncate flex-1",n.isGenerating&&"italic text-zinc-400"),children:n.title||"Sin ttulo"}),f.jsxs("div",{className:"flex items-center opacity-0 group-hover:opacity-100 transition-opacity absolute right-1 bg-[var(--sidebar-bg)] shadow-sm rounded",children:[f.jsx("button",{onClick:w=>{w.stopPropagation(),d(n.id,w)},className:"p-0.5 hover:bg-zinc-200 rounded text-zinc-500",children:f.jsx(Cg,{size:14})}),f.jsx("button",{onClick:w=>{w.stopPropagation(),r.addPage({parentId:n.id}),m(!0)},className:"p-0.5 hover:bg-zinc-200 rounded text-zinc-500",title:"Nueva Pgina",children:f.jsx(Nr,{size:14})})]})]}),h&&x.map(w=>f.jsx(Ic,{page:w,depth:e+1,actions:r,ui:i,setUi:o,activePageId:l,allPages:u,onContextMenu:d},w.id))]})},Ej=({ui:n,setUi:e,activeWorkspace:r,activeWorkspaceId:i,activePageId:o,activeDatabaseId:l,actions:u,userProfile:d,workspaces:h,handleContextMenu:m,setActiveDatabaseId:v})=>{const x=d?.email?d.email.split("@")[0]:"Usuario";return f.jsx(Ei,{mode:"wait",children:n.sidebarOpen&&f.jsxs(Ge.aside,{initial:{x:-300,opacity:0},animate:{x:0,opacity:1},exit:{x:-300,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"h-full border-r border-zinc-200 flex flex-col shrink-0 bg-[var(--sidebar-bg)] z-40 absolute md:relative shadow-xl md:shadow-none",style:{width:"var(--sidebar-width)"},children:[f.jsxs("div",{className:"p-3 hover:bg-zinc-200/50 transition-colors cursor-pointer m-2 rounded-lg flex items-center gap-2 group",onClick:()=>e(y=>({...y,modals:{...y.modals,workspaceMenu:!0}})),children:[f.jsx("div",{className:`w-6 h-6 rounded bg-gradient-to-br ${r?.color||"from-gray-500 to-gray-600"} flex items-center justify-center text-white text-xs font-bold shadow-sm`,children:r?.initial||(d?.email?d.email[0].toUpperCase():"W")}),f.jsx("span",{className:"font-medium text-sm truncate flex-1",children:r?.name||(d?.email?`${d.email.split("@")[0]}'s Workspace`:"Workspace")}),f.jsx("div",{className:"w-4 h-4 flex items-center justify-center text-zinc-400 group-hover:text-zinc-600",children:f.jsx(C_,{size:12})})]}),f.jsxs("div",{className:"px-2 mb-2 space-y-0.5",children:[f.jsxs("div",{onClick:()=>e(y=>({...y,modals:{...y.modals,search:!0}})),className:"flex items-center gap-2 px-3 py-1.5 text-sm text-zinc-500 hover:bg-zinc-200/50 rounded-md cursor-pointer group",children:[f.jsx(Pg,{size:14})," ",f.jsx("span",{className:"flex-1",children:"Buscar"})," ",f.jsx("span",{className:"text-xs border border-zinc-300 rounded px-1 opacity-0 group-hover:opacity-100 transition-opacity",children:"Ctrl+K"})]}),f.jsxs("div",{onClick:()=>e(y=>({...y,modals:{...y.modals,ai:!0}})),className:"flex items-center gap-2 px-3 py-1.5 text-sm text-zinc-500 hover:bg-zinc-200/50 rounded-md cursor-pointer",children:[f.jsx(Ci,{size:14})," ",f.jsxs("span",{children:[x," AI"]})]}),f.jsxs("div",{onClick:()=>e(y=>({...y,currentView:"home"})),className:"flex items-center gap-2 px-3 py-1.5 text-sm text-zinc-500 hover:bg-zinc-200/50 rounded-md cursor-pointer",children:[f.jsx(I_,{size:14})," ",f.jsx("span",{children:"Inicio"})]}),f.jsxs("div",{onClick:()=>e(y=>({...y,currentView:"inbox"})),className:"flex items-center gap-2 px-3 py-1.5 text-sm text-zinc-500 hover:bg-zinc-200/50 rounded-md cursor-pointer",children:[f.jsx(Sg,{size:14})," ",f.jsx("span",{children:"Bandeja"})]})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto fancy-scroll px-2 pb-4",children:[r?.pages.some(y=>y.isFavorite&&!y.isDeleted)&&f.jsxs("div",{className:"mb-2",children:[f.jsx("div",{className:"px-3 py-1 text-xs font-semibold text-zinc-400 uppercase tracking-wider mb-1 flex items-center justify-between group cursor-pointer hover:bg-zinc-200/30 rounded",onClick:()=>e(y=>({...y,favoritesOpen:!y.favoritesOpen})),children:f.jsx("span",{children:"Favoritos"})}),n.favoritesOpen!==!1&&f.jsx("div",{children:r.pages.filter(y=>y.isFavorite&&!y.isDeleted).map(y=>f.jsx(Ic,{page:y,actions:u,ui:n,setUi:e,activePageId:o,allPages:r.pages,onContextMenu:m},y.id))})]}),f.jsxs("div",{className:"mb-4",children:[f.jsxs("div",{className:"px-3 py-1 text-xs font-semibold text-zinc-400 uppercase tracking-wider mb-1 flex items-center justify-between group cursor-pointer hover:bg-zinc-200/30 rounded",onClick:()=>e(y=>({...y,pagesOpen:!y.pagesOpen})),children:[f.jsx("span",{children:"Pginas"}),f.jsx("div",{onClick:y=>{y.stopPropagation(),u.addPage()},className:"opacity-0 group-hover:opacity-100 hover:bg-zinc-300 rounded p-0.5 transition-all",children:f.jsx(Nr,{size:12})})]}),n.pagesOpen!==!1&&f.jsx("div",{children:r?.pages.filter(y=>!y.parentId&&!y.isDeleted&&!y.inInbox&&!y.isFavorite).map(y=>f.jsx(Ic,{page:y,actions:u,ui:n,setUi:e,activePageId:o,allPages:r.pages,onContextMenu:m},y.id))})]})]}),(r?.databases||[]).filter(y=>y.type==="fullpage").length>0&&f.jsxs("div",{className:"mb-4",children:[f.jsxs("div",{className:"px-3 py-1 text-xs font-semibold text-zinc-400 uppercase tracking-wider mb-1 flex items-center justify-between group cursor-pointer hover:bg-zinc-200/30 rounded",onClick:()=>e(y=>({...y,databasesOpen:!y.databasesOpen})),children:[f.jsx("span",{children:"Bases de Datos"}),f.jsx("div",{onClick:y=>{y.stopPropagation(),u.addDatabase("Nueva Base de Datos","fullpage")},className:"opacity-0 group-hover:opacity-100 hover:bg-zinc-300 rounded p-0.5 transition-all",children:f.jsx(Nr,{size:12})})]}),n.databasesOpen!==!1&&f.jsx("div",{children:(r?.databases||[]).filter(y=>y.type==="fullpage").map(y=>f.jsxs("div",{onClick:()=>{e(w=>({...w,currentView:"database"})),v(y.id)},className:`group flex items-center gap-2 px-3 py-1.5 text-sm rounded hover:bg-zinc-200/50 cursor-pointer relative ${l===y.id?"bg-zinc-200/50 font-medium":"opacity-80"}`,children:[f.jsx("span",{children:y.icon||""}),f.jsx("span",{className:"flex-1 truncate",children:y.title}),f.jsx("div",{className:"flex items-center opacity-0 group-hover:opacity-100 transition-opacity absolute right-1 bg-[var(--sidebar-bg)] shadow-sm rounded",children:f.jsx("button",{onClick:w=>{w.stopPropagation(),alert(`Opciones para: ${y.title}

Funcionalidad pendiente:
 Renombrar
 Duplicar
 Eliminar`)},className:"p-0.5 hover:bg-zinc-200 rounded text-zinc-500",children:f.jsx(Cg,{size:14})})})]},y.id))})]}),f.jsxs("div",{className:"p-2 border-t border-zinc-200 space-y-0.5",children:[f.jsxs("div",{onClick:()=>e(y=>({...y,modals:{...y.modals,createDatabase:!0}})),className:"flex items-center gap-2 px-3 py-2 text-sm text-zinc-500 hover:bg-zinc-200/50 rounded-md cursor-pointer",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7m0 10a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2h-2a2 2 0 00-2 2"})}),f.jsx("span",{children:"Nueva Base de Datos"})]}),f.jsxs("div",{onClick:()=>e(y=>({...y,modals:{...y.modals,market:!0}})),className:"flex items-center gap-2 px-3 py-2 text-sm text-zinc-500 hover:bg-zinc-200/50 rounded-md cursor-pointer",children:[f.jsx(Tg,{size:14})," ",f.jsx("span",{children:"Marketplace"})]}),f.jsxs("div",{onClick:()=>e(y=>({...y,currentView:"settings"})),className:"flex items-center gap-2 px-3 py-2 text-sm text-zinc-500 hover:bg-zinc-200/50 rounded-md cursor-pointer",children:[f.jsx(B_,{size:14})," ",f.jsx("span",{children:"Configuracin"})]}),f.jsxs("div",{onClick:()=>e(y=>({...y,currentView:"trash"})),className:"flex items-center gap-2 px-3 py-2 text-sm text-zinc-500 hover:bg-zinc-200/50 rounded-md cursor-pointer",children:[f.jsx(jn,{size:14})," ",f.jsx("span",{children:"Papelera"})]})]})]})})};function Cj({children:n,className:e="",onClick:r}){const i=xc(0),o=xc(0);function l({currentTarget:u,clientX:d,clientY:h}){const{left:m,top:v}=u.getBoundingClientRect();i.set(d-m),o.set(h-v)}return f.jsxs("div",{className:We("group relative border border-zinc-200 bg-white overflow-hidden rounded-xl",e),onMouseMove:l,onClick:r,children:[f.jsx(Ge.div,{className:"pointer-events-none absolute -inset-px rounded-xl opacity-0 transition duration-300 group-hover:opacity-100",style:{background:w_`radial-gradient(650px circle at ${i}px ${o}px, rgba(79, 70, 229, 0.1), transparent 80%)`}}),f.jsx("div",{className:"relative h-full",children:n})]})}const _s=({isOpen:n,onClose:e,title:r,children:i,transparent:o=!1,className:l="max-w-lg"})=>n?f.jsx(Ei,{children:n&&f.jsxs(f.Fragment,{children:[f.jsx(Ge.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-[60]"}),f.jsxs(Ge.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:We("fixed inset-0 m-auto h-fit max-h-[85vh] z-[70] w-full rounded-xl shadow-2xl overflow-hidden flex flex-col",o?"bg-transparent shadow-none":"bg-white border border-zinc-200",l),children:[r&&f.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-zinc-100 shrink-0 bg-white",children:[f.jsx("h2",{className:"text-sm font-semibold text-zinc-700",children:r}),f.jsx("button",{onClick:e,className:"p-1 hover:bg-zinc-100 rounded text-zinc-400 hover:text-zinc-600 transition-colors",children:f.jsx(xs,{size:18})})]}),f.jsx("div",{className:"flex-1 overflow-y-auto",children:i})]})]})}):null,Tj=({isOpen:n,x:e,y:r,pageId:i,onClose:o,actions:l,activeWorkspace:u})=>{const d=z.useRef(null);if(z.useEffect(()=>{const x=y=>{d.current&&!d.current.contains(y.target)&&o()};return n&&document.addEventListener("mousedown",x),()=>{document.removeEventListener("mousedown",x)}},[n,o]),!n)return null;const h=u?.pages.find(x=>x.id===i);if(!h)return null;const m=x=>{x(),o()},v={top:r,left:e};return e+200>window.innerWidth&&(v.left=e-200),r+200>window.innerHeight&&(v.top=r-200),f.jsx(Ei,{children:f.jsxs(Ge.div,{ref:d,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.1},className:"fixed z-50 bg-white border border-zinc-200 rounded-lg shadow-xl w-48 py-1 overflow-hidden",style:v,children:[f.jsx("div",{className:"px-3 py-2 border-b border-zinc-100 mb-1",children:f.jsxs("p",{className:"text-xs font-medium text-zinc-500 truncate",children:["Acciones para ",h.title||"Sin ttulo"]})}),f.jsxs("button",{onClick:()=>m(()=>l.updatePage(i,{isFavorite:!h.isFavorite})),className:"w-full text-left px-3 py-2 text-sm text-zinc-700 hover:bg-zinc-100 flex items-center gap-2",children:[f.jsx(Ng,{size:14,className:h.isFavorite?"fill-yellow-400 text-yellow-400":""}),h.isFavorite?"Quitar de Favoritos":"Aadir a Favoritos"]}),f.jsxs("button",{onClick:()=>m(()=>l.duplicatePage(i)),className:"w-full text-left px-3 py-2 text-sm text-zinc-700 hover:bg-zinc-100 flex items-center gap-2",children:[f.jsx(T_,{size:14})," Duplicar"]}),f.jsxs("button",{onClick:()=>m(()=>l.addPage({parentId:i})),className:"w-full text-left px-3 py-2 text-sm text-zinc-700 hover:bg-zinc-100 flex items-center gap-2",children:[f.jsx(N_,{size:14})," Nueva Sub-pgina"]}),f.jsx("div",{className:"h-px bg-zinc-100 my-1"}),f.jsxs("button",{onClick:()=>m(()=>l.deletePage(i)),className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[f.jsx(jn,{size:14})," Eliminar"]})]})})};function Lc(n){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(n)}function rn(n,e){if(e.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+e.length+" present")}function vt(n){rn(1,arguments);var e=Object.prototype.toString.call(n);return n instanceof Date||Lc(n)==="object"&&e==="[object Date]"?new Date(n.getTime()):typeof n=="number"||e==="[object Number]"?new Date(n):((typeof n=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}var Pj={};function Nj(){return Pj}function Xm(n){var e=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return e.setUTCFullYear(n.getFullYear()),n.getTime()-e.getTime()}function da(n,e){rn(2,arguments);var r=vt(n),i=vt(e),o=r.getTime()-i.getTime();return o<0?-1:o>0?1:o}function Oj(n,e){rn(2,arguments);var r=vt(n),i=vt(e),o=r.getFullYear()-i.getFullYear(),l=r.getMonth()-i.getMonth();return o*12+l}function Aj(n,e){return rn(2,arguments),vt(n).getTime()-vt(e).getTime()}var Rj={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},Ij="trunc";function Lj(n){return Rj[Ij]}function zj(n){rn(1,arguments);var e=vt(n);return e.setHours(23,59,59,999),e}function Dj(n){rn(1,arguments);var e=vt(n),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function Mj(n){rn(1,arguments);var e=vt(n);return zj(e).getTime()===Dj(e).getTime()}function Vj(n,e){rn(2,arguments);var r=vt(n),i=vt(e),o=da(r,i),l=Math.abs(Oj(r,i)),u;if(l<1)u=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-o*l);var d=da(r,i)===-o;Mj(vt(n))&&l===1&&da(n,i)===1&&(d=!1),u=o*(l-Number(d))}return u===0?0:u}function Bj(n,e,r){rn(2,arguments);var i=Aj(n,e)/1e3;return Lj()(i)}var $j={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Fj=function(e,r,i){var o,l=$j[e];return typeof l=="string"?o=l:r===1?o=l.one:o=l.other.replace("{{count}}",r.toString()),i!=null&&i.addSuffix?i.comparison&&i.comparison>0?"in "+o:o+" ago":o};function sc(n){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.width?String(e.width):n.defaultWidth,i=n.formats[r]||n.formats[n.defaultWidth];return i}}var Uj={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Wj={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Hj={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},qj={date:sc({formats:Uj,defaultWidth:"full"}),time:sc({formats:Wj,defaultWidth:"full"}),dateTime:sc({formats:Hj,defaultWidth:"full"})},Kj={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Gj=function(e,r,i,o){return Kj[e]};function ci(n){return function(e,r){var i=r!=null&&r.context?String(r.context):"standalone",o;if(i==="formatting"&&n.formattingValues){var l=n.defaultFormattingWidth||n.defaultWidth,u=r!=null&&r.width?String(r.width):l;o=n.formattingValues[u]||n.formattingValues[l]}else{var d=n.defaultWidth,h=r!=null&&r.width?String(r.width):n.defaultWidth;o=n.values[h]||n.values[d]}var m=n.argumentCallback?n.argumentCallback(e):e;return o[m]}}var Jj={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Yj={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Qj={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Xj={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Zj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},eE={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},tE=function(e,r){var i=Number(e),o=i%100;if(o>20||o<10)switch(o%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},nE={ordinalNumber:tE,era:ci({values:Jj,defaultWidth:"wide"}),quarter:ci({values:Yj,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:ci({values:Qj,defaultWidth:"wide"}),day:ci({values:Xj,defaultWidth:"wide"}),dayPeriod:ci({values:Zj,defaultWidth:"wide",formattingValues:eE,defaultFormattingWidth:"wide"})};function di(n){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.width,o=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],l=e.match(o);if(!l)return null;var u=l[0],d=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],h=Array.isArray(d)?sE(d,function(x){return x.test(u)}):rE(d,function(x){return x.test(u)}),m;m=n.valueCallback?n.valueCallback(h):h,m=r.valueCallback?r.valueCallback(m):m;var v=e.slice(u.length);return{value:m,rest:v}}}function rE(n,e){for(var r in n)if(n.hasOwnProperty(r)&&e(n[r]))return r}function sE(n,e){for(var r=0;r<n.length;r++)if(e(n[r]))return r}function iE(n){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=e.match(n.matchPattern);if(!i)return null;var o=i[0],l=e.match(n.parsePattern);if(!l)return null;var u=n.valueCallback?n.valueCallback(l[0]):l[0];u=r.valueCallback?r.valueCallback(u):u;var d=e.slice(o.length);return{value:u,rest:d}}}var oE=/^(\d+)(th|st|nd|rd)?/i,aE=/\d+/i,lE={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},uE={any:[/^b/i,/^(a|c)/i]},cE={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},dE={any:[/1/i,/2/i,/3/i,/4/i]},hE={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},fE={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},pE={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},mE={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},gE={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},vE={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},yE={ordinalNumber:iE({matchPattern:oE,parsePattern:aE,valueCallback:function(e){return parseInt(e,10)}}),era:di({matchPatterns:lE,defaultMatchWidth:"wide",parsePatterns:uE,defaultParseWidth:"any"}),quarter:di({matchPatterns:cE,defaultMatchWidth:"wide",parsePatterns:dE,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:di({matchPatterns:hE,defaultMatchWidth:"wide",parsePatterns:fE,defaultParseWidth:"any"}),day:di({matchPatterns:pE,defaultMatchWidth:"wide",parsePatterns:mE,defaultParseWidth:"any"}),dayPeriod:di({matchPatterns:gE,defaultMatchWidth:"any",parsePatterns:vE,defaultParseWidth:"any"})},xE={code:"en-US",formatDistance:Fj,formatLong:qj,formatRelative:Gj,localize:nE,match:yE,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Cv(n,e){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function wE(n){return Cv({},n)}var Zm=1440,bE=2520,ic=43200,_E=86400;function kE(n,e,r){var i,o;rn(2,arguments);var l=Nj(),u=(i=(o=void 0)!==null&&o!==void 0?o:l.locale)!==null&&i!==void 0?i:xE;if(!u.formatDistance)throw new RangeError("locale must contain formatDistance property");var d=da(n,e);if(isNaN(d))throw new RangeError("Invalid time value");var h=Cv(wE(r),{addSuffix:!1,comparison:d}),m,v;d>0?(m=vt(e),v=vt(n)):(m=vt(n),v=vt(e));var x=Bj(v,m),y=(Xm(v)-Xm(m))/1e3,w=Math.round((x-y)/60),_;if(w<2)return w===0?u.formatDistance("lessThanXMinutes",1,h):u.formatDistance("xMinutes",w,h);if(w<45)return u.formatDistance("xMinutes",w,h);if(w<90)return u.formatDistance("aboutXHours",1,h);if(w<Zm){var S=Math.round(w/60);return u.formatDistance("aboutXHours",S,h)}else{if(w<bE)return u.formatDistance("xDays",1,h);if(w<ic){var E=Math.round(w/Zm);return u.formatDistance("xDays",E,h)}else if(w<_E)return _=Math.round(w/ic),u.formatDistance("aboutXMonths",_,h)}if(_=Vj(v,m),_<12){var M=Math.round(w/ic);return u.formatDistance("xMonths",M,h)}else{var T=_%12,j=Math.floor(_/12);return T<3?u.formatDistance("aboutXYears",j,h):T<9?u.formatDistance("overXYears",j,h):u.formatDistance("almostXYears",j+1,h)}}function Va(n,e){return rn(1,arguments),kE(n,Date.now(),e)}function SE({activeWorkspace:n,actions:e,setUi:r,userProfile:i}){const o=n?.pages.filter(l=>!l.isDeleted&&!l.inInbox)||[];return o.length===0?f.jsx("div",{className:"max-w-2xl mx-auto h-full flex flex-col items-center justify-center p-8",children:f.jsxs(Ge.div,{initial:{scale:.8,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",duration:.8},className:"text-center",children:[f.jsx(Ge.div,{animate:{y:[0,-10,0]},transition:{repeat:1/0,duration:2,ease:"easeInOut"},className:"text-6xl mb-6",children:""}),f.jsx("h2",{className:"text-3xl font-bold mb-3 text-current",children:"Empecemos a crear una pgina"}),f.jsx("p",{className:"text-zinc-500 mb-8 max-w-md",children:"Crea tu primera pgina y comienza a organizar tus ideas, proyectos y notas."}),f.jsxs(Ge.button,{onClick:()=>{const l=e.addPage();e.setActivePageId(l),r(u=>({...u,currentView:"page"}))},whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-zinc-900 text-white px-6 py-3 rounded-lg font-medium hover:bg-black transition-colors flex items-center gap-2 mx-auto shadow-lg",children:[f.jsx(Nr,{size:18})," Crear primera pgina"]})]})}):f.jsxs("div",{className:"max-w-6xl mx-auto py-12 px-6",children:[f.jsxs("div",{className:"mb-8",children:[f.jsxs("h1",{className:"text-2xl font-bold mb-2 text-current",children:["Hola, ",i?.name]}),f.jsx("p",{className:"text-zinc-500",children:"Contina donde lo dejaste"})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.slice(0,12).map(l=>f.jsxs(Ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-4,scale:1.02},onClick:()=>{e.setActivePageId(l.id),r(u=>({...u,currentView:"page"}))},className:"bg-white border border-zinc-200 rounded-lg overflow-hidden cursor-pointer shadow-sm hover:shadow-md transition-all",children:[f.jsx("div",{className:"h-32 relative overflow-hidden",children:l.cover?l.cover.startsWith("http")||l.cover.startsWith("data:image")?f.jsx("img",{src:l.cover,alt:"",className:"w-full h-full object-cover"}):f.jsx("div",{className:"w-full h-full",style:{background:l.cover}}):f.jsx("div",{className:"w-full h-full bg-gradient-to-br from-indigo-500 to-purple-600"})}),f.jsx("div",{className:"p-4",children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("div",{className:"text-3xl shrink-0",children:l.icon?.startsWith("http")||l.icon?.startsWith("data:")?f.jsx("img",{src:l.icon,alt:"",className:"w-8 h-8 object-contain"}):l.icon||""}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h3",{className:"font-semibold text-zinc-900 truncate mb-1",children:l.title||"Sin ttulo"}),f.jsxs("p",{className:"text-xs text-zinc-400",children:["Editado ",Va(new Date(l.updatedAt))," ago"]})]})]})})]},l.id))}),n?.databases&&n.databases.length>0&&f.jsxs("div",{className:"mt-12",children:[f.jsx("h2",{className:"text-xl font-semibold mb-4 text-current",children:"Bases de Datos"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.databases.slice(0,12).map(l=>f.jsxs(Ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-4,scale:1.02},onClick:()=>{e.setActiveDatabaseId(l.id),r(u=>({...u,currentView:"database"}))},className:"bg-white border border-zinc-200 rounded-lg overflow-hidden cursor-pointer shadow-sm hover:shadow-md transition-all",children:[f.jsx("div",{className:"h-32 bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:f.jsx("div",{className:"text-6xl",children:l.icon||""})}),f.jsx("div",{className:"p-4",children:f.jsx("div",{className:"flex items-start gap-3",children:f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h3",{className:"font-semibold text-zinc-900 truncate mb-1",children:l.title}),f.jsxs("p",{className:"text-xs text-zinc-400",children:[l.items?.length||0," elementos"]})]})})})]},l.id))})]})]})}function jE({activeWorkspace:n,actions:e}){const r=n?.pages.filter(i=>i.inInbox&&!i.isDeleted)||[];return f.jsxs("div",{className:"max-w-3xl mx-auto py-12 px-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsxs("h1",{className:"text-2xl font-bold text-current flex items-center gap-2",children:[f.jsx(Sg,{size:24})," Bandeja de Entrada"]}),r.length>0&&f.jsxs("button",{onClick:()=>{confirm("Ests seguro de que quieres borrar todo permanentemente?")&&e.emptyInbox()},className:"text-red-500 hover:bg-red-50 px-3 py-1.5 rounded text-sm font-medium transition-colors flex items-center gap-2",children:[f.jsx(jn,{size:14})," Borrar todo"]})]}),r.length===0?f.jsxs("div",{className:"text-center py-12 opacity-50",children:[f.jsx("div",{className:"mb-2 text-4xl",children:""}),"No tienes notificaciones."]}):f.jsx("div",{className:"grid gap-4",children:r.map(i=>f.jsxs(Cj,{className:"p-4 flex items-center justify-between cursor-pointer",onClick:()=>{e.updatePage(i.id,{inInbox:!1})},children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"text-2xl",children:i.icon}),f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-zinc-800",children:i.title}),f.jsxs("div",{className:"text-xs text-zinc-500",children:[Va(new Date(i.updatedAt))," ago"]})]})]}),f.jsx("div",{className:"flex items-center gap-2",children:f.jsx("button",{onClick:o=>{o.stopPropagation(),e.deletePage(i.id)},className:"p-2 hover:bg-zinc-100 rounded-full text-zinc-400 hover:text-zinc-600",title:"Eliminar",children:f.jsx(xs,{size:16})})})]},i.id))})]})}function EE({activeWorkspace:n,actions:e,showNotify:r}){const i=n?.pages.filter(o=>o.isDeleted)||[];return f.jsxs("div",{className:"max-w-3xl mx-auto py-12 px-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsxs("h1",{className:"text-2xl font-bold text-current flex items-center gap-2",children:[f.jsx(jn,{size:24})," Papelera"]}),i.length>0&&f.jsxs("button",{onClick:()=>{confirm("Ests seguro de que quieres vaciar la papelera permanentemente?")&&e.emptyTrash()},className:"text-red-500 hover:bg-red-50 px-3 py-1.5 rounded text-sm font-medium transition-colors flex items-center gap-2",children:[f.jsx(jn,{size:14})," Vaciar papelera"]})]}),f.jsx("p",{className:"text-sm opacity-60 mb-6",children:"Las pginas aqu pueden ser restauradas o eliminadas para siempre."}),i.length===0?f.jsxs("div",{className:"text-center py-12 opacity-50",children:[f.jsx("div",{className:"mb-2 text-4xl",children:""}),"Papelera vaca."]}):f.jsx("div",{className:"grid gap-3",children:i.map(o=>f.jsxs("div",{className:"p-3 border border-zinc-200 rounded-lg flex justify-between items-center bg-white shadow-sm",children:[f.jsxs("div",{className:"flex items-center gap-3 opacity-60",children:[f.jsx("div",{className:"text-lg",children:o.icon||f.jsx(Pr,{size:16})}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium text-sm text-zinc-900",children:o.title||"Sin ttulo"}),f.jsxs("div",{className:"text-xs text-zinc-500",children:["Borrado ",Va(new Date(o.deletedAt||new Date))," ago"]})]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:()=>{e.restorePage(o.id),r("Pgina restaurada")},className:"flex items-center gap-1 bg-zinc-100 text-zinc-700 text-xs px-3 py-1.5 rounded hover:bg-zinc-200",children:[f.jsx(W_,{size:12})," Restaurar"]}),f.jsx("button",{onClick:()=>{confirm("Borrar definitivamente?")&&e.permanentDeletePage(o.id)},className:"p-1.5 text-red-400 hover:bg-red-50 rounded",children:f.jsx(jn,{size:14})})]})]},o.id))})]})}function CE({ui:n,setUi:e,userProfile:r,actions:i,themes:o,activeThemeId:l,fonts:u,activeFontId:d,fetchMarketData:h,activeWorkspaceId:m}){const v=z.useRef(null),x=()=>{v.current?.click()},y=async w=>{const _=w.target.files?.[0];_&&console.log("File selected:",_)};return f.jsxs("div",{className:"flex h-full",children:[f.jsxs("div",{className:"w-48 bg-[var(--sidebar-bg)] border-r border-[rgba(0,0,0,0.05)] pt-8 px-2 space-y-1",children:[f.jsx("div",{className:"px-3 py-2 text-xs font-bold opacity-50 uppercase mb-2",children:"Cuenta"}),f.jsx("button",{onClick:()=>e(w=>({...w,settingsSection:"account"})),className:We("w-full text-left px-3 py-1.5 rounded-md text-sm transition-colors",n.settingsSection==="account"?"bg-[rgba(0,0,0,0.05)] font-medium":"opacity-70 hover:opacity-100 hover:bg-[rgba(0,0,0,0.02)]"),children:"Mi Perfil"}),f.jsx("button",{onClick:()=>{e(w=>({...w,settingsSection:"themes"})),h()},className:We("w-full text-left px-3 py-1.5 rounded-md text-sm transition-colors",n.settingsSection==="themes"?"bg-[rgba(0,0,0,0.05)] font-medium":"opacity-70 hover:opacity-100 hover:bg-[rgba(0,0,0,0.02)]"),children:"Temas & Apariencia"})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto px-12 py-12",children:[n.settingsSection==="account"&&f.jsxs("div",{className:"max-w-2xl animate-in fade-in duration-300",children:[f.jsx("h1",{className:"text-xl font-bold mb-6 pb-2 border-b border-[rgba(0,0,0,0.1)]",children:"Mi Perfil"}),f.jsxs("div",{className:"flex items-start gap-6 mb-8",children:[f.jsxs("div",{onClick:x,className:"w-24 h-24 bg-zinc-100 rounded-full flex items-center justify-center cursor-pointer hover:opacity-80 transition-opacity overflow-hidden border border-zinc-200 shrink-0",children:[r.avatar?f.jsx("img",{src:r.avatar,className:"w-full h-full object-cover"}):f.jsx(j_,{size:32,className:"text-zinc-300"}),f.jsx("input",{type:"file",ref:v,className:"hidden",onChange:y,accept:"image/*"})]}),f.jsxs("div",{className:"flex-1 space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold opacity-50 uppercase block mb-1",children:"Nombre preferido"}),f.jsx("input",{value:r.name,onChange:w=>i.setUserProfile(_=>({..._,name:w.target.value})),className:"w-full p-2 border border-zinc-200 rounded text-sm outline-none focus:border-zinc-400 bg-transparent transition-colors"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold opacity-50 uppercase block mb-1",children:"Correo electrnico"}),f.jsx("input",{value:r.email,disabled:!0,className:"w-full p-2 border border-zinc-200 rounded text-sm bg-[rgba(0,0,0,0.02)] opacity-60 cursor-not-allowed"})]})]})]}),f.jsxs("div",{className:"space-y-3 pt-4 border-t border-zinc-200",children:[f.jsxs("button",{onClick:async()=>{Ai.saveBackup(r.email),await _i.logout(),Ai.clearLocalData(),window.location.reload()},className:"text-red-600 border border-red-200 px-4 py-2 rounded hover:bg-red-50 text-sm font-medium flex items-center gap-2",children:[f.jsx(Eg,{size:16})," Cerrar Sesin"]}),f.jsx("button",{onClick:()=>{confirm("Ests seguro de que quieres borrar todas las pginas del workspace actual? Esta accin no se puede deshacer.")&&i.deleteAllPages()},className:"text-orange-600 border border-orange-200 px-4 py-2 rounded hover:bg-orange-50 text-sm font-medium w-full",children:"Borrar todas las pginas"}),f.jsx("button",{onClick:()=>{confirm("Ests seguro de que quieres eliminar este workspace? Esta accin no se puede deshacer.")&&(i.removeWorkspace(n.activeWorkspaceId)?window.location.reload():alert("No puedes eliminar el ltimo workspace"))},className:"text-red-600 border border-red-200 px-4 py-2 rounded hover:bg-red-50 text-sm font-medium w-full",children:"Eliminar Workspace"})]})]}),n.settingsSection==="themes"&&f.jsxs("div",{className:"max-w-2xl animate-in fade-in duration-300",children:[f.jsx("h1",{className:"text-xl font-bold mb-6 pb-2 border-b border-[rgba(0,0,0,0.1)]",children:"Apariencia"}),f.jsxs("div",{className:"mb-8",children:[f.jsx("h2",{className:"text-sm font-bold text-zinc-500 uppercase tracking-wider mb-3",children:"Tipografa"}),f.jsx("div",{className:"grid grid-cols-3 gap-3",children:u.map(w=>f.jsxs("button",{onClick:()=>i.setActiveFontId(w.id),className:We("p-3 border rounded-lg text-left transition-all",d===w.id?"border-zinc-900 ring-1 ring-zinc-900 bg-zinc-50":"border-zinc-200 hover:border-zinc-300 hover:bg-zinc-50"),children:[f.jsx("div",{className:"text-2xl mb-2",style:{fontFamily:w.value},children:w.preview||"Aa"}),f.jsx("div",{className:"text-sm font-medium text-zinc-900",children:w.name})]},w.id))})]}),f.jsx("h2",{className:"text-sm font-bold text-zinc-500 uppercase tracking-wider mb-3",children:"Temas Instalados"}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"p-4 border border-zinc-200 rounded-lg flex justify-between items-center bg-white shadow-sm",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-12 h-12 bg-white border border-zinc-200 rounded-md flex items-center justify-center text-lg font-serif",children:"Aa"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-sm text-zinc-900",children:"stylessApp (Default)"}),f.jsx("div",{className:"text-xs text-zinc-500",children:"Tema original (Claro)"})]})]}),f.jsx("button",{onClick:()=>i.setActiveThemeId("default"),disabled:l==="default",className:We("px-3 py-1.5 rounded text-xs transition-colors",l==="default"?"bg-green-100 text-green-700 cursor-default font-medium":"bg-zinc-900 text-white hover:bg-black"),children:l==="default"?"Activo":"Aplicar"})]}),o.filter(w=>w.id!=="default").map(w=>f.jsxs("div",{className:"p-4 border border-zinc-200 rounded-lg flex justify-between items-center bg-white shadow-sm",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-12 h-12 rounded-md flex items-center justify-center text-lg font-bold text-white shadow-inner",style:{backgroundColor:w.colors?.bg||"#333",color:w.colors?.text||"#fff"},children:"Aa"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-sm text-zinc-900",children:w.name}),f.jsxs("div",{className:"text-xs text-zinc-500",children:["Por ",w.author]})]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>i.removeTheme(w.id),className:"px-3 py-1.5 rounded text-xs transition-colors bg-red-50 text-red-600 hover:bg-red-100",children:"Desinstalar"}),f.jsx("button",{onClick:()=>i.setActiveThemeId(w.id),disabled:l===w.id,className:We("px-3 py-1.5 rounded text-xs transition-colors",l===w.id?"bg-green-100 text-green-700 cursor-default font-medium":"bg-zinc-900 text-white hover:bg-black"),children:l===w.id?"Activo":"Aplicar"})]})]},w.id))]})]})]})]})}function TE({reference:n,onClick:e}){const{type:r,id:i,title:o,icon:l}=n,u=d=>{d.preventDefault(),e&&e(n)};return f.jsxs("span",{onClick:u,className:"inline-flex items-center gap-1.5 px-2 py-1 mx-1 bg-blue-50 hover:bg-blue-100 text-blue-700 rounded cursor-pointer transition-colors text-sm border border-blue-200",contentEditable:!1,children:[f.jsx("span",{className:"text-base",children:l||(r==="database"?"":"")}),f.jsx("span",{className:"font-medium",children:o||"Sin ttulo"}),r==="database"?f.jsx(P_,{size:12,className:"opacity-60"}):f.jsx(Pr,{size:12,className:"opacity-60"}),f.jsx(kg,{size:10,className:"opacity-40"})]})}function PE({database:n,item:e,property:r,value:i,onChange:o,onPageClick:l}){const u=()=>{switch(r.type){case"title":return f.jsx("div",{onClick:l,className:"font-medium text-blue-600 hover:underline cursor-pointer",children:i||"Sin ttulo"});case"text":return f.jsx("input",{type:"text",value:i||"",onChange:v=>o(v.target.value),className:"w-full outline-none bg-transparent",placeholder:"Vaco"});case"number":return f.jsx("input",{type:"number",value:i||"",onChange:v=>o(v.target.value),className:"w-full outline-none bg-transparent",placeholder:"0"});case"checkbox":return f.jsx("input",{type:"checkbox",checked:i||!1,onChange:v=>o(v.target.checked),className:"w-4 h-4 rounded border-zinc-300"});case"select":const d=r.config?.options||[];return f.jsxs("select",{value:i||"",onChange:v=>o(v.target.value),className:"w-full outline-none bg-transparent border border-zinc-200 rounded px-2 py-1",children:[f.jsx("option",{value:"",children:"Seleccionar..."}),d.map(v=>f.jsx("option",{value:v.label,children:v.label},v.label))]});case"multi-select":const h=Array.isArray(i)?i:[],m=r.config?.options||[];return f.jsxs("div",{className:"flex flex-wrap gap-1",children:[h.map(v=>f.jsxs("span",{className:"px-2 py-0.5 text-xs rounded bg-blue-100 text-blue-700 flex items-center gap-1",children:[v,f.jsx("button",{onClick:()=>o(h.filter(x=>x!==v)),className:"hover:text-blue-900",children:""})]},v)),f.jsxs("select",{value:"",onChange:v=>{v.target.value&&!h.includes(v.target.value)&&o([...h,v.target.value])},className:"text-xs border-none outline-none bg-transparent",children:[f.jsx("option",{value:"",children:"+"}),m.map(v=>f.jsx("option",{value:v.label,children:v.label},v.label))]})]});case"date":return f.jsx("input",{type:"date",value:i||"",onChange:v=>o(v.target.value),className:"w-full outline-none bg-transparent border border-zinc-200 rounded px-2 py-1"});case"url":return f.jsx("input",{type:"url",value:i||"",onChange:v=>o(v.target.value),className:"w-full outline-none bg-transparent text-blue-600 hover:underline",placeholder:"https://..."});default:return f.jsx("span",{className:"text-zinc-400",children:"-"})}};return f.jsx("div",{className:"min-w-[120px]",children:u()})}function NE({database:n,items:e,actions:r,onPropertyClick:i}){const[o,l]=z.useState(null),u=()=>{r.addDatabaseItem(n.id,"")},d=h=>{confirm("Eliminar este elemento?")&&r.deleteDatabaseItem(n.id,h)};return f.jsxs("div",{className:"overflow-x-auto",children:[f.jsxs("table",{className:"w-full border-collapse",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-zinc-200",children:[n.properties.filter(h=>h.visible!==!1).map(h=>f.jsx("th",{onClick:()=>i?.(h),className:"text-left p-3 text-sm font-medium text-zinc-600 bg-zinc-50 sticky top-0 cursor-pointer hover:bg-zinc-100 transition-colors",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{children:h.name}),f.jsx("span",{className:"text-xs text-zinc-400",children:h.type})]})},h.id)),f.jsx("th",{className:"w-10 bg-zinc-50 sticky top-0"})]})}),f.jsx("tbody",{children:e.map((h,m)=>f.jsxs("tr",{onMouseEnter:()=>l(h.id),onMouseLeave:()=>l(null),className:"border-b border-zinc-100 hover:bg-zinc-50 cursor-pointer group",children:[n.properties.filter(v=>v.visible!==!1).map(v=>f.jsx("td",{className:"p-3",children:f.jsx(PE,{database:n,item:h,property:v,value:h.values[v.id],onChange:x=>r.updateDatabaseItem(n.id,h.id,v.id,x),onPageClick:()=>{r.setActivePageId(h.pageId)}})},v.id)),f.jsx("td",{className:"p-3",children:o===h.id&&f.jsx("button",{onClick:()=>d(h.id),className:"text-zinc-400 hover:text-red-500 transition-colors",title:"Eliminar",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})})]},h.id))})]}),f.jsx("div",{className:"mt-2",children:f.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-3 py-2 text-sm text-zinc-500 hover:bg-zinc-100 rounded transition-colors w-full text-left",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Nuevo"]})})]})}function OE({database:n,items:e,actions:r,activeView:i}){const o=i.groupBy||n.properties.find(h=>h.type==="select")?.id;if(!o)return f.jsx("div",{className:"p-4 text-zinc-500",children:'Configure una propiedad "Select" para usar la vista Board'});const u=n.properties.find(h=>h.id===o)?.config?.options||[],d=u.reduce((h,m)=>(h[m.label]=e.filter(v=>v.values[o]===m.label),h),{});return f.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4",children:u.map(h=>f.jsx("div",{className:"flex-shrink-0 w-72",onDragOver:m=>{m.preventDefault(),m.currentTarget.classList.add("bg-blue-50")},onDragLeave:m=>{m.currentTarget.classList.remove("bg-blue-50")},onDrop:m=>{m.preventDefault(),m.currentTarget.classList.remove("bg-blue-50");const v=m.dataTransfer.getData("itemId");v&&r.updateDatabaseItem(n.id,v,o,h.label)},children:f.jsxs("div",{className:"bg-zinc-100 rounded-lg p-3",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsx("h3",{className:"font-medium text-sm",children:h.label}),f.jsx("span",{className:"text-xs text-zinc-500",children:d[h.label]?.length||0})]}),f.jsx("div",{className:"space-y-2",children:d[h.label]?.map(m=>{const v=n.properties.find(x=>x.type==="title");return f.jsxs("div",{draggable:!0,onDragStart:x=>{x.dataTransfer.setData("itemId",m.id),x.currentTarget.style.opacity="0.5"},onDragEnd:x=>{x.currentTarget.style.opacity="1"},onClick:()=>r.setActivePageId(m.pageId),className:"bg-white rounded p-3 shadow-sm hover:shadow-md transition-shadow cursor-grab active:cursor-grabbing",children:[f.jsx("div",{className:"font-medium text-sm mb-2",children:m.values[v.id]||"Sin ttulo"}),n.properties.filter(x=>x.type!=="title"&&x.visible!==!1).slice(0,3).map(x=>f.jsxs("div",{className:"text-xs text-zinc-500",children:[f.jsxs("span",{className:"font-medium",children:[x.name,":"]})," ",m.values[x.id]||"-"]},x.id))]},m.id)})}),f.jsx("button",{onClick:()=>{const m=r.addDatabaseItem(n.id,"");r.updateDatabaseItem(n.id,m,o,h.label)},className:"mt-2 w-full text-sm text-zinc-500 hover:bg-white rounded p-2 transition-colors",children:"+ Nuevo"})]})},h.label))})}function AE({database:n,items:e,actions:r}){const i=n.properties.find(o=>o.type==="title");return f.jsxs("div",{className:"space-y-1",children:[e.map(o=>f.jsxs("div",{onClick:()=>r.setActivePageId(o.pageId),className:"flex items-center gap-3 p-3 hover:bg-zinc-50 rounded cursor-pointer group",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"font-medium text-sm mb-1",children:o.values[i.id]||"Sin ttulo"}),f.jsx("div",{className:"flex items-center gap-3 text-xs text-zinc-500",children:n.properties.filter(l=>l.type!=="title"&&l.visible!==!1).slice(0,4).map(l=>f.jsxs("span",{children:[f.jsxs("span",{className:"font-medium",children:[l.name,":"]})," ",o.values[l.id]||"-"]},l.id))})]}),f.jsx("button",{onClick:l=>{l.stopPropagation(),confirm("Eliminar este elemento?")&&r.deleteDatabaseItem(n.id,o.id)},className:"opacity-0 group-hover:opacity-100 text-zinc-400 hover:text-red-500 transition-all",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},o.id)),f.jsxs("button",{onClick:()=>r.addDatabaseItem(n.id,""),className:"flex items-center gap-2 px-3 py-2 text-sm text-zinc-500 hover:bg-zinc-100 rounded transition-colors w-full text-left",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Nuevo"]})]})}function RE({database:n,activeView:e,actions:r}){const[i,o]=z.useState(!1),[l,u]=z.useState(!1),d=()=>{const m=n.properties[0];if(!m)return;const v=[...e.filters||[],{propertyId:m.id,condition:"contains",value:""}];r.updateView(n.id,e.id,{filters:v})},h=m=>{r.addProperty(n.id,{name:`Nueva ${m}`,type:m}),u(!1)};return f.jsxs("div",{className:"flex items-center gap-2 px-6 py-3 border-b border-zinc-200 bg-white",children:[f.jsxs("button",{onClick:()=>o(!i),className:"flex items-center gap-2 px-3 py-1.5 text-sm border border-zinc-200 rounded hover:bg-zinc-50",children:[f.jsx(O_,{size:14}),"Filtros",e?.filters?.length>0&&f.jsx("span",{className:"bg-blue-100 text-blue-700 px-1.5 py-0.5 rounded text-xs",children:e.filters.length})]}),f.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 text-sm border border-zinc-200 rounded hover:bg-zinc-50",children:[f.jsx(k_,{size:14}),"Ordenar"]}),f.jsxs("div",{className:"relative",children:[f.jsxs("button",{onClick:()=>u(!l),className:"flex items-center gap-2 px-3 py-1.5 text-sm border border-zinc-200 rounded hover:bg-zinc-50",children:[f.jsx(Nr,{size:14}),"Propiedad"]}),l&&f.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-zinc-200 rounded shadow-lg py-1 z-10 min-w-[150px]",children:["text","number","select","multi-select","checkbox","date","url"].map(m=>f.jsx("button",{onClick:()=>h(m),className:"w-full text-left px-3 py-2 text-sm hover:bg-zinc-50",children:m.charAt(0).toUpperCase()+m.slice(1)},m))})]}),i&&e?.filters?.length>0&&f.jsxs("div",{className:"absolute top-16 left-6 bg-white border border-zinc-200 rounded shadow-lg p-3 z-10",children:[f.jsx("div",{className:"space-y-2",children:e.filters.map((m,v)=>f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("select",{value:m.propertyId,onChange:x=>{const y=[...e.filters];y[v].propertyId=x.target.value,r.updateView(n.id,e.id,{filters:y})},className:"text-sm border border-zinc-200 rounded px-2 py-1",children:n.properties.map(x=>f.jsx("option",{value:x.id,children:x.name},x.id))}),f.jsxs("select",{value:m.condition,onChange:x=>{const y=[...e.filters];y[v].condition=x.target.value,r.updateView(n.id,e.id,{filters:y})},className:"text-sm border border-zinc-200 rounded px-2 py-1",children:[f.jsx("option",{value:"is",children:"Es"}),f.jsx("option",{value:"contains",children:"Contiene"}),f.jsx("option",{value:"is-empty",children:"Est vaco"}),f.jsx("option",{value:"is-not-empty",children:"No est vaco"})]}),m.condition!=="is-empty"&&m.condition!=="is-not-empty"&&f.jsx("input",{type:"text",value:m.value,onChange:x=>{const y=[...e.filters];y[v].value=x.target.value,r.updateView(n.id,e.id,{filters:y})},className:"text-sm border border-zinc-200 rounded px-2 py-1",placeholder:"Valor..."}),f.jsx("button",{onClick:()=>{const x=e.filters.filter((y,w)=>w!==v);r.updateView(n.id,e.id,{filters:x})},className:"text-red-500 hover:text-red-700",children:""})]},v))}),f.jsx("button",{onClick:d,className:"mt-2 text-sm text-blue-600 hover:text-blue-700",children:"+ Agregar filtro"})]}),i&&(!e?.filters||e.filters.length===0)&&f.jsx("button",{onClick:d,className:"ml-2 text-sm text-zinc-500 hover:text-zinc-700",children:"+ Agregar primer filtro"})]})}function IE({database:n,actions:e}){const[r,i]=z.useState(!1),o=z.useRef(null),l=[{id:"table",label:"Tabla",icon:"",desc:"Vista de tabla"},{id:"board",label:"Tablero",icon:"",desc:"Vista Kanban"},{id:"list",label:"Lista",icon:"",desc:"Vista de lista"}];return z.useEffect(()=>{const u=d=>{o.current&&!o.current.contains(d.target)&&i(!1)};return r&&document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[r]),f.jsxs("div",{className:"flex items-center gap-2 px-6 py-2 border-b border-zinc-200 bg-zinc-50",children:[n.views.map(u=>f.jsx("button",{onClick:()=>e.updateDatabase(n.id,{activeViewId:u.id}),className:`px-3 py-1.5 text-sm rounded transition-colors ${u.id===n.activeViewId?"bg-white text-zinc-900 font-medium shadow-sm":"text-zinc-600 hover:bg-zinc-100"}`,children:u.name},u.id)),f.jsxs("div",{className:"relative",ref:o,children:[f.jsx("button",{onClick:()=>i(!r),className:"px-3 py-1.5 text-sm text-zinc-500 hover:bg-zinc-100 rounded flex items-center gap-1",title:"Agregar vista",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),r&&f.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-zinc-200 rounded-lg shadow-lg z-50 min-w-[200px]",children:f.jsx("div",{className:"p-2 space-y-1",children:l.map(u=>f.jsxs("button",{onClick:()=>{e.addView(n.id,{name:u.label,type:u.id}),i(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-sm hover:bg-zinc-100 rounded transition-colors text-left",children:[f.jsx("span",{className:"text-lg",children:u.icon}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium text-zinc-900",children:u.label}),f.jsx("div",{className:"text-xs text-zinc-500",children:u.desc})]})]},u.id))})})]})]})}const hi=[{name:"Gris",value:"#6b7280"},{name:"Rojo",value:"#ef4444"},{name:"Naranja",value:"#f97316"},{name:"Amarillo",value:"#eab308"},{name:"Verde",value:"#22c55e"},{name:"Azul",value:"#3b82f6"},{name:"Prpura",value:"#a855f7"},{name:"Rosa",value:"#ec4899"}];function LE({isOpen:n,onClose:e,property:r,databaseId:i,actions:o}){const[l,u]=z.useState(r?.name||""),[d,h]=z.useState(r?.config?.options||[]),[m,v]=z.useState("");if(!n||!r)return null;const x=()=>{const E={name:l};(r.type==="select"||r.type==="multi-select")&&(E.config={...r.config,options:d}),o.updateProperty(i,r.id,E),e()},y=()=>{if(!m.trim())return;const E={label:m.trim(),color:hi[d.length%hi.length].value};h([...d,E]),v("")},w=E=>{h(d.filter((M,T)=>T!==E))},_=(E,M)=>{const T=[...d];T[E]={...T[E],color:M},h(T)},S=r.type==="select"||r.type==="multi-select";return f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:e,children:f.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg p-6",onClick:E=>E.stopPropagation(),children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h2",{className:"text-xl font-bold",children:"Configurar Propiedad"}),f.jsx("button",{onClick:e,className:"text-zinc-400 hover:text-zinc-600",children:f.jsx(xs,{size:20})})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-2",children:"Nombre"}),f.jsx("input",{type:"text",value:l,onChange:E=>u(E.target.value),className:"w-full px-3 py-2 border border-zinc-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-2",children:"Tipo"}),f.jsx("div",{className:"px-3 py-2 bg-zinc-100 rounded-lg text-zinc-600",children:r.type})]}),S&&f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-2",children:"Opciones"}),f.jsx("div",{className:"space-y-2 mb-3 max-h-48 overflow-y-auto",children:d.map((E,M)=>f.jsxs("div",{className:"flex items-center gap-2 p-2 bg-zinc-50 rounded",children:[f.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[f.jsx("div",{className:"w-6 h-6 rounded cursor-pointer border border-zinc-300",style:{backgroundColor:E.color},onClick:()=>{const T=hi.findIndex(R=>R.value===E.color),j=hi[(T+1)%hi.length];_(M,j.value)},title:"Click para cambiar color"}),f.jsx("span",{className:"text-sm",children:E.label})]}),f.jsx("button",{onClick:()=>w(M),className:"text-red-500 hover:text-red-700",children:f.jsx(F_,{size:16})})]},M))}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",value:m,onChange:E=>v(E.target.value),onKeyDown:E=>E.key==="Enter"&&y(),placeholder:"Nueva opcin...",className:"flex-1 px-3 py-2 border border-zinc-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),f.jsxs("button",{onClick:y,className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-1",children:[f.jsx(Nr,{size:16}),"Agregar"]})]})]})]}),f.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[f.jsx("button",{onClick:e,className:"px-4 py-2 text-zinc-600 hover:bg-zinc-100 rounded-lg transition-colors",children:"Cancelar"}),f.jsx("button",{onClick:x,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Guardar"})]})]})})}function Tv({databaseId:n}){const{activeWorkspace:e,actions:r}=vd(),[i,o]=z.useState(null),l=z.useMemo(()=>(e?.databases||[]).find(v=>v.id===n),[e,n]);if(!l)return f.jsx("div",{className:"p-4 text-zinc-500",children:"Base de datos no encontrada"});const u=l.views.find(v=>v.id===l.activeViewId)||l.views[0],d=z.useMemo(()=>{let v=[...l.items];return u?.filters.forEach(x=>{v=v.filter(y=>{const w=y.values[x.propertyId];return l.properties.find(_=>_.id===x.propertyId),x.condition==="is"?w===x.value:x.condition==="contains"?String(w||"").toLowerCase().includes(String(x.value||"").toLowerCase()):x.condition==="is-empty"?!w||w==="":x.condition==="is-not-empty"?w&&w!=="":!0})}),v},[l.items,u?.filters]),h=z.useMemo(()=>{let v=[...d];return u?.sorts.forEach(x=>{v.sort((y,w)=>{const _=y.values[x.propertyId],S=w.values[x.propertyId];if(_===S)return 0;if(!_)return 1;if(!S)return-1;const E=_<S?-1:1;return x.direction==="asc"?E:-E})}),v},[d,u?.sorts]),m=()=>{switch(u?.type){case"table":return f.jsx(NE,{database:l,items:h,actions:r,onPropertyClick:o});case"board":return f.jsx(OE,{database:l,items:h,actions:r,activeView:u});case"list":return f.jsx(AE,{database:l,items:h,actions:r});default:return f.jsx("div",{className:"p-4 text-zinc-500",children:"Vista no soportada"})}};return f.jsxs("div",{className:"flex flex-col h-full bg-white",children:[f.jsxs("div",{className:"flex items-center gap-3 px-6 py-4 border-b border-zinc-200",children:[f.jsx("span",{className:"text-2xl",children:l.icon}),f.jsx("input",{type:"text",value:l.title,onChange:v=>r.updateDatabase(n,{title:v.target.value}),className:"text-2xl font-bold outline-none flex-1 bg-transparent",placeholder:"Base de datos sin ttulo"})]}),f.jsx(IE,{database:l,actions:r}),f.jsx(RE,{database:l,activeView:u,actions:r}),f.jsx("div",{className:"flex-1 overflow-auto px-6 py-4",children:m()}),i&&f.jsx(LE,{isOpen:!!i,onClose:()=>o(null),property:i,databaseId:n,actions:r})]})}function zE({databaseId:n,onDelete:e}){return n?f.jsxs("div",{className:"my-4 border border-zinc-200 rounded-lg overflow-hidden bg-white",children:[f.jsx(Tv,{databaseId:n,inline:!0}),e&&f.jsx("div",{className:"px-4 py-2 border-t border-zinc-200 bg-zinc-50 flex justify-end",children:f.jsx("button",{onClick:e,className:"text-xs text-zinc-500 hover:text-red-600 transition-colors",children:"Eliminar database"})})]}):f.jsx("div",{className:"p-4 border border-zinc-200 rounded-lg bg-zinc-50 text-zinc-400 text-sm",children:"Database no encontrada"})}const DE=({url:n})=>{const[e,r]=z.useState(!1);if(!n)return null;const i=n.match(/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com|youtu\.be)\/(?:watch\?v=)?(.+)/);if(i){const o=i[1];return f.jsx("div",{className:"my-2 rounded-lg overflow-hidden shadow-sm border border-zinc-200 bg-black",children:f.jsx("iframe",{width:"100%",height:"315",src:`https://www.youtube.com/embed/${o}`,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"aspect-video"})})}return f.jsxs(f.Fragment,{children:[f.jsxs("div",{onClick:()=>r(!0),className:"my-2 p-3 border border-zinc-200 rounded-lg flex items-center gap-3 cursor-pointer hover:bg-zinc-50 transition-colors group",children:[f.jsx("div",{className:"w-10 h-10 bg-zinc-100 rounded flex items-center justify-center text-zinc-400 group-hover:text-zinc-600",children:f.jsx(kg,{size:20})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:"text-sm font-medium text-zinc-900 truncate",children:n}),f.jsx("div",{className:"text-xs text-zinc-500",children:"Haz clic para abrir el enlace"})]})]}),e&&f.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/20 backdrop-blur-sm",onClick:o=>{o.stopPropagation(),r(!1)},children:f.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-xl max-w-sm w-full mx-4",onClick:o=>o.stopPropagation(),children:[f.jsx("h3",{className:"text-lg font-bold mb-2",children:"Abrir enlace externo"}),f.jsxs("p",{className:"text-zinc-600 mb-6 text-sm",children:["Ests a punto de salir de ClonApp para visitar:",f.jsx("br",{}),f.jsx("span",{className:"text-indigo-600 font-medium break-all",children:n})]}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx("button",{onClick:()=>r(!1),className:"px-4 py-2 text-zinc-500 hover:bg-zinc-100 rounded-lg text-sm font-medium",children:"Cancelar"}),f.jsx("button",{onClick:()=>{window.open(n,"_blank"),r(!1)},className:"px-4 py-2 bg-zinc-900 text-white rounded-lg text-sm font-medium hover:bg-black",children:"Ir al sitio"})]})]})})]})},ME=({query:n,onSelect:e,onClose:r,pages:i=[],databases:o=[]})=>{const[l,u]=z.useState("basicos"),d={basicos:{label:"Bsicos",items:[{id:"h1",label:"Encabezado 1",icon:f.jsx(xi,{size:18}),desc:"Ttulo grande"},{id:"h2",label:"Encabezado 2",icon:f.jsx(xi,{size:16}),desc:"Ttulo mediano"},{id:"h3",label:"Encabezado 3",icon:f.jsx(xi,{size:14}),desc:"Ttulo pequeo"},{id:"bullet",label:"Lista",icon:f.jsx(jg,{size:16}),desc:"Lista simple"},{id:"todo",label:"Tareas",icon:f.jsx(E_,{size:16}),desc:"Tareas pendientes"}]},avanzados:{label:"Avanzados",items:[{id:"quote",label:"Cita",icon:f.jsx(V_,{size:16}),desc:"Captura una cita"},{id:"callout",label:"Destacado",icon:f.jsx(ld,{size:16}),desc:"Resalta informacin"},{id:"divider",label:"Divisor",icon:f.jsx(D_,{size:16}),desc:"Separa visualmente"},{id:"database",label:"Base de Datos",icon:f.jsx("span",{className:"text-base",children:""}),desc:"Database inline"}]},referencias:{label:"Referencias",items:[...i.map(y=>({id:`ref-page-${y.id}`,label:y.title||"Sin ttulo",icon:f.jsx("span",{className:"text-base",children:y.icon||""}),desc:"Pgina",type:"reference",referenceType:"page",referenceId:y.id,referenceTitle:y.title||"Sin ttulo",referenceIcon:y.icon||""})),...o.map(y=>({id:`ref-db-${y.id}`,label:y.title,icon:f.jsx("span",{className:"text-base",children:y.icon||""}),desc:"Database",type:"reference",referenceType:"database",referenceId:y.id,referenceTitle:y.title,referenceIcon:y.icon||""}))]}},h=Object.values(d).flatMap(y=>y.items),m=n?h.filter(y=>y.label.toLowerCase().includes(n.toLowerCase())):d[l].items,[v,x]=z.useState(0);return z.useEffect(()=>{const y=w=>{w.key==="ArrowDown"?(w.preventDefault(),x(_=>(_+1)%m.length)):w.key==="ArrowUp"?(w.preventDefault(),x(_=>(_-1+m.length)%m.length)):w.key==="Enter"?(w.preventDefault(),e(m[v])):w.key==="Escape"&&r()};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[m,v,e,r]),m.length===0?null:f.jsxs(Ge.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},className:"absolute top-full left-0 z-50 w-80 bg-white rounded-lg shadow-popover border border-zinc-200 overflow-hidden mt-2 max-h-96",children:[!n&&f.jsx("div",{className:"border-b border-zinc-100 bg-zinc-50/50",children:f.jsx("div",{className:"flex gap-1 px-2 py-1.5",children:Object.entries(d).map(([y,w])=>f.jsx("button",{onClick:()=>u(y),className:We("px-3 py-1.5 text-xs font-medium rounded-md transition-all",l===y?"bg-white shadow-sm text-zinc-900 border border-zinc-200":"text-zinc-500 hover:text-zinc-700 hover:bg-zinc-100"),children:w.label},y))})}),f.jsxs("div",{className:"p-1.5 space-y-0.5 max-h-80 overflow-y-auto",children:[n&&f.jsx("div",{className:"text-xs font-bold text-zinc-400 px-2 py-1 uppercase",children:"Resultados"}),m.map((y,w)=>f.jsxs("div",{onClick:()=>e(y),className:We("flex items-center gap-3 px-2 py-1.5 rounded cursor-pointer transition-colors",w===v?"bg-zinc-100":"hover:bg-zinc-50"),children:[f.jsx("div",{className:"w-10 h-10 rounded border border-zinc-200 bg-white flex items-center justify-center text-zinc-600 shrink-0 shadow-sm",children:y.icon}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-medium text-zinc-800",children:y.label}),f.jsx("div",{className:"text-xs text-zinc-400",children:y.desc})]})]},y.id))]})]})},wn=({tagName:n,html:e,className:r,onChange:i,onKeyDown:o,placeholder:l,disabled:u,autoFocus:d})=>{const h=z.useRef(null);return z.useEffect(()=>{d&&h.current&&h.current.focus()},[d]),z.useLayoutEffect(()=>{h.current&&h.current.innerText!==e&&(h.current.innerText=e)},[e]),f.jsx(n,{ref:h,className:We(r,"empty:before:content-[attr(placeholder)] empty:before:text-zinc-300 outline-none"),contentEditable:!u,suppressContentEditableWarning:!0,onInput:m=>i&&i(m.currentTarget.innerText),onKeyDown:o,placeholder:l})},VE=({block:n,index:e,actions:r})=>{const{activeWorkspace:i}=vd(),[o,l]=z.useState(!1),[u,d]=z.useState(null),h=R=>{if(R.key==="Enter")R.preventDefault(),["bullet","todo"].includes(n.type)?n.content?r.addBlock(e+1,{type:n.type,level:n.level||0}):(n.level||0)>0?r.updateBlock(n.id,{level:(n.level||0)-1}):r.updateBlock(n.id,{type:"p"}):r.addBlock(e+1);else if(R.key==="Backspace"&&!n.content)R.preventDefault(),(n.level||0)>0?r.updateBlock(n.id,{level:(n.level||0)-1}):["bullet","todo"].includes(n.type)?r.updateBlock(n.id,{type:"p"}):r.deleteBlock(e);else if(R.key==="Tab"){R.preventDefault();const q=n.level||0;r.updateBlock(n.id,{level:R.shiftKey?Math.max(0,q-1):Math.min(3,q+1)})}},m=R=>{if(n.type==="p"){const q={"# ":"h1","## ":"h2","### ":"h3","- ":"bullet","[] ":"todo","> ":"quote","---":"divider"};if(q[R]){r.updateBlock(n.id,{type:q[R],content:""});return}}r.updateBlock(n.id,{content:R})},v=R=>{if(R.type==="reference")r.updateBlock(n.id,{type:"reference",content:"",referenceType:R.referenceType,referenceId:R.referenceId,referenceTitle:R.referenceTitle,referenceIcon:R.referenceIcon});else if(R.id==="database"||R==="database"){const q=`Database ${new Date().toLocaleDateString()}`,F=r.addDatabase(q,"inline",null);r.updateBlock(n.id,{type:"database",content:"",databaseId:F})}else r.updateBlock(n.id,{type:R.id||R,content:""})},x=R=>{R.dataTransfer.effectAllowed="move",R.dataTransfer.setData("text/plain",e.toString()),l(!0)},y=()=>{l(!1),d(null)},w=R=>{R.preventDefault(),R.dataTransfer.dropEffect="move",d(e)},_=()=>{d(null)},S=R=>{R.preventDefault();const q=parseInt(R.dataTransfer.getData("text/plain"));q!==e&&r.reorderBlocks&&r.reorderBlocks(q,e),d(null)},E=n.type==="p"&&n.content.startsWith("/"),M=E?n.content.substring(1):"",T=n.type==="p"&&n.content.match(/(https?:\/\/[^\s]+)/g),j=T?T[0]:null;return f.jsxs(Ge.div,{id:n.id,layout:!0,initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:We("group relative flex items-start pl-2 md:pl-6 mb-1 py-0.5 transition-colors",o&&"opacity-50",u===e&&"border-t-2 border-indigo-500"),draggable:!0,onDragStart:x,onDragEnd:y,onDragOver:w,onDragLeave:_,onDrop:S,children:[f.jsx("div",{className:"absolute left-0 top-1.5 p-0.5 text-zinc-300 opacity-0 group-hover:opacity-100 cursor-grab active:cursor-grabbing hover:text-zinc-500 transition-opacity touch-none hidden md:block",children:f.jsx(R_,{size:16})}),f.jsxs("div",{className:"w-full relative",children:[E&&f.jsx(ME,{query:M,onSelect:v,onClose:()=>{},pages:i?.pages||[],databases:i?.databases||[]}),n.type==="h1"&&f.jsx(wn,{tagName:"h1",html:n.content,className:"text-3xl font-bold text-zinc-800 mb-2 mt-6",placeholder:"Encabezado 1",onKeyDown:h,onChange:m,autoFocus:!0}),n.type==="h2"&&f.jsx(wn,{tagName:"h2",html:n.content,className:"text-2xl font-semibold text-zinc-800 mb-1 mt-4",placeholder:"Encabezado 2",onKeyDown:h,onChange:m,autoFocus:!0}),n.type==="h3"&&f.jsx(wn,{tagName:"h3",html:n.content,className:"text-xl font-semibold text-zinc-800 mb-1 mt-3",placeholder:"Encabezado 3",onKeyDown:h,onChange:m,autoFocus:!0}),n.type==="p"&&f.jsxs(f.Fragment,{children:[f.jsx(wn,{tagName:"p",html:n.content,className:"text-base text-zinc-700 leading-relaxed min-h-[1.5rem]",placeholder:'Escribe "/" para comandos...',onKeyDown:h,onChange:m,autoFocus:!0}),j&&f.jsx(DE,{url:j})]}),n.type==="bullet"&&f.jsxs("div",{className:"flex items-start gap-2",style:{marginLeft:(n.level||0)*1.5+"rem"},children:[f.jsx("div",{className:We("mt-2.5 shrink-0 transition-all",(n.level||0)%3===0?"w-1.5 h-1.5 rounded-full bg-zinc-800":(n.level||0)%3===1?"w-1.5 h-1.5 rounded-full border border-zinc-800 bg-transparent":"w-1.5 h-1.5 bg-zinc-800")}),f.jsx(wn,{tagName:"p",html:n.content,className:"flex-1 text-base text-zinc-700 leading-relaxed",placeholder:"Lista",onKeyDown:h,onChange:R=>r.updateBlock(n.id,{content:R}),autoFocus:!0})]}),n.type==="todo"&&f.jsxs("div",{className:"flex items-start gap-3",style:{marginLeft:(n.level||0)*1.5+"rem"},children:[f.jsx("div",{onClick:()=>r.updateBlock(n.id,{checked:!n.checked}),className:We("mt-1 w-4 h-4 rounded-[3px] border cursor-pointer flex items-center justify-center transition-colors",n.checked?"bg-[#2EAADC] border-[#2EAADC]":"border-zinc-400 hover:bg-zinc-100"),children:n.checked&&f.jsx(ad,{size:12,className:"text-white"})}),f.jsx(wn,{tagName:"p",html:n.content,className:We("flex-1 text-base min-h-[1.5rem] transition-opacity",n.checked?"line-through text-zinc-400 opacity-50":"text-zinc-700"),placeholder:"Tarea por hacer",onKeyDown:h,onChange:R=>r.updateBlock(n.id,{content:R}),autoFocus:!0})]}),n.type==="quote"&&f.jsx("div",{className:"flex items-start gap-3 pl-4 border-l-4 border-zinc-900 my-2",children:f.jsx(wn,{tagName:"p",html:n.content,className:"text-lg italic text-zinc-700",placeholder:"Cita...",onKeyDown:h,onChange:R=>r.updateBlock(n.id,{content:R}),autoFocus:!0})}),n.type==="divider"&&f.jsx("div",{className:"py-4",children:f.jsx("div",{className:"h-px bg-zinc-200 w-full"})}),n.type==="callout"&&f.jsxs("div",{className:"p-4 bg-zinc-50 rounded-lg flex gap-3 border border-zinc-200 my-2",children:[f.jsx(ld,{size:20,className:"text-zinc-500 shrink-0"}),f.jsx(wn,{tagName:"p",html:n.content,className:"text-base text-zinc-800",placeholder:"Destacado...",onKeyDown:h,onChange:R=>r.updateBlock(n.id,{content:R}),autoFocus:!0})]}),n.type==="reference"&&f.jsx("div",{className:"my-2",children:f.jsx(TE,{reference:{type:n.referenceType,id:n.referenceId,title:n.referenceTitle,icon:n.referenceIcon},onClick:R=>{R.type==="page"?r.setActivePageId(R.id):R.type==="database"&&r.setActiveDatabaseId&&r.setActiveDatabaseId(R.id)}})}),n.type==="database"&&f.jsx(zE,{databaseId:n.databaseId,onDelete:()=>{n.databaseId&&r.deleteDatabase(n.databaseId),r.deleteBlock(e)}})]})]})};function BE({onSelect:n,onClose:e,downloads:r}){const[i,o]=z.useState(""),l=z.useRef(null),u=jv.filter(d=>i===""||d.toLowerCase().includes(i.toLowerCase()));return z.useEffect(()=>{const d=h=>{l.current&&!l.current.contains(h.target)&&e()};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[e]),z.useEffect(()=>{const d=h=>{h.key==="Escape"&&e()};return document.addEventListener("keydown",d),()=>document.removeEventListener("keydown",d)},[e]),f.jsxs("div",{ref:l,className:"absolute top-full left-0 mt-2 z-50 w-80 bg-white border border-zinc-200 rounded-lg shadow-xl",children:[f.jsxs("div",{className:"p-3 pb-2 border-b border-zinc-200",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("h3",{className:"text-sm font-semibold flex-1",children:"Seleccionar Icono"}),f.jsx("button",{onClick:e,className:"p-1 hover:bg-zinc-100 rounded transition-colors",children:f.jsx(xs,{size:16,className:"text-zinc-500"})})]}),f.jsx("input",{type:"text",placeholder:"Buscar emoji...",value:i,onChange:d=>o(d.target.value),className:"w-full px-3 py-1.5 text-sm border border-zinc-200 rounded-md focus:outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500",autoFocus:!0})]}),f.jsxs("div",{className:"p-3 max-h-64 overflow-y-auto",children:[r?.icons&&r.icons.length>0&&f.jsxs("div",{className:"mb-4 pb-3 border-b border-zinc-200",children:[f.jsx("h4",{className:"text-xs font-semibold text-zinc-500 uppercase mb-2 px-1",children:" Descargados"}),f.jsx("div",{className:"grid grid-cols-8 gap-1",children:r.icons.map(d=>f.jsx("button",{onClick:()=>{n(d.data),e()},className:"p-2 hover:bg-indigo-50 rounded transition-colors cursor-pointer flex items-center justify-center",title:d.name,children:d.data.startsWith("http")||d.data.startsWith("data:")?f.jsx("img",{src:d.data,alt:"",className:"w-6 h-6 object-contain"}):f.jsx("span",{className:"text-2xl",children:d.data})},d.id))})]}),f.jsxs("div",{children:[r?.icons&&r.icons.length>0&&f.jsx("h4",{className:"text-xs font-semibold text-zinc-500 uppercase mb-2 px-1",children:" Emojis"}),f.jsx("div",{className:"grid grid-cols-8 gap-1",children:u.map((d,h)=>f.jsx("button",{onClick:()=>{n(d),e()},className:"text-2xl p-2 hover:bg-indigo-50 rounded transition-colors cursor-pointer",title:d,children:d},h))}),u.length===0&&f.jsx("div",{className:"text-center py-8 text-sm text-zinc-400",children:"No se encontraron emojis"})]})]}),f.jsxs("div",{className:"px-3 py-2 border-t border-zinc-200 text-xs text-zinc-400",children:[u.length," emojis disponibles",r?.icons&&r.icons.length>0&&`  ${r.icons.length} descargados`]})]})}function $E({activePage:n,activePageId:e,ui:r,setUi:i,actions:o,downloads:l}){const[u,d]=z.useState(!1);return n?f.jsxs("div",{className:"w-full",children:[n.cover&&f.jsxs("div",{className:"w-full h-60 relative overflow-hidden mb-8",children:[n.cover.startsWith("http")||n.cover.startsWith("data:image")?f.jsx("img",{src:n.cover,alt:"Cover",className:"w-full h-full object-cover"}):f.jsx("div",{className:"w-full h-full",style:{background:n.cover}}),f.jsxs("button",{onClick:()=>i(h=>({...h,modals:{...h.modals,coverGallery:!0}})),className:"absolute top-4 right-4 hover:bg-white/90 bg-white/70 px-2 py-1 rounded flex items-center gap-1 text-sm",children:[f.jsx(wc,{size:12})," Cambiar portada"]})]}),f.jsxs("div",{className:"max-w-3xl mx-auto px-4 pb-32",children:[!n.cover&&f.jsx("div",{className:"h-12 opacity-0 hover:opacity-100 transition-opacity flex items-center gap-2 text-xs text-zinc-400 mb-4",children:f.jsxs("button",{onClick:()=>i(h=>({...h,modals:{...h.modals,coverGallery:!0}})),className:"hover:bg-zinc-100 px-2 py-1 rounded flex items-center gap-1",children:[f.jsx(wc,{size:12})," Aadir portada"]})}),f.jsxs("div",{className:"text-7xl mb-4 group relative w-fit",children:[f.jsx("div",{className:"cursor-pointer",onClick:()=>d(!u),children:n.icon?.startsWith("http")||n.icon?.startsWith("data:")?f.jsx("img",{src:n.icon,alt:"",className:"w-20 h-20 object-contain"}):n.icon||f.jsx(Pr,{size:64,className:"text-zinc-200"})}),u&&f.jsx(BE,{onSelect:h=>{o.updatePage(e,{icon:h}),d(!1)},onClose:()=>d(!1),downloads:l})]}),f.jsx(wn,{tagName:"h1",html:n.title,className:"text-4xl font-bold text-zinc-900 placeholder:text-zinc-300 mb-8 outline-none break-words",placeholder:"Ttulo de la pgina",onChange:h=>o.updatePage(e,{title:h})})]}),f.jsxs("div",{className:"max-w-3xl mx-auto px-4 space-y-1",children:[n.blocks.map((h,m)=>f.jsx(VE,{block:h,index:m,actions:o},h.id)),f.jsxs("div",{className:"h-24 group flex items-center text-zinc-300 hover:text-zinc-400 cursor-text",onClick:()=>o.addBlock(n.blocks.length),children:[f.jsx(Nr,{size:20,className:"mr-2 opacity-0 group-hover:opacity-100 transition-opacity"}),f.jsx("span",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:"Haz clic para aadir un bloque"})]})]})]}):f.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-zinc-400",children:[f.jsx("div",{className:"w-16 h-16 bg-zinc-100 rounded-full flex items-center justify-center mb-4",children:f.jsx(Pr,{size:32})}),f.jsx("p",{children:"Selecciona o crea una pgina"})]})}function FE({onCreateWorkspace:n}){const[e,r]=z.useState(""),[i,o]=z.useState(null),l=[{id:"empty",name:"Espacio en blanco",icon:"",desc:"Empezar desde cero"},{id:"personal",name:"Personal",icon:"",desc:"Tareas, notas y diario",pages:3},{id:"work",name:"Trabajo",icon:"",desc:"Proyectos y reuniones",pages:4},{id:"study",name:"Estudios",icon:"",desc:"Apuntes y recursos",pages:3}],u=()=>{if(!e.trim()){alert("Por favor ingresa un nombre para tu workspace");return}n(e,i)};return f.jsxs("div",{className:"fixed inset-0 bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 flex items-center justify-center overflow-hidden",children:[f.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[f.jsx(Ge.div,{animate:{scale:[1,1.2,1],rotate:[0,90,0]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute -top-1/2 -left-1/2 w-full h-full bg-gradient-to-br from-indigo-200/30 to-transparent rounded-full blur-3xl"}),f.jsx(Ge.div,{animate:{scale:[1,1.3,1],rotate:[0,-90,0]},transition:{duration:25,repeat:1/0,ease:"linear"},className:"absolute -bottom-1/2 -right-1/2 w-full h-full bg-gradient-to-tl from-purple-200/30 to-transparent rounded-full blur-3xl"})]}),f.jsxs(Ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"relative z-10 max-w-2xl w-full mx-4",children:[f.jsxs(Ge.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"text-center mb-8",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-3xl mb-4 shadow-2xl",children:f.jsx(Ci,{className:"text-white",size:40})}),f.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Bienvenido a tu espacio"}),f.jsx("p",{className:"text-gray-600 text-lg",children:"Crea tu primer workspace para empezar a organizar tus ideas"})]}),f.jsxs(Ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-2xl p-8 border border-white/50",children:[f.jsxs("div",{className:"mb-6",children:[f.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Nombre del Workspace"}),f.jsx("input",{type:"text",value:e,onChange:d=>r(d.target.value),placeholder:"Mi Workspace Personal",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 transition-all text-lg",autoFocus:!0})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:"Elige una plantilla"}),f.jsx("div",{className:"grid grid-cols-2 gap-3",children:l.map((d,h)=>f.jsxs(Ge.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.5+h*.1},onClick:()=>o(d.id),className:`relative p-4 rounded-xl border-2 cursor-pointer transition-all ${i===d.id?"border-indigo-500 bg-indigo-50 shadow-lg scale-105":"border-gray-200 hover:border-gray-300 hover:shadow-md"}`,children:[f.jsx("div",{className:"text-3xl mb-2",children:d.icon}),f.jsx("div",{className:"font-semibold text-gray-900",children:d.name}),f.jsx("div",{className:"text-xs text-gray-500",children:d.desc}),d.pages&&f.jsxs("div",{className:"text-xs text-indigo-600 mt-1",children:[d.pages," pginas"]}),i===d.id&&f.jsx(Ge.div,{layoutId:"selected",className:"absolute top-2 right-2 w-6 h-6 bg-indigo-500 rounded-full flex items-center justify-center",children:f.jsx(_g,{className:"text-white",size:14})})]},d.id))})]}),f.jsxs(Ge.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:u,className:"w-full py-4 bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-bold rounded-xl shadow-xl hover:shadow-2xl transition-all text-lg flex items-center justify-center gap-2",children:[f.jsx(Ci,{size:20}),"Crear Workspace"]})]})]})]})}function UE({ui:n,setUi:e,searchQuery:r,setSearchQuery:i,searchFilters:o,setSearchFilters:l,filteredPages:u,actions:d}){return f.jsx(_s,{isOpen:n.modals.search,onClose:()=>e(h=>({...h,modals:{...h.modals,search:!1}})),title:"Buscar",children:f.jsxs("div",{className:"p-4",children:[f.jsxs("div",{className:"relative mb-4",children:[f.jsx(Pg,{className:"absolute left-3 top-2.5 text-zinc-400",size:18}),f.jsx("input",{type:"text",placeholder:"Buscar pginas...",className:"w-full pl-10 pr-4 py-2 bg-zinc-100 rounded-lg outline-none focus:ring-2 focus:ring-indigo-500/20",value:r,onChange:h=>i(h.target.value),autoFocus:!0})]}),f.jsxs("div",{className:"flex gap-2 mb-4 overflow-x-auto pb-2 no-scrollbar",children:[f.jsxs("button",{onClick:()=>l(h=>({...h,scope:h.scope==="all"?"current":"all"})),className:We("px-3 py-1 rounded-full text-xs border flex items-center gap-1 shrink-0",o.scope==="current"?"bg-indigo-50 border-indigo-200 text-indigo-700":"border-zinc-200 text-zinc-500"),children:[o.scope==="all"?f.jsx(A_,{size:12}):f.jsx(Pr,{size:12}),o.scope==="all"?"Todo el workspace":"Pgina actual"]}),f.jsxs("button",{onClick:()=>l(h=>({...h,date:h.date==="any"?"week":h.date==="week"?"month":"any"})),className:We("px-3 py-1 rounded-full text-xs border flex items-center gap-1 shrink-0",o.date!=="any"?"bg-indigo-50 border-indigo-200 text-indigo-700":"border-zinc-200 text-zinc-500"),children:[f.jsx(S_,{size:12}),o.date==="any"?"Cualquier fecha":o.date==="today"?"Hoy":o.date==="week"?"ltima semana":"ltimo mes"]}),f.jsxs("select",{value:o.sort,onChange:h=>l(m=>({...m,sort:h.target.value})),className:"px-3 py-1 rounded-full text-xs border border-zinc-200 text-zinc-500 bg-transparent outline-none shrink-0",children:[f.jsx("option",{value:"newest",children:"Ms recientes"}),f.jsx("option",{value:"oldest",children:"Ms antiguos"}),f.jsx("option",{value:"alpha",children:"A-Z"})]})]}),f.jsxs("div",{className:"space-y-1 max-h-[60vh] overflow-y-auto",children:[u.map(h=>f.jsxs("div",{onClick:()=>{d.setActivePageId(h.id),e(m=>({...m,modals:{...m.modals,search:!1}}))},className:"flex items-center gap-3 p-2 hover:bg-zinc-100 rounded-lg cursor-pointer",children:[f.jsx("div",{className:"w-8 h-8 flex items-center justify-center bg-white border border-zinc-200 rounded text-lg",children:h.icon||f.jsx(Pr,{size:14})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:"font-medium truncate",children:h.title||"Sin ttulo"}),f.jsxs("div",{className:"text-xs text-zinc-400 flex items-center gap-2",children:[f.jsx("span",{children:h.workspaceName}),f.jsx("span",{children:""}),f.jsx("span",{children:Va(new Date(h.updatedAt))})]})]})]},h.id)),u.length===0&&f.jsx("div",{className:"text-center text-zinc-400 py-8",children:"No se encontraron resultados"})]})]})})}function WE({ui:n,setUi:e,aiPrompt:r,setAiPrompt:i,isAiGenerating:o,setIsAiGenerating:l,actions:u,showNotify:d,userProfile:h}){const m=h?.email?h.email.split("@")[0]:"Usuario";return f.jsx(_s,{isOpen:n.modals.ai,onClose:()=>e(v=>({...v,modals:{...v.modals,ai:!1}})),title:`${m} AI`,children:f.jsxs("div",{className:"p-6 text-center",children:[f.jsx("div",{className:"w-12 h-12 bg-indigo-100 text-indigo-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:f.jsx(Ci,{size:24})}),f.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Generar Pgina con IA"}),f.jsx("p",{className:"text-zinc-500 text-sm mb-6",children:"Describe qu tipo de pgina necesitas y la IA la crear por ti."}),f.jsx("textarea",{value:r,onChange:v=>i(v.target.value),className:"w-full p-3 bg-zinc-50 border border-zinc-200 rounded-lg mb-4 h-32 outline-none focus:border-indigo-500 resize-none",placeholder:"Ej: Plan de marketing para Q4..."}),f.jsxs("button",{onClick:()=>{const v=u.addPage({title:"Generando...",isGenerating:!0,icon:""});e(x=>({...x,modals:{...x.modals,ai:!1}})),l(!0),setTimeout(()=>{const x=[{id:ye.generateId(),type:"h1",content:r||"Pgina Generada"},{id:ye.generateId(),type:"p",content:`Esta pgina ha sido generada automticamente por ${m} AI basndose en tu descripcin.`},{id:ye.generateId(),type:"callout",content:`Prompt original: "${r}"`},{id:ye.generateId(),type:"h2",content:"Contenido Sugerido"},{id:ye.generateId(),type:"todo",content:"Revisar el contenido generado",checked:!1},{id:ye.generateId(),type:"todo",content:"Personalizar los bloques",checked:!1},{id:ye.generateId(),type:"quote",content:"La creatividad es la inteligencia divirtindose. - Albert Einstein"}];u.updatePage(v,{title:r?r.slice(0,20)+(r.length>20?"...":""):"Pgina Generada",isGenerating:!1,blocks:x,icon:""}),l(!1),d("Pgina generada con xito")},3e3)},disabled:!r.trim()||o,className:"w-full py-2 bg-zinc-900 text-white rounded-lg font-medium hover:bg-zinc-800 disabled:opacity-50 flex items-center justify-center gap-2",children:[o?f.jsx(La,{className:"animate-spin",size:18}):f.jsx(q_,{size:18}),o?"Generando...":"Generar Pgina"]})]})})}function e0({ui:n,setUi:e,workspaces:r,userProfile:i,activeWorkspaceId:o,actions:l,onLogout:u}){return n.modals.workspaceMenu?f.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-start",onClick:()=>e(d=>({...d,modals:{...d.modals,workspaceMenu:!1}})),children:f.jsxs("div",{className:"absolute top-14 left-4 w-72 bg-white border border-zinc-200 rounded-lg shadow-xl overflow-hidden",onClick:d=>d.stopPropagation(),children:[f.jsxs("div",{className:"p-2 border-b border-zinc-100",children:[f.jsxs("div",{className:"text-xs font-semibold text-zinc-500 px-2 py-1 mb-1",children:["Workspaces de ",i.email]}),r.filter(d=>d.email===i.email).map(d=>f.jsxs("div",{onClick:()=>{l.setActiveWorkspaceId(d.id),e(h=>({...h,modals:{...h.modals,workspaceMenu:!1}}))},className:"flex items-center justify-between px-2 py-1.5 hover:bg-zinc-100 rounded cursor-pointer group",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:`w-6 h-6 rounded flex items-center justify-center text-white text-xs font-bold ${d.id===o?"ring-2 ring-offset-1 ring-zinc-400":""}`,style:{background:d.color||"#666"},children:d.initial}),f.jsx("span",{className:`text-sm ${d.id===o?"font-medium text-zinc-900":"text-zinc-600"}`,children:d.name})]}),d.id===o&&f.jsx(ad,{size:14,className:"text-zinc-600"}),r.length>1&&d.id!==o&&f.jsx("button",{onClick:h=>{h.stopPropagation(),confirm(`Eliminar workspace "${d.name}"?`)&&l.removeWorkspace(d.id)},className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-red-100 text-red-500 rounded",children:f.jsx(jn,{size:12})})]},d.id))]}),f.jsxs("div",{className:"p-2",children:[f.jsxs("div",{onClick:()=>e(d=>({...d,modals:{...d.modals,workspaceMenu:!1,createWorkspace:!0}})),className:"flex items-center gap-2 px-2 py-1.5 hover:bg-zinc-100 rounded cursor-pointer text-zinc-600 text-sm",children:[f.jsx(M_,{size:16})," ",f.jsx("span",{children:"Crear nuevo workspace"})]}),f.jsxs("div",{onClick:u,className:"flex items-center gap-2 px-2 py-1.5 hover:bg-zinc-100 rounded cursor-pointer text-zinc-600 text-sm border-t border-zinc-100 mt-1 pt-2",children:[f.jsx(Eg,{size:16})," ",f.jsx("span",{children:"Cerrar sesin"})]})]})]})}):null}function HE({isOpen:n,onClose:e,ui:r,setUi:i,loadingMarket:o,marketData:l,themes:u,fonts:d,actions:h,showNotify:m,activePageId:v,downloads:x}){const[y,w]=z.useState("themes"),_=z.useRef(null),S=z.useRef(null),E=z.useRef(null);z.useEffect(()=>{n&&w("themes")},[n]);const M=[{id:"themes",label:"Temas",icon:Gu},{id:"templates",label:"Plantillas",icon:L_},{id:"icons",label:"Iconos",icon:bm},{id:"covers",label:"Portadas",icon:wc},{id:"fonts",label:"Tipografa",icon:xi},{id:"import",label:"Importar",icon:H_}],T=F=>{F==="theme"&&_.current?.click(),F==="font"&&S.current?.click(),F==="icon"&&E.current?.click()},j=async(F,C)=>{const A=F.target.files?.[0];if(A)try{if(C==="theme"){const D=new FileReader;D.onload=B=>{const J=A.name.split(".")[0],ne={id:J.toLowerCase().replace(/\s+/g,"-"),name:J,type:"css",author:"Importado",url:B.target.result,colors:{bg:"#1a1a1a",text:"#ffffff"}};h.addTheme(ne),m("Tema importado correctamente"),w("themes")},D.readAsDataURL(A)}else if(C==="font"){const D=new FileReader;D.onload=B=>{const J=A.name.split(".")[0],ne={id:J.toLowerCase().replace(/\s+/g,"-"),name:J,value:`url('${B.target.result}')`,type:"custom",author:"Importado",preview:"Aa"};h.addFont(ne),m("Fuente importada correctamente"),w("fonts")},D.readAsDataURL(A)}else if(C==="icon"){const D=new FileReader;D.onload=B=>{v?(h.updatePage(v,{icon:B.target.result}),m("Icono aplicado a la pgina actual"),e()):m("Abre una pgina para aplicar el icono")},D.readAsDataURL(A)}}catch(D){console.error("Import error:",D),m("Error al importar: "+D.message)}},R=F=>{y==="themes"?(h.addTheme(F),m("Tema instalado")):y==="fonts"?(h.addFont({...F,value:`url('${F.url}')`}),m("Fuente instalada")):y==="icons"?(h.addDownloadedIcon({id:F.id,data:F.url,name:F.name,source:"marketplace"}),m("Icono guardado en biblioteca")):y==="covers"&&(h.addDownloadedCover({id:F.id,url:F.preview,name:F.name,source:"marketplace"}),m("Portada guardada en biblioteca"))},q=()=>{if(o)return f.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-zinc-400 gap-3",children:[f.jsx(La,{className:"animate-spin",size:32}),f.jsx("p",{className:"text-sm font-medium",children:"Cargando marketplace..."})]});if(y==="import")return f.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-6 p-10",children:[f.jsxs("div",{className:"text-center space-y-2",children:[f.jsx("h3",{className:"text-lg font-semibold text-zinc-900",children:"Importar recursos locales"}),f.jsx("p",{className:"text-zinc-500 max-w-md mx-auto",children:"Arrastra carpetas o archivos aqu para aadir tus propios temas, iconos o fuentes."})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-4 w-full max-w-2xl",children:[f.jsxs("div",{onClick:()=>T("icon"),className:"border-2 border-dashed border-zinc-200 rounded-xl p-6 flex flex-col items-center gap-3 hover:border-zinc-400 hover:bg-zinc-50 transition-colors cursor-pointer group",children:[f.jsx("div",{className:"w-12 h-12 bg-blue-50 text-blue-600 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform",children:f.jsx(bm,{size:24})}),f.jsx("span",{className:"font-medium text-sm",children:"Iconos"}),f.jsx("span",{className:"text-xs text-zinc-400",children:".svg, .png"})]}),f.jsxs("div",{onClick:()=>T("theme"),className:"border-2 border-dashed border-zinc-200 rounded-xl p-6 flex flex-col items-center gap-3 hover:border-zinc-400 hover:bg-zinc-50 transition-colors cursor-pointer group",children:[f.jsx("div",{className:"w-12 h-12 bg-purple-50 text-purple-600 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform",children:f.jsx(Gu,{size:24})}),f.jsx("span",{className:"font-medium text-sm",children:"Temas"}),f.jsx("span",{className:"text-xs text-zinc-400",children:".css"})]}),f.jsxs("div",{onClick:()=>T("font"),className:"border-2 border-dashed border-zinc-200 rounded-xl p-6 flex flex-col items-center gap-3 hover:border-zinc-400 hover:bg-zinc-50 transition-colors cursor-pointer group",children:[f.jsx("div",{className:"w-12 h-12 bg-orange-50 text-orange-600 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform",children:f.jsx(xi,{size:24})}),f.jsx("span",{className:"font-medium text-sm",children:"Fuentes"}),f.jsx("span",{className:"text-xs text-zinc-400",children:".woff2, .ttf"})]})]}),f.jsx("input",{type:"file",ref:_,accept:".css",onChange:C=>j(C,"theme"),className:"hidden"}),f.jsx("input",{type:"file",ref:S,accept:".woff2,.ttf,.otf",onChange:C=>j(C,"font"),className:"hidden"}),f.jsx("input",{type:"file",ref:E,accept:".svg,.png,.jpg,.jpeg,.gif",onChange:C=>j(C,"icon"),className:"hidden"})]});const F=y==="themes"?l.styles:y==="templates"?l.templates:y==="icons"?l.icons:y==="covers"?l.covers:y==="fonts"?l.fonts:[];return!F||F.length===0?f.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-zinc-400 gap-2",children:[f.jsx(Tg,{size:48,className:"opacity-20"}),f.jsx("p",{children:"No hay contenido disponible en esta seccin"})]}):f.jsxs("div",{className:"space-y-4",children:[(y==="themes"||y==="fonts"||y==="icons"||y==="covers")&&f.jsx("div",{className:"flex justify-end",children:f.jsxs("button",{onClick:()=>{if(window.confirm("Ests seguro de eliminar todos los elementos de esta seccin?")){if(y==="themes"){const C=u.filter(A=>A.source==="marketplace");C.forEach(A=>h.removeTheme(A.id)),m(`${C.length} temas eliminados`)}else if(y==="fonts"){const C=d.filter(A=>A.source==="marketplace");C.forEach(A=>h.removeFont(A.id)),m(`${C.length} fuentes eliminadas`)}else if(y==="icons"){const C=x.icons?.length||0;h.clearDownloadedIcons&&(h.clearDownloadedIcons(),m(`${C} iconos eliminados`))}else if(y==="covers"){const C=x.covers?.length||0;h.clearDownloadedCovers&&(h.clearDownloadedCovers(),m(`${C} portadas eliminadas`))}}},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 font-medium",children:[f.jsx(xs,{size:16}),"Eliminar Todo"]})}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:F.map(C=>{const A=y==="themes"&&u.some(le=>le.id===C.id),D=y==="fonts"&&d.some(le=>le.id===C.id),B=y==="icons"&&h.isDownloaded("icons",C.id),J=y==="covers"&&h.isDownloaded("covers",C.id),ne=A||D||B||J;return f.jsxs("div",{className:We("border rounded-xl p-4 transition-all group relative",ne?"border-green-300 bg-green-50 cursor-default":"border-zinc-200 bg-white hover:shadow-lg hover:border-zinc-300 cursor-pointer"),onClick:()=>{y==="templates"?(h.addPage({title:C.name,icon:C.icon,blocks:C.blocks}),e(),m("Plantilla aplicada")):ne||R(C)},children:[f.jsxs("div",{className:We("h-32 rounded-lg mb-4 flex items-center justify-center text-4xl font-bold shadow-sm relative overflow-hidden",ne?"bg-green-100":"bg-zinc-50"),children:[y==="themes"&&f.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{backgroundColor:C.colors?.bg||"#333",color:C.colors?.text||"#fff"},children:f.jsx(Gu,{size:48})}),y==="templates"&&f.jsx("span",{className:"text-6xl",children:C.icon}),y==="icons"&&f.jsx("img",{src:C.url,alt:C.name,className:"w-16 h-16 object-contain"}),y==="covers"&&f.jsx("img",{src:C.preview,alt:C.name,className:"w-full h-full object-cover"}),y==="fonts"&&f.jsx("span",{className:"text-6xl",style:{fontFamily:C.name},children:"Aa"}),ne&&f.jsx("div",{className:"absolute inset-0 bg-green-600/20 flex items-center justify-center",children:f.jsx(ad,{size:32,className:"text-green-700 drop-shadow-md"})})]}),f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-zinc-900",children:C.name}),f.jsxs("div",{className:"text-xs text-zinc-500",children:["Por ",C.author||"Comunidad"]}),C.count&&f.jsxs("div",{className:"text-xs text-zinc-400 mt-1",children:[C.count," elementos"]}),C.type&&f.jsx("div",{className:"text-xs text-zinc-400 mt-1",children:C.type})]}),ne&&f.jsx("span",{className:"text-xs bg-green-600 text-white px-2 py-1 rounded font-medium",children:"Instalado"})]})]},C.id)})})]})};return f.jsx(_s,{isOpen:n,onClose:e,title:"Marketplace",className:"max-w-5xl h-[85vh] flex flex-col",children:f.jsxs("div",{className:"flex flex-col h-full",children:[f.jsx("div",{className:"px-6 pt-2 border-b border-zinc-200 flex gap-6 overflow-x-auto no-scrollbar shrink-0",children:M.map(F=>{const C=F.icon,A=y===F.id;return f.jsxs("button",{onClick:()=>w(F.id),className:We("pb-3 text-sm font-medium flex items-center gap-2 transition-colors relative",A?"text-zinc-900":"text-zinc-500 hover:text-zinc-700"),children:[f.jsx(C,{size:16}),F.label,A&&f.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-zinc-900 rounded-t-full"})]},F.id)})}),f.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-zinc-50/50",children:q()})]})})}function t0({ui:n,setUi:e,newWorkspaceName:r,setNewWorkspaceName:i,actions:o}){return f.jsx(_s,{isOpen:n.modals.createWorkspace,onClose:()=>e(l=>({...l,modals:{...l.modals,createWorkspace:!1}})),title:"Crear Workspace",children:f.jsxs("div",{className:"p-4",children:[f.jsx("input",{autoFocus:!0,value:r,onChange:l=>i(l.target.value),placeholder:"Nombre del espacio de trabajo",className:"w-full p-2 border border-zinc-200 rounded mb-4 outline-none focus:border-black"}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx("button",{onClick:()=>e(l=>({...l,modals:{...l.modals,createWorkspace:!1}})),className:"px-4 py-2 text-zinc-500 hover:bg-zinc-100 rounded",children:"Cancelar"}),f.jsx("button",{onClick:()=>{r.trim()&&(o.addWorkspace(r),i(""),e(l=>({...l,modals:{...l.modals,createWorkspace:!1}})))},disabled:!r.trim(),className:"px-4 py-2 bg-zinc-900 text-white rounded hover:bg-zinc-800 disabled:opacity-50",children:"Crear"})]})]})})}function qE({ui:n,setUi:e,actions:r,activePageId:i}){return f.jsx(_s,{isOpen:n.modals.iconPickerModal,onClose:()=>e(o=>({...o,modals:{...o.modals,iconPickerModal:!1}})),title:"Elegir Icono",children:f.jsx("div",{className:"p-4",children:f.jsx("div",{className:"grid grid-cols-8 gap-2",children:jv.map(o=>f.jsx("button",{onClick:()=>{r.updatePage(i,{icon:o}),e(l=>({...l,modals:{...l.modals,iconPickerModal:!1}}))},className:"w-8 h-8 flex items-center justify-center hover:bg-zinc-100 rounded text-xl",children:o},o))})})})}function KE({ui:n,setUi:e,actions:r,activePageId:i,downloads:o}){return f.jsx(_s,{isOpen:n.modals.coverGallery,onClose:()=>e(l=>({...l,modals:{...l.modals,coverGallery:!1}})),title:"Galera de Portadas",children:f.jsxs("div",{className:"p-4 space-y-4",children:[o?.covers&&o.covers.length>0&&f.jsxs("div",{children:[f.jsx("h4",{className:"text-xs font-semibold text-zinc-500 uppercase mb-3",children:" Descargados"}),f.jsx("div",{className:"grid grid-cols-2 gap-4",children:o.covers.map(l=>f.jsx("div",{onClick:()=>{r.updatePage(i,{cover:l.url}),e(u=>({...u,modals:{...u.modals,coverGallery:!1}}))},className:"h-24 rounded-lg cursor-pointer hover:opacity-90 hover:ring-2 hover:ring-indigo-500 transition-all bg-cover bg-center",style:{backgroundImage:`url(${l.url})`}},l.id))})]}),f.jsxs("div",{children:[o?.covers&&o.covers.length>0&&f.jsx("h4",{className:"text-xs font-semibold text-zinc-500 uppercase mb-3",children:" Colores"}),f.jsx("div",{className:"grid grid-cols-2 gap-4",children:bj.map(l=>f.jsx("div",{onClick:()=>{r.updatePage(i,{cover:l.color}),e(u=>({...u,modals:{...u.modals,coverGallery:!1}}))},className:"h-24 rounded-lg cursor-pointer hover:opacity-90 hover:ring-2 hover:ring-indigo-500 transition-all",style:{background:l.color}},l.id))})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-xs font-semibold text-zinc-500 uppercase mb-3",children:" Imgenes"}),f.jsx("div",{className:"grid grid-cols-2 gap-4",children:_j.map((l,u)=>f.jsx("div",{onClick:()=>{r.updatePage(i,{cover:l}),e(d=>({...d,modals:{...d.modals,coverGallery:!1}}))},className:"h-24 rounded-lg cursor-pointer hover:opacity-90 hover:ring-2 hover:ring-indigo-500 transition-all bg-cover bg-center",style:{backgroundImage:`url(${l})`}},u))})]})]})})}function GE({ui:n,setUi:e,activePage:r,activePageId:i,activeWorkspace:o,activeWorkspaceId:l,userProfile:u,actions:d,showNotify:h}){return n.modals.pageOptions?f.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-end pr-4 pt-12",onClick:()=>e(m=>({...m,modals:{...m.modals,pageOptions:!1}})),children:f.jsx("div",{className:"bg-white border border-zinc-200 rounded-lg shadow-xl w-64 overflow-hidden text-zinc-700",onClick:m=>m.stopPropagation(),children:n.currentView==="page"&&r?f.jsxs("div",{className:"py-1",children:[f.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-zinc-400 uppercase tracking-wider",children:"Estilo"}),f.jsxs("div",{className:"px-2 pb-2 flex gap-1",children:[f.jsx("button",{className:"flex-1 py-1.5 border border-zinc-200 rounded hover:bg-zinc-50 text-xs font-sans",children:"Default"}),f.jsx("button",{className:"flex-1 py-1.5 border border-zinc-200 rounded hover:bg-zinc-50 text-xs font-serif",children:"Serif"}),f.jsx("button",{className:"flex-1 py-1.5 border border-zinc-200 rounded hover:bg-zinc-50 text-xs font-mono",children:"Mono"})]}),f.jsx("div",{className:"h-px bg-zinc-100 my-1"}),f.jsxs("div",{className:"px-3 py-2 flex items-center justify-between hover:bg-zinc-50 cursor-pointer",children:[f.jsx("span",{className:"text-sm",children:"Texto pequeo"}),f.jsx("div",{className:"w-8 h-4 bg-zinc-200 rounded-full relative",children:f.jsx("div",{className:"w-3 h-3 bg-white rounded-full absolute top-0.5 left-0.5 shadow-sm"})})]}),f.jsxs("div",{className:"px-3 py-2 flex items-center justify-between hover:bg-zinc-50 cursor-pointer",children:[f.jsx("span",{className:"text-sm",children:"Ancho completo"}),f.jsx("div",{className:"w-8 h-4 bg-zinc-200 rounded-full relative",children:f.jsx("div",{className:"w-3 h-3 bg-white rounded-full absolute top-0.5 left-0.5 shadow-sm"})})]}),f.jsx("div",{className:"h-px bg-zinc-100 my-1"}),f.jsxs("button",{onClick:()=>{d.updatePage(i,{isFavorite:!r.isFavorite}),e(m=>({...m,modals:{...m.modals,pageOptions:!1}}))},className:"w-full text-left px-3 py-2 text-sm hover:bg-zinc-50 flex items-center gap-2",children:[f.jsx(Ng,{size:16,fill:r.isFavorite?"currentColor":"none",className:r.isFavorite?"text-yellow-400":"text-zinc-400"}),r.isFavorite?"Quitar de favoritos":"Aadir a favoritos"]}),f.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(window.location.href),e(m=>({...m,modals:{...m.modals,pageOptions:!1}})),h("Enlace copiado")},className:"w-full text-left px-3 py-2 text-sm hover:bg-zinc-50 flex items-center gap-2",children:[f.jsx(z_,{size:16,className:"text-zinc-400"})," Copiar enlace"]}),f.jsx("div",{className:"h-px bg-zinc-100 my-1"}),f.jsxs("button",{onClick:()=>{confirm("Eliminar pgina?")&&(d.deletePage(i),e(m=>({...m,modals:{...m.modals,pageOptions:!1}})))},className:"w-full text-left px-3 py-2 text-sm hover:bg-red-50 text-red-500 flex items-center gap-2",children:[f.jsx(jn,{size:16})," Eliminar pgina"]})]}):f.jsxs("div",{className:"py-1",children:[f.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-zinc-400 uppercase tracking-wider",children:"Espacio de trabajo"}),f.jsxs("div",{className:"px-3 py-2 text-sm text-zinc-600",children:[f.jsx("div",{className:"font-medium text-zinc-900 mb-1",children:o?.name}),f.jsx("div",{className:"text-xs",children:u.email})]}),f.jsx("div",{className:"h-px bg-zinc-100 my-1"}),f.jsxs("button",{onClick:()=>{confirm("Ests seguro de que quieres eliminar este espacio de trabajo permanentemente?")&&(d.removeWorkspace(l),e(m=>({...m,modals:{...m.modals,pageOptions:!1}})))},className:"w-full text-left px-3 py-2 text-sm hover:bg-red-50 text-red-500 flex items-center gap-2",children:[f.jsx(jn,{size:16})," Eliminar workspace"]})]})})}):null}function JE({isOpen:n,onClose:e,actions:r,setActiveDatabaseId:i,setUi:o}){const[l,u]=z.useState(""),[d,h]=z.useState("table"),m=()=>{if(!l.trim())return;const v=r.addDatabase(l,"fullpage",null);o(x=>({...x,currentView:"database"})),i(v),u(""),e()};return n?f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:e,children:f.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6",onClick:v=>v.stopPropagation(),children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h2",{className:"text-xl font-bold",children:"Nueva Base de Datos"}),f.jsx("button",{onClick:e,className:"text-zinc-400 hover:text-zinc-600",children:f.jsx(xs,{size:20})})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-2",children:"Nombre"}),f.jsx("input",{type:"text",value:l,onChange:v=>u(v.target.value),onKeyDown:v=>v.key==="Enter"&&m(),autoFocus:!0,placeholder:"Mi base de datos...",className:"w-full px-3 py-2 border border-zinc-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-zinc-700 mb-2",children:"Vista inicial"}),f.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[f.jsxs("button",{onClick:()=>h("table"),className:`p-3 border rounded-lg flex flex-col items-center gap-2 transition-colors ${d==="table"?"border-blue-500 bg-blue-50 text-blue-700":"border-zinc-200 hover:bg-zinc-50"}`,children:[f.jsx($_,{size:20}),f.jsx("span",{className:"text-xs",children:"Tabla"})]}),f.jsxs("button",{onClick:()=>h("board"),className:`p-3 border rounded-lg flex flex-col items-center gap-2 transition-colors ${d==="board"?"border-blue-500 bg-blue-50 text-blue-700":"border-zinc-200 hover:bg-zinc-50"}`,children:[f.jsx(U_,{size:20}),f.jsx("span",{className:"text-xs",children:"Tablero"})]}),f.jsxs("button",{onClick:()=>h("list"),className:`p-3 border rounded-lg flex flex-col items-center gap-2 transition-colors ${d==="list"?"border-blue-500 bg-blue-50 text-blue-700":"border-zinc-200 hover:bg-zinc-50"}`,children:[f.jsx(jg,{size:20}),f.jsx("span",{className:"text-xs",children:"Lista"})]})]})]})]}),f.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[f.jsx("button",{onClick:e,className:"px-4 py-2 text-zinc-600 hover:bg-zinc-100 rounded-lg transition-colors",children:"Cancelar"}),f.jsx("button",{onClick:m,disabled:!l.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Crear"})]})]})}):null}function YE({session:n,onLogout:e}){const{workspaces:r,userProfile:i,activeWorkspace:o,activeWorkspaceId:l,activePage:u,activePageId:d,themes:h,activeTheme:m,activeThemeId:v,fonts:x,activeFontId:y,downloads:w,actions:_,setWorkspaces:S,setActiveWorkspaceId:E}=vd(),M=z.useMemo(()=>Sj(m),[m]);kj(M);const[T,j]=z.useState({sidebarOpen:!0,currentView:"home",settingsSection:"account",modals:{search:!1,market:!1,ai:!1,workspaceMenu:!1,iconPicker:!1,iconPickerModal:!1,coverGallery:!1,pageOptions:!1,createWorkspace:!1,createDatabase:!1,googleLogin:!1},iconPickerTab:"emoji",notification:{show:!1,message:""},isAuthenticated:!0,favoritesOpen:!0,pagesOpen:!0}),[R,q]=z.useState(null),[F,C]=z.useState(!1),[A,D]=z.useState(""),[B,J]=z.useState({scope:"all",sort:"newest",date:"any"}),[ne,le]=z.useState(""),[me,Fe]=z.useState(!1),[xe,be]=z.useState({styles:[],fonts:[],covers:[]}),[G,se]=z.useState(!1),[Y,N]=z.useState(""),[$,he]=z.useState({isOpen:!1,pageId:null,x:0,y:0}),[ge,_e]=z.useState(window.innerWidth<768),ve=async()=>{se(!0);try{const pe=Object.entries(Object.assign({"../assets/stylesApp/dark-theme.css":Dx,"../assets/stylesApp/gaming-theme.css":Mx,"../assets/stylesApp/medieval-theme.css":Vx,"../assets/stylesApp/rock-metal-theme.css":Bx})).map(([De,Pt])=>{const ct=De.split("/").pop().split(".")[0].replace(/-/g," ");return{id:ct.toLowerCase().replace(/\s+/g,"-"),name:ct.charAt(0).toUpperCase()+ct.slice(1),author:"Local",preview:"",type:"css",url:Pt,colors:{bg:"#1a1a1a",text:"#ffffff"}}}),Se=Object.entries(Object.assign({"../assets/coversApp/110237-textura-negro-fila-monocromo-luz-2560x1440.jpg":$x,"../assets/coversApp/de97792143941f91556fe8e7873fd407.gif":Fx,"../assets/coversApp/smooth-3d-with-horizontal-rectangular-outcroppings-a-white-abstract-texture-powerpoint-background_0322f229b8__960_540.avif":Ux})).map(([De,Pt])=>{const ct=De.split("/").pop().split(".")[0].replace(/-/g," ");return{id:ct,name:ct,author:"Local",preview:Pt,type:"cover"}}),He=Object.entries(Object.assign({"../assets/iconsApp/connectdevelop-brands-solid-full.svg":Wx,"../assets/iconsApp/creative-commons-share-brands-solid-full.svg":Hx,"../assets/iconsApp/flutter-brands-solid-full.svg":qx,"../assets/iconsApp/galactic-republic-brands-solid-full.svg":Kx})).map(([De,Pt])=>{const ct=De.split("/").pop().split(".")[0].replace(/-/g," ");return{id:ct,name:ct,author:"Local",preview:"",type:"icon",url:Pt}}),Ne=Object.entries(Object.assign({"../assets/tipographyApp/aerosoldier/AerosoldierBasicSymbol_PERSONAL_USE_ONLY.otf":Gx,"../assets/tipographyApp/aerosoldier/AerosoldierBasic_PERSONAL_USE_ONLY.otf":Jx,"../assets/tipographyApp/aerosoldier/AerosoldierDripSymbol_PERSONAL_USE_ONLY.otf":Yx,"../assets/tipographyApp/aerosoldier/AerosoldierDrip_PERSONAL_USE_ONLY.otf":Qx,"../assets/tipographyApp/aerosoldier/AerosoldierSpraySymbol_PERSONAL_USE_ONLY.otf":Xx,"../assets/tipographyApp/aerosoldier/AerosoldierSpray_PERSONAL_USE_ONLY.otf":Zx,"../assets/tipographyApp/aerosoldier/AerosoldierSymbol_PERSONAL_USE_ONLY.otf":e2,"../assets/tipographyApp/aerosoldier/Aerosoldier_PERSONAL_USE_ONLY.otf":t2,"../assets/tipographyApp/hollyskates/Holly Skates.otf":n2})).map(([De,Pt])=>{const ct=De.split("/"),En=ct[ct.length-2];return{id:En,name:En,author:"Local",preview:"Aa",type:"font",url:Pt}}),ot=Array.from(new Map(Ne.map(De=>[De.name,De])).values());be({styles:pe,icons:He,fonts:ot,covers:Se,templates:[]})}catch(pe){console.error("Error fetching local market data:",pe)}finally{se(!1)}};z.useEffect(()=>{T.modals.market&&ve()},[T.modals.market]),z.useEffect(()=>{const pe=()=>{const Se=window.innerWidth<768;_e(Se),Se&&T.sidebarOpen&&j(He=>({...He,sidebarOpen:!1}))};return window.addEventListener("resize",pe),()=>window.removeEventListener("resize",pe)},[T.sidebarOpen]),z.useEffect(()=>{if(n?.user){const pe=n.user.email;if(Ai.restoreBackup(pe)&&_.internalSetters)try{const He=JSON.parse(localStorage.getItem("notion_v82_ws")),Ne=JSON.parse(localStorage.getItem("notion_v82_themes")),ot=JSON.parse(localStorage.getItem("notion_v82_fonts")),De=JSON.parse(localStorage.getItem("notion_v82_active_id")),Pt=JSON.parse(localStorage.getItem("notion_v82_active_theme"));He&&_.internalSetters.setWorkspaces(He),Ne&&_.internalSetters.setThemes(Ne),ot&&_.internalSetters.setFonts(ot),De&&_.internalSetters.setActiveWorkspaceId(De),Pt&&_.internalSetters.setActiveThemeId(Pt)}catch(He){console.error("Error restoring backup:",He)}}},[n,_.internalSetters]);const Ee=pe=>{j(Se=>({...Se,notification:{show:!0,message:pe}})),setTimeout(()=>j(Se=>({...Se,notification:{show:!1,message:""}})),3e3)},ke=()=>j(pe=>({...pe,sidebarOpen:!pe.sidebarOpen})),Te=z.useMemo(()=>{let pe=[];B.scope==="all"?r.forEach(Ne=>Ne.pages.forEach(ot=>{ot.isDeleted||pe.push({...ot,workspaceName:Ne.name,workspaceId:Ne.id})})):o&&o.pages.forEach(Ne=>{Ne.isDeleted||pe.push({...Ne,workspaceName:o.name,workspaceId:o.id})});let Se=pe;A.trim()&&(Se=Se.filter(Ne=>Ne.title.toLowerCase().includes(A.toLowerCase())));const He=new Date;return B.date==="today"?Se=Se.filter(Ne=>new Date(Ne.updatedAt)>=new Date(He.setHours(0,0,0,0))):B.date==="week"?Se=Se.filter(Ne=>new Date(Ne.updatedAt)>=new Date(He.setDate(He.getDate()-7))):B.date==="month"&&(Se=Se.filter(Ne=>new Date(Ne.updatedAt)>=new Date(He.setMonth(He.getMonth()-1)))),Se.sort((Ne,ot)=>B.sort==="newest"?new Date(ot.updatedAt)-new Date(Ne.updatedAt):B.sort==="oldest"?new Date(Ne.updatedAt)-new Date(ot.updatedAt):Ne.title.localeCompare(ot.title)),Se},[A,o,r,B]),Ye=(pe,Se)=>{Se.preventDefault(),he({isOpen:!0,pageId:pe,x:Se.clientX,y:Se.clientY})};z.useEffect(()=>{const pe=()=>he({...$,isOpen:!1});return window.addEventListener("click",pe),()=>window.removeEventListener("click",pe)},[$]);const _t=(pe,Se)=>{const He={personal:[{title:"Tareas",icon:"",blocks:[{id:ye.generateId(),type:"h1",content:"Mis Tareas"},{id:ye.generateId(),type:"todo",content:"Organizar escritorio",checked:!1}]},{title:"Notas",icon:"",blocks:[{id:ye.generateId(),type:"h1",content:"Notas Rpidas"}]},{title:"Diario",icon:"",blocks:[{id:ye.generateId(),type:"h1",content:"Mi Diario"}]}],work:[{title:"Proyectos",icon:"",blocks:[{id:ye.generateId(),type:"h1",content:"Proyectos Activos"}]},{title:"Reuniones",icon:"",blocks:[{id:ye.generateId(),type:"h1",content:"Ac tas de Reuniones"}]},{title:"Ideas",icon:"",blocks:[{id:ye.generateId(),type:"h1",content:"Ideas Nuevas"}]},{title:"Recursos",icon:"",blocks:[{id:ye.generateId(),type:"h1",content:"Enlaces y Herramientas"}]}],study:[{title:"Apuntes",icon:"",blocks:[{id:ye.generateId(),type:"h1",content:"Resum en de Clases"}]},{title:"Tareas",icon:"",blocks:[{id:ye.generateId(),type:"h1",content:"Tareas Pendientes"}]},{title:"Recursos",icon:"",blocks:[{id:ye.generateId(),type:"h1",content:"Material de Estudio"}]}]},Ne=Se&&He[Se]?He[Se].map(De=>({id:ye.generateId(),title:De.title,icon:De.icon,cover:null,comments:[],inInbox:!1,isFavorite:!1,isDeleted:!1,isGenerating:!1,parentId:null,updatedAt:new Date().toISOString(),blocks:De.blocks||[]})):[],ot={id:ye.generateId(),name:pe,initial:pe[0].toUpperCase(),color:"from-indigo-500 to-purple-500",email:i.email,pages:Ne};S(De=>[...De,ot]),E(ot.id)};return r.length===0?f.jsx(FE,{onCreateWorkspace:_t}):f.jsxs("div",{className:"flex h-screen w-full overflow-hidden bg-[var(--bg-color)] text-[var(--text-color)]",style:{fontFamily:"var(--font-main)"},children:[f.jsx(Ej,{ui:T,setUi:j,activeWorkspace:o,activeWorkspaceId:l,activePageId:d,activeDatabaseId:R,actions:_,userProfile:i,workspaces:r,handleContextMenu:Ye,setActiveDatabaseId:q}),f.jsxs("main",{className:"flex-1 h-full relative flex flex-col min-w-0 bg-[var(--bg-color)]",children:[f.jsxs(Ei,{mode:"wait",children:[T.currentView==="home"&&f.jsx(SE,{workspaces:r,activeWorkspace:o,actions:_,setUi:j}),T.currentView==="inbox"&&f.jsx(jE,{activeWorkspace:o,actions:_}),T.currentView==="trash"&&f.jsx(EE,{activeWorkspace:o,actions:_,showNotify:Ee}),T.currentView==="settings"&&f.jsx(CE,{ui:T,setUi:j,userProfile:i,actions:_,themes:h,activeThemeId:v,fonts:x,activeFontId:y,fetchMarketData:ve,onLogout:e,activeWorkspaceId:l}),T.currentView==="page"&&f.jsx($E,{activePage:u,activePageId:d,ui:T,setUi:j,actions:_,downloads:w,isMobile:ge,toggleSidebar:ke}),T.currentView==="database"&&R&&f.jsx(Tv,{databaseId:R}),T.modals.createWorkspace&&f.jsx(t0,{ui:T,setUi:j,newWorkspaceName:Y,setNewWorkspaceName:N,actions:_}),T.modals.workspaceMenu&&f.jsx(e0,{ui:T,setUi:j,workspaces:r,userProfile:i,activeWorkspaceId:l,actions:_,onLogout:e})]}),f.jsxs(Ei,{children:[T.modals.search&&f.jsx(UE,{ui:T,setUi:j,searchQuery:A,setSearchQuery:D,searchFilters:B,setSearchFilters:J,filteredPages:Te,actions:_}),T.modals.ai&&f.jsx(WE,{ui:T,setUi:j,aiPrompt:ne,setAiPrompt:le,isAiGenerating:me,setIsAiGenerating:Fe,actions:_,newWorkspaceName:Y,setNewWorkspaceName:N}),T.modals.market&&f.jsx(HE,{isOpen:T.modals.market,onClose:()=>j(pe=>({...pe,modals:{...pe.modals,market:!1}})),ui:T,setUi:j,loadingMarket:G,marketData:xe,themes:h,fonts:x,actions:_,showNotify:Ee,activePageId:d,downloads:w}),T.modals.iconPicker&&f.jsx(qE,{isOpen:T.modals.iconPicker,onClose:()=>j(pe=>({...pe,modals:{...pe.modals,iconPicker:!1}})),ui:T,setUi:j,actions:_,activePageId:d}),T.modals.coverGallery&&f.jsx(KE,{isOpen:T.modals.coverGallery,onClose:()=>j(pe=>({...pe,modals:{...pe.modals,coverGallery:!1}})),ui:T,setUi:j,actions:_,activePageId:d,marketData:xe,downloads:w}),T.modals.pageOptions&&f.jsx(GE,{isOpen:T.modals.pageOptions,onClose:()=>j(pe=>({...pe,modals:{...pe.modals,pageOptions:!1}})),ui:T,setUi:j,actions:_,activePage:u,activePageId:d}),T.modals.createWorkspace&&f.jsx(t0,{ui:T,setUi:j,newWorkspaceName:Y,setNewWorkspaceName:N,actions:_}),T.modals.workspaceMenu&&f.jsx(e0,{ui:T,setUi:j,workspaces:r,userProfile:i,activeWorkspaceId:l,actions:_,onLogout:e}),T.modals.createDatabase&&f.jsx(JE,{isOpen:T.modals.createDatabase,onClose:()=>j(pe=>({...pe,modals:{...pe.modals,createDatabase:!1}})),actions:_,setActiveDatabaseId:q,setUi:j})]}),f.jsx(Tj,{isOpen:$.isOpen,x:$.x,y:$.y,pageId:$.pageId,onClose:()=>he({...$,isOpen:!1}),actions:_,activeWorkspace:o})]})]})}function QE(){const[n,e]=z.useState(null),[r,i]=z.useState(!0);z.useEffect(()=>{(async()=>{if(Lt){const{data:{session:d}}=await Lt.auth.getSession();e(d);const{data:{subscription:h}}=Lt.auth.onAuthStateChange((m,v)=>{e(v)});return i(!1),()=>h.unsubscribe()}else{const d=localStorage.getItem("notion_mock_user");d&&e({user:JSON.parse(d)}),i(!1)}})()},[]);const o=u=>{e({user:u})},l=async()=>{await _i.logout(),e(null)};return r?f.jsx("div",{className:"flex items-center justify-center h-screen",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-zinc-900"})}):n?f.jsx(YE,{session:n,onLogout:l}):f.jsx(jj,{onLoginSuccess:o})}class XE extends ja.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,r){this.setState({error:e,errorInfo:r}),console.error("Uncaught error:",e,r)}render(){return this.state.hasError?f.jsxs("div",{style:{padding:"20px",color:"red",fontFamily:"monospace"},children:[f.jsx("h1",{children:"Something went wrong."}),f.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),f.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}):this.props.children}}zx.createRoot(document.getElementById("root")).render(f.jsx(ja.StrictMode,{children:f.jsx(XE,{children:f.jsx(QE,{})})}));
