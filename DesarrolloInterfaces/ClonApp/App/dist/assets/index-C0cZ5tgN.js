function uw(n,e){for(var r=0;r<e.length;r++){const i=e[r];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in n)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(n,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();function Pc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function cw(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var r=function i(){var a=!1;try{a=this instanceof i}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var a=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(r,i,a.get?a:{enumerable:!0,get:function(){return n[i]}})}),r}var Su={exports:{}},Ys={},ku={exports:{}},pe={};var sp;function dw(){if(sp)return pe;sp=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function _(T){return T===null||typeof T!="object"?null:(T=v&&T[v]||T["@@iterator"],typeof T=="function"?T:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,k={};function j(T,V,J){this.props=T,this.context=V,this.refs=k,this.updater=J||x}j.prototype.isReactComponent={},j.prototype.setState=function(T,V){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,V,"setState")},j.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function I(){}I.prototype=j.prototype;function A(T,V,J){this.props=T,this.context=V,this.refs=k,this.updater=J||x}var C=A.prototype=new I;C.constructor=A,S(C,j.prototype),C.isPureReactComponent=!0;var z=Array.isArray,D=Object.prototype.hasOwnProperty,M={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function W(T,V,J){var Y,le={},ne=null,he=null;if(V!=null)for(Y in V.ref!==void 0&&(he=V.ref),V.key!==void 0&&(ne=""+V.key),V)D.call(V,Y)&&!$.hasOwnProperty(Y)&&(le[Y]=V[Y]);var ye=arguments.length-2;if(ye===1)le.children=J;else if(1<ye){for(var be=Array(ye),Qe=0;Qe<ye;Qe++)be[Qe]=arguments[Qe+2];le.children=be}if(T&&T.defaultProps)for(Y in ye=T.defaultProps,ye)le[Y]===void 0&&(le[Y]=ye[Y]);return{$$typeof:n,type:T,key:ne,ref:he,props:le,_owner:M.current}}function ee(T,V){return{$$typeof:n,type:T.type,key:V,ref:T.ref,props:T.props,_owner:T._owner}}function je(T){return typeof T=="object"&&T!==null&&T.$$typeof===n}function qe(T){var V={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(J){return V[J]})}var xe=/\/+/g;function ke(T,V){return typeof T=="object"&&T!==null&&T.key!=null?qe(""+T.key):V.toString(36)}function fe(T,V,J,Y,le){var ne=typeof T;(ne==="undefined"||ne==="boolean")&&(T=null);var he=!1;if(T===null)he=!0;else switch(ne){case"string":case"number":he=!0;break;case"object":switch(T.$$typeof){case n:case e:he=!0}}if(he)return he=T,le=le(he),T=Y===""?"."+ke(he,0):Y,z(le)?(J="",T!=null&&(J=T.replace(xe,"$&/")+"/"),fe(le,V,J,"",function(Qe){return Qe})):le!=null&&(je(le)&&(le=ee(le,J+(!le.key||he&&he.key===le.key?"":(""+le.key).replace(xe,"$&/")+"/")+T)),V.push(le)),1;if(he=0,Y=Y===""?".":Y+":",z(T))for(var ye=0;ye<T.length;ye++){ne=T[ye];var be=Y+ke(ne,ye);he+=fe(ne,V,J,be,le)}else if(be=_(T),typeof be=="function")for(T=be.call(T),ye=0;!(ne=T.next()).done;)ne=ne.value,be=Y+ke(ne,ye++),he+=fe(ne,V,J,be,le);else if(ne==="object")throw V=String(T),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return he}function Ae(T,V,J){if(T==null)return T;var Y=[],le=0;return fe(T,Y,"","",function(ne){return V.call(J,ne,le++)}),Y}function me(T){if(T._status===-1){var V=T._result;V=V(),V.then(function(J){(T._status===0||T._status===-1)&&(T._status=1,T._result=J)},function(J){(T._status===0||T._status===-1)&&(T._status=2,T._result=J)}),T._status===-1&&(T._status=0,T._result=V)}if(T._status===1)return T._result.default;throw T._result}var ve={current:null},q={transition:null},te={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:q,ReactCurrentOwner:M};function K(){throw Error("act(...) is not supported in production builds of React.")}return pe.Children={map:Ae,forEach:function(T,V,J){Ae(T,function(){V.apply(this,arguments)},J)},count:function(T){var V=0;return Ae(T,function(){V++}),V},toArray:function(T){return Ae(T,function(V){return V})||[]},only:function(T){if(!je(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},pe.Component=j,pe.Fragment=r,pe.Profiler=a,pe.PureComponent=A,pe.StrictMode=i,pe.Suspense=h,pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,pe.act=K,pe.cloneElement=function(T,V,J){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var Y=S({},T.props),le=T.key,ne=T.ref,he=T._owner;if(V!=null){if(V.ref!==void 0&&(ne=V.ref,he=M.current),V.key!==void 0&&(le=""+V.key),T.type&&T.type.defaultProps)var ye=T.type.defaultProps;for(be in V)D.call(V,be)&&!$.hasOwnProperty(be)&&(Y[be]=V[be]===void 0&&ye!==void 0?ye[be]:V[be])}var be=arguments.length-2;if(be===1)Y.children=J;else if(1<be){ye=Array(be);for(var Qe=0;Qe<be;Qe++)ye[Qe]=arguments[Qe+2];Y.children=ye}return{$$typeof:n,type:T.type,key:le,ref:ne,props:Y,_owner:he}},pe.createContext=function(T){return T={$$typeof:u,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:l,_context:T},T.Consumer=T},pe.createElement=W,pe.createFactory=function(T){var V=W.bind(null,T);return V.type=T,V},pe.createRef=function(){return{current:null}},pe.forwardRef=function(T){return{$$typeof:d,render:T}},pe.isValidElement=je,pe.lazy=function(T){return{$$typeof:g,_payload:{_status:-1,_result:T},_init:me}},pe.memo=function(T,V){return{$$typeof:p,type:T,compare:V===void 0?null:V}},pe.startTransition=function(T){var V=q.transition;q.transition={};try{T()}finally{q.transition=V}},pe.unstable_act=K,pe.useCallback=function(T,V){return ve.current.useCallback(T,V)},pe.useContext=function(T){return ve.current.useContext(T)},pe.useDebugValue=function(){},pe.useDeferredValue=function(T){return ve.current.useDeferredValue(T)},pe.useEffect=function(T,V){return ve.current.useEffect(T,V)},pe.useId=function(){return ve.current.useId()},pe.useImperativeHandle=function(T,V,J){return ve.current.useImperativeHandle(T,V,J)},pe.useInsertionEffect=function(T,V){return ve.current.useInsertionEffect(T,V)},pe.useLayoutEffect=function(T,V){return ve.current.useLayoutEffect(T,V)},pe.useMemo=function(T,V){return ve.current.useMemo(T,V)},pe.useReducer=function(T,V,J){return ve.current.useReducer(T,V,J)},pe.useRef=function(T){return ve.current.useRef(T)},pe.useState=function(T){return ve.current.useState(T)},pe.useSyncExternalStore=function(T,V,J){return ve.current.useSyncExternalStore(T,V,J)},pe.useTransition=function(){return ve.current.useTransition()},pe.version="18.3.1",pe}var ip;function Cc(){return ip||(ip=1,ku.exports=dw()),ku.exports}var op;function hw(){if(op)return Ys;op=1;var n=Cc(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(d,h,p){var g,v={},_=null,x=null;p!==void 0&&(_=""+p),h.key!==void 0&&(_=""+h.key),h.ref!==void 0&&(x=h.ref);for(g in h)i.call(h,g)&&!l.hasOwnProperty(g)&&(v[g]=h[g]);if(d&&d.defaultProps)for(g in h=d.defaultProps,h)v[g]===void 0&&(v[g]=h[g]);return{$$typeof:e,type:d,key:_,ref:x,props:v,_owner:a.current}}return Ys.Fragment=r,Ys.jsx=u,Ys.jsxs=u,Ys}var ap;function fw(){return ap||(ap=1,Su.exports=hw()),Su.exports}var y=fw(),L=Cc();const ha=Pc(L);var Io={},Eu={exports:{}},wt={},ju={exports:{}},Tu={};var lp;function pw(){return lp||(lp=1,(function(n){function e(q,te){var K=q.length;q.push(te);e:for(;0<K;){var T=K-1>>>1,V=q[T];if(0<a(V,te))q[T]=te,q[K]=V,K=T;else break e}}function r(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var te=q[0],K=q.pop();if(K!==te){q[0]=K;e:for(var T=0,V=q.length,J=V>>>1;T<J;){var Y=2*(T+1)-1,le=q[Y],ne=Y+1,he=q[ne];if(0>a(le,K))ne<V&&0>a(he,le)?(q[T]=he,q[ne]=K,T=ne):(q[T]=le,q[Y]=K,T=Y);else if(ne<V&&0>a(he,K))q[T]=he,q[ne]=K,T=ne;else break e}}return te}function a(q,te){var K=q.sortIndex-te.sortIndex;return K!==0?K:q.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var h=[],p=[],g=1,v=null,_=3,x=!1,S=!1,k=!1,j=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(q){for(var te=r(p);te!==null;){if(te.callback===null)i(p);else if(te.startTime<=q)i(p),te.sortIndex=te.expirationTime,e(h,te);else break;te=r(p)}}function z(q){if(k=!1,C(q),!S)if(r(h)!==null)S=!0,me(D);else{var te=r(p);te!==null&&ve(z,te.startTime-q)}}function D(q,te){S=!1,k&&(k=!1,I(W),W=-1),x=!0;var K=_;try{for(C(te),v=r(h);v!==null&&(!(v.expirationTime>te)||q&&!qe());){var T=v.callback;if(typeof T=="function"){v.callback=null,_=v.priorityLevel;var V=T(v.expirationTime<=te);te=n.unstable_now(),typeof V=="function"?v.callback=V:v===r(h)&&i(h),C(te)}else i(h);v=r(h)}if(v!==null)var J=!0;else{var Y=r(p);Y!==null&&ve(z,Y.startTime-te),J=!1}return J}finally{v=null,_=K,x=!1}}var M=!1,$=null,W=-1,ee=5,je=-1;function qe(){return!(n.unstable_now()-je<ee)}function xe(){if($!==null){var q=n.unstable_now();je=q;var te=!0;try{te=$(!0,q)}finally{te?ke():(M=!1,$=null)}}else M=!1}var ke;if(typeof A=="function")ke=function(){A(xe)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,Ae=fe.port2;fe.port1.onmessage=xe,ke=function(){Ae.postMessage(null)}}else ke=function(){j(xe,0)};function me(q){$=q,M||(M=!0,ke())}function ve(q,te){W=j(function(){q(n.unstable_now())},te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_continueExecution=function(){S||x||(S=!0,me(D))},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return r(h)},n.unstable_next=function(q){switch(_){case 1:case 2:case 3:var te=3;break;default:te=_}var K=_;_=te;try{return q()}finally{_=K}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(q,te){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var K=_;_=q;try{return te()}finally{_=K}},n.unstable_scheduleCallback=function(q,te,K){var T=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?T+K:T):K=T,q){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=K+V,q={id:g++,callback:te,priorityLevel:q,startTime:K,expirationTime:V,sortIndex:-1},K>T?(q.sortIndex=K,e(p,q),r(h)===null&&q===r(p)&&(k?(I(W),W=-1):k=!0,ve(z,K-T))):(q.sortIndex=V,e(h,q),S||x||(S=!0,me(D))),q},n.unstable_shouldYield=qe,n.unstable_wrapCallback=function(q){var te=_;return function(){var K=_;_=te;try{return q.apply(this,arguments)}finally{_=K}}}})(Tu)),Tu}var up;function mw(){return up||(up=1,ju.exports=pw()),ju.exports}var cp;function gw(){if(cp)return wt;cp=1;var n=Cc(),e=mw();function r(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function l(t,s){u(t,s),u(t+"Capture",s)}function u(t,s){for(a[t]=s,t=0;t<s.length;t++)i.add(s[t])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function _(t){return h.call(v,t)?!0:h.call(g,t)?!1:p.test(t)?v[t]=!0:(g[t]=!0,!1)}function x(t,s,o,c){if(o!==null&&o.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function S(t,s,o,c){if(s===null||typeof s>"u"||x(t,s,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function k(t,s,o,c,f,m,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=o,this.propertyName=t,this.type=s,this.sanitizeURL=m,this.removeEmptyString=w}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){j[t]=new k(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];j[s]=new k(s,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){j[t]=new k(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){j[t]=new k(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){j[t]=new k(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){j[t]=new k(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){j[t]=new k(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){j[t]=new k(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){j[t]=new k(t,5,!1,t.toLowerCase(),null,!1,!1)});var I=/[\-:]([a-z])/g;function A(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(I,A);j[s]=new k(s,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(I,A);j[s]=new k(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(I,A);j[s]=new k(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){j[t]=new k(t,1,!1,t.toLowerCase(),null,!1,!1)}),j.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){j[t]=new k(t,1,!1,t.toLowerCase(),null,!0,!0)});function C(t,s,o,c){var f=j.hasOwnProperty(s)?j[s]:null;(f!==null?f.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(S(s,o,f,c)&&(o=null),c||f===null?_(s)&&(o===null?t.removeAttribute(s):t.setAttribute(s,""+o)):f.mustUseProperty?t[f.propertyName]=o===null?f.type===3?!1:"":o:(s=f.attributeName,c=f.attributeNamespace,o===null?t.removeAttribute(s):(f=f.type,o=f===3||f===4&&o===!0?"":""+o,c?t.setAttributeNS(c,s,o):t.setAttribute(s,o))))}var z=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),M=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),je=Symbol.for("react.provider"),qe=Symbol.for("react.context"),xe=Symbol.for("react.forward_ref"),ke=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),Ae=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),q=Symbol.iterator;function te(t){return t===null||typeof t!="object"?null:(t=q&&t[q]||t["@@iterator"],typeof t=="function"?t:null)}var K=Object.assign,T;function V(t){if(T===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);T=s&&s[1]||""}return`
`+T+t}var J=!1;function Y(t,s){if(!t||J)return"";J=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(N){var c=N}Reflect.construct(t,[],s)}else{try{s.call()}catch(N){c=N}t.call(s.prototype)}else{try{throw Error()}catch(N){c=N}t()}}catch(N){if(N&&c&&typeof N.stack=="string"){for(var f=N.stack.split(`
`),m=c.stack.split(`
`),w=f.length-1,b=m.length-1;1<=w&&0<=b&&f[w]!==m[b];)b--;for(;1<=w&&0<=b;w--,b--)if(f[w]!==m[b]){if(w!==1||b!==1)do if(w--,b--,0>b||f[w]!==m[b]){var E=`
`+f[w].replace(" at new "," at ");return t.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",t.displayName)),E}while(1<=w&&0<=b);break}}}finally{J=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?V(t):""}function le(t){switch(t.tag){case 5:return V(t.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return t=Y(t.type,!1),t;case 11:return t=Y(t.type.render,!1),t;case 1:return t=Y(t.type,!0),t;default:return""}}function ne(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case M:return"Portal";case ee:return"Profiler";case W:return"StrictMode";case ke:return"Suspense";case fe:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case qe:return(t.displayName||"Context")+".Consumer";case je:return(t._context.displayName||"Context")+".Provider";case xe:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ae:return s=t.displayName||null,s!==null?s:ne(t.type)||"Memo";case me:s=t._payload,t=t._init;try{return ne(t(s))}catch{}}return null}function he(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ne(s);case 8:return s===W?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ye(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function be(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Qe(t){var s=be(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),c=""+t[s];if(!t.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return f.call(this)},set:function(w){c=""+w,m.call(this,w)}}),Object.defineProperty(t,s,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Pt(t){t._valueTracker||(t._valueTracker=Qe(t))}function Ca(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return t&&(c=be(t)?t.checked?"true":"false":t.value),t=c,t!==o?(s.setValue(t),!0):!1}function ki(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Oa(t,s){var o=s.checked;return K({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function cd(t,s){var o=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;o=ye(s.value!=null?s.value:o),t._wrapperState={initialChecked:c,initialValue:o,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function dd(t,s){s=s.checked,s!=null&&C(t,"checked",s,!1)}function Aa(t,s){dd(t,s);var o=ye(s.value),c=s.type;if(o!=null)c==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?Ra(t,s.type,o):s.hasOwnProperty("defaultValue")&&Ra(t,s.type,ye(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function hd(t,s,o){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,o||s===t.value||(t.value=s),t.defaultValue=s}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Ra(t,s,o){(s!=="number"||ki(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var hs=Array.isArray;function br(t,s,o,c){if(t=t.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<t.length;o++)f=s.hasOwnProperty("$"+t[o].value),t[o].selected!==f&&(t[o].selected=f),f&&c&&(t[o].defaultSelected=!0)}else{for(o=""+ye(o),s=null,f=0;f<t.length;f++){if(t[f].value===o){t[f].selected=!0,c&&(t[f].defaultSelected=!0);return}s!==null||t[f].disabled||(s=t[f])}s!==null&&(s.selected=!0)}}function Na(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(r(91));return K({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function fd(t,s){var o=s.value;if(o==null){if(o=s.children,s=s.defaultValue,o!=null){if(s!=null)throw Error(r(92));if(hs(o)){if(1<o.length)throw Error(r(93));o=o[0]}s=o}s==null&&(s=""),o=s}t._wrapperState={initialValue:ye(o)}}function pd(t,s){var o=ye(s.value),c=ye(s.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),s.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),c!=null&&(t.defaultValue=""+c)}function md(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function gd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ia(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?gd(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ei,yd=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,o,c,f){MSApp.execUnsafeLocalFunction(function(){return t(s,o,c,f)})}:t})(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(Ei=Ei||document.createElement("div"),Ei.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Ei.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function fs(t,s){if(s){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=s;return}}t.textContent=s}var ps={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},f0=["Webkit","ms","Moz","O"];Object.keys(ps).forEach(function(t){f0.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),ps[s]=ps[t]})});function vd(t,s,o){return s==null||typeof s=="boolean"||s===""?"":o||typeof s!="number"||s===0||ps.hasOwnProperty(t)&&ps[t]?(""+s).trim():s+"px"}function wd(t,s){t=t.style;for(var o in s)if(s.hasOwnProperty(o)){var c=o.indexOf("--")===0,f=vd(o,s[o],c);o==="float"&&(o="cssFloat"),c?t.setProperty(o,f):t[o]=f}}var p0=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Da(t,s){if(s){if(p0[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(r(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(r(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(r(61))}if(s.style!=null&&typeof s.style!="object")throw Error(r(62))}}function Ma(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var za=null;function La(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Va=null,Sr=null,kr=null;function xd(t){if(t=Ms(t)){if(typeof Va!="function")throw Error(r(280));var s=t.stateNode;s&&(s=Gi(s),Va(t.stateNode,t.type,s))}}function _d(t){Sr?kr?kr.push(t):kr=[t]:Sr=t}function bd(){if(Sr){var t=Sr,s=kr;if(kr=Sr=null,xd(t),s)for(t=0;t<s.length;t++)xd(s[t])}}function Sd(t,s){return t(s)}function kd(){}var $a=!1;function Ed(t,s,o){if($a)return t(s,o);$a=!0;try{return Sd(t,s,o)}finally{$a=!1,(Sr!==null||kr!==null)&&(kd(),bd())}}function ms(t,s){var o=t.stateNode;if(o===null)return null;var c=Gi(o);if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Ba=!1;if(d)try{var gs={};Object.defineProperty(gs,"passive",{get:function(){Ba=!0}}),window.addEventListener("test",gs,gs),window.removeEventListener("test",gs,gs)}catch{Ba=!1}function m0(t,s,o,c,f,m,w,b,E){var N=Array.prototype.slice.call(arguments,3);try{s.apply(o,N)}catch(U){this.onError(U)}}var ys=!1,ji=null,Ti=!1,Ua=null,g0={onError:function(t){ys=!0,ji=t}};function y0(t,s,o,c,f,m,w,b,E){ys=!1,ji=null,m0.apply(g0,arguments)}function v0(t,s,o,c,f,m,w,b,E){if(y0.apply(this,arguments),ys){if(ys){var N=ji;ys=!1,ji=null}else throw Error(r(198));Ti||(Ti=!0,Ua=N)}}function qn(t){var s=t,o=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(o=s.return),t=s.return;while(t)}return s.tag===3?o:null}function jd(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function Td(t){if(qn(t)!==t)throw Error(r(188))}function w0(t){var s=t.alternate;if(!s){if(s=qn(t),s===null)throw Error(r(188));return s!==t?null:t}for(var o=t,c=s;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return Td(f),t;if(m===c)return Td(f),s;m=m.sibling}throw Error(r(188))}if(o.return!==c.return)o=f,c=m;else{for(var w=!1,b=f.child;b;){if(b===o){w=!0,o=f,c=m;break}if(b===c){w=!0,c=f,o=m;break}b=b.sibling}if(!w){for(b=m.child;b;){if(b===o){w=!0,o=m,c=f;break}if(b===c){w=!0,c=m,o=f;break}b=b.sibling}if(!w)throw Error(r(189))}}if(o.alternate!==c)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?t:s}function Pd(t){return t=w0(t),t!==null?Cd(t):null}function Cd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=Cd(t);if(s!==null)return s;t=t.sibling}return null}var Od=e.unstable_scheduleCallback,Ad=e.unstable_cancelCallback,x0=e.unstable_shouldYield,_0=e.unstable_requestPaint,Ve=e.unstable_now,b0=e.unstable_getCurrentPriorityLevel,Fa=e.unstable_ImmediatePriority,Rd=e.unstable_UserBlockingPriority,Pi=e.unstable_NormalPriority,S0=e.unstable_LowPriority,Nd=e.unstable_IdlePriority,Ci=null,Qt=null;function k0(t){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(Ci,t,void 0,(t.current.flags&128)===128)}catch{}}var Vt=Math.clz32?Math.clz32:T0,E0=Math.log,j0=Math.LN2;function T0(t){return t>>>=0,t===0?32:31-(E0(t)/j0|0)|0}var Oi=64,Ai=4194304;function vs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ri(t,s){var o=t.pendingLanes;if(o===0)return 0;var c=0,f=t.suspendedLanes,m=t.pingedLanes,w=o&268435455;if(w!==0){var b=w&~f;b!==0?c=vs(b):(m&=w,m!==0&&(c=vs(m)))}else w=o&~f,w!==0?c=vs(w):m!==0&&(c=vs(m));if(c===0)return 0;if(s!==0&&s!==c&&(s&f)===0&&(f=c&-c,m=s&-s,f>=m||f===16&&(m&4194240)!==0))return s;if((c&4)!==0&&(c|=o&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=c;0<s;)o=31-Vt(s),f=1<<o,c|=t[o],s&=~f;return c}function P0(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function C0(t,s){for(var o=t.suspendedLanes,c=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes;0<m;){var w=31-Vt(m),b=1<<w,E=f[w];E===-1?((b&o)===0||(b&c)!==0)&&(f[w]=P0(b,s)):E<=s&&(t.expiredLanes|=b),m&=~b}}function Wa(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Id(){var t=Oi;return Oi<<=1,(Oi&4194240)===0&&(Oi=64),t}function Ha(t){for(var s=[],o=0;31>o;o++)s.push(t);return s}function ws(t,s,o){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-Vt(s),t[s]=o}function O0(t,s){var o=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<o;){var f=31-Vt(o),m=1<<f;s[f]=0,c[f]=-1,t[f]=-1,o&=~m}}function qa(t,s){var o=t.entangledLanes|=s;for(t=t.entanglements;o;){var c=31-Vt(o),f=1<<c;f&s|t[c]&s&&(t[c]|=s),o&=~f}}var Se=0;function Dd(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Md,Ka,zd,Ld,Vd,Ga=!1,Ni=[],yn=null,vn=null,wn=null,xs=new Map,_s=new Map,xn=[],A0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $d(t,s){switch(t){case"focusin":case"focusout":yn=null;break;case"dragenter":case"dragleave":vn=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":xs.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":_s.delete(s.pointerId)}}function bs(t,s,o,c,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},s!==null&&(s=Ms(s),s!==null&&Ka(s)),t):(t.eventSystemFlags|=c,s=t.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),t)}function R0(t,s,o,c,f){switch(s){case"focusin":return yn=bs(yn,t,s,o,c,f),!0;case"dragenter":return vn=bs(vn,t,s,o,c,f),!0;case"mouseover":return wn=bs(wn,t,s,o,c,f),!0;case"pointerover":var m=f.pointerId;return xs.set(m,bs(xs.get(m)||null,t,s,o,c,f)),!0;case"gotpointercapture":return m=f.pointerId,_s.set(m,bs(_s.get(m)||null,t,s,o,c,f)),!0}return!1}function Bd(t){var s=Kn(t.target);if(s!==null){var o=qn(s);if(o!==null){if(s=o.tag,s===13){if(s=jd(o),s!==null){t.blockedOn=s,Vd(t.priority,function(){zd(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ii(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var o=Qa(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var c=new o.constructor(o.type,o);za=c,o.target.dispatchEvent(c),za=null}else return s=Ms(o),s!==null&&Ka(s),t.blockedOn=o,!1;s.shift()}return!0}function Ud(t,s,o){Ii(t)&&o.delete(s)}function N0(){Ga=!1,yn!==null&&Ii(yn)&&(yn=null),vn!==null&&Ii(vn)&&(vn=null),wn!==null&&Ii(wn)&&(wn=null),xs.forEach(Ud),_s.forEach(Ud)}function Ss(t,s){t.blockedOn===s&&(t.blockedOn=null,Ga||(Ga=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,N0)))}function ks(t){function s(f){return Ss(f,t)}if(0<Ni.length){Ss(Ni[0],t);for(var o=1;o<Ni.length;o++){var c=Ni[o];c.blockedOn===t&&(c.blockedOn=null)}}for(yn!==null&&Ss(yn,t),vn!==null&&Ss(vn,t),wn!==null&&Ss(wn,t),xs.forEach(s),_s.forEach(s),o=0;o<xn.length;o++)c=xn[o],c.blockedOn===t&&(c.blockedOn=null);for(;0<xn.length&&(o=xn[0],o.blockedOn===null);)Bd(o),o.blockedOn===null&&xn.shift()}var Er=z.ReactCurrentBatchConfig,Di=!0;function I0(t,s,o,c){var f=Se,m=Er.transition;Er.transition=null;try{Se=1,Ja(t,s,o,c)}finally{Se=f,Er.transition=m}}function D0(t,s,o,c){var f=Se,m=Er.transition;Er.transition=null;try{Se=4,Ja(t,s,o,c)}finally{Se=f,Er.transition=m}}function Ja(t,s,o,c){if(Di){var f=Qa(t,s,o,c);if(f===null)fl(t,s,c,Mi,o),$d(t,c);else if(R0(f,t,s,o,c))c.stopPropagation();else if($d(t,c),s&4&&-1<A0.indexOf(t)){for(;f!==null;){var m=Ms(f);if(m!==null&&Md(m),m=Qa(t,s,o,c),m===null&&fl(t,s,c,Mi,o),m===f)break;f=m}f!==null&&c.stopPropagation()}else fl(t,s,c,null,o)}}var Mi=null;function Qa(t,s,o,c){if(Mi=null,t=La(c),t=Kn(t),t!==null)if(s=qn(t),s===null)t=null;else if(o=s.tag,o===13){if(t=jd(s),t!==null)return t;t=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return Mi=t,null}function Fd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(b0()){case Fa:return 1;case Rd:return 4;case Pi:case S0:return 16;case Nd:return 536870912;default:return 16}default:return 16}}var _n=null,Ya=null,zi=null;function Wd(){if(zi)return zi;var t,s=Ya,o=s.length,c,f="value"in _n?_n.value:_n.textContent,m=f.length;for(t=0;t<o&&s[t]===f[t];t++);var w=o-t;for(c=1;c<=w&&s[o-c]===f[m-c];c++);return zi=f.slice(t,1<c?1-c:void 0)}function Li(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Vi(){return!0}function Hd(){return!1}function xt(t){function s(o,c,f,m,w){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(o=t[b],this[b]=o?o(m):m[b]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Vi:Hd,this.isPropagationStopped=Hd,this}return K(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),s}var jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xa=xt(jr),Es=K({},jr,{view:0,detail:0}),M0=xt(Es),Za,el,js,$i=K({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==js&&(js&&t.type==="mousemove"?(Za=t.screenX-js.screenX,el=t.screenY-js.screenY):el=Za=0,js=t),Za)},movementY:function(t){return"movementY"in t?t.movementY:el}}),qd=xt($i),z0=K({},$i,{dataTransfer:0}),L0=xt(z0),V0=K({},Es,{relatedTarget:0}),tl=xt(V0),$0=K({},jr,{animationName:0,elapsedTime:0,pseudoElement:0}),B0=xt($0),U0=K({},jr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),F0=xt(U0),W0=K({},jr,{data:0}),Kd=xt(W0),H0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},q0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},K0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function G0(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=K0[t])?!!s[t]:!1}function nl(){return G0}var J0=K({},Es,{key:function(t){if(t.key){var s=H0[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Li(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?q0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nl,charCode:function(t){return t.type==="keypress"?Li(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Li(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Q0=xt(J0),Y0=K({},$i,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gd=xt(Y0),X0=K({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nl}),Z0=xt(X0),ev=K({},jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),tv=xt(ev),nv=K({},$i,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rv=xt(nv),sv=[9,13,27,32],rl=d&&"CompositionEvent"in window,Ts=null;d&&"documentMode"in document&&(Ts=document.documentMode);var iv=d&&"TextEvent"in window&&!Ts,Jd=d&&(!rl||Ts&&8<Ts&&11>=Ts),Qd=" ",Yd=!1;function Xd(t,s){switch(t){case"keyup":return sv.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Tr=!1;function ov(t,s){switch(t){case"compositionend":return Zd(s);case"keypress":return s.which!==32?null:(Yd=!0,Qd);case"textInput":return t=s.data,t===Qd&&Yd?null:t;default:return null}}function av(t,s){if(Tr)return t==="compositionend"||!rl&&Xd(t,s)?(t=Wd(),zi=Ya=_n=null,Tr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Jd&&s.locale!=="ko"?null:s.data;default:return null}}var lv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eh(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!lv[t.type]:s==="textarea"}function th(t,s,o,c){_d(c),s=Hi(s,"onChange"),0<s.length&&(o=new Xa("onChange","change",null,o,c),t.push({event:o,listeners:s}))}var Ps=null,Cs=null;function uv(t){wh(t,0)}function Bi(t){var s=Rr(t);if(Ca(s))return t}function cv(t,s){if(t==="change")return s}var nh=!1;if(d){var sl;if(d){var il="oninput"in document;if(!il){var rh=document.createElement("div");rh.setAttribute("oninput","return;"),il=typeof rh.oninput=="function"}sl=il}else sl=!1;nh=sl&&(!document.documentMode||9<document.documentMode)}function sh(){Ps&&(Ps.detachEvent("onpropertychange",ih),Cs=Ps=null)}function ih(t){if(t.propertyName==="value"&&Bi(Cs)){var s=[];th(s,Cs,t,La(t)),Ed(uv,s)}}function dv(t,s,o){t==="focusin"?(sh(),Ps=s,Cs=o,Ps.attachEvent("onpropertychange",ih)):t==="focusout"&&sh()}function hv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bi(Cs)}function fv(t,s){if(t==="click")return Bi(s)}function pv(t,s){if(t==="input"||t==="change")return Bi(s)}function mv(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var $t=typeof Object.is=="function"?Object.is:mv;function Os(t,s){if($t(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var o=Object.keys(t),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!h.call(s,f)||!$t(t[f],s[f]))return!1}return!0}function oh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ah(t,s){var o=oh(t);t=0;for(var c;o;){if(o.nodeType===3){if(c=t+o.textContent.length,t<=s&&c>=s)return{node:o,offset:s-t};t=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=oh(o)}}function lh(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?lh(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function uh(){for(var t=window,s=ki();s instanceof t.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)t=s.contentWindow;else break;s=ki(t.document)}return s}function ol(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function gv(t){var s=uh(),o=t.focusedElem,c=t.selectionRange;if(s!==o&&o&&o.ownerDocument&&lh(o.ownerDocument.documentElement,o)){if(c!==null&&ol(o)){if(s=c.start,t=c.end,t===void 0&&(t=s),"selectionStart"in o)o.selectionStart=s,o.selectionEnd=Math.min(t,o.value.length);else if(t=(s=o.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var f=o.textContent.length,m=Math.min(c.start,f);c=c.end===void 0?m:Math.min(c.end,f),!t.extend&&m>c&&(f=c,c=m,m=f),f=ah(o,m);var w=ah(o,c);f&&w&&(t.rangeCount!==1||t.anchorNode!==f.node||t.anchorOffset!==f.offset||t.focusNode!==w.node||t.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),t.removeAllRanges(),m>c?(t.addRange(s),t.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),t.addRange(s)))}}for(s=[],t=o;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<s.length;o++)t=s[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var yv=d&&"documentMode"in document&&11>=document.documentMode,Pr=null,al=null,As=null,ll=!1;function ch(t,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ll||Pr==null||Pr!==ki(c)||(c=Pr,"selectionStart"in c&&ol(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),As&&Os(As,c)||(As=c,c=Hi(al,"onSelect"),0<c.length&&(s=new Xa("onSelect","select",null,s,o),t.push({event:s,listeners:c}),s.target=Pr)))}function Ui(t,s){var o={};return o[t.toLowerCase()]=s.toLowerCase(),o["Webkit"+t]="webkit"+s,o["Moz"+t]="moz"+s,o}var Cr={animationend:Ui("Animation","AnimationEnd"),animationiteration:Ui("Animation","AnimationIteration"),animationstart:Ui("Animation","AnimationStart"),transitionend:Ui("Transition","TransitionEnd")},ul={},dh={};d&&(dh=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);function Fi(t){if(ul[t])return ul[t];if(!Cr[t])return t;var s=Cr[t],o;for(o in s)if(s.hasOwnProperty(o)&&o in dh)return ul[t]=s[o];return t}var hh=Fi("animationend"),fh=Fi("animationiteration"),ph=Fi("animationstart"),mh=Fi("transitionend"),gh=new Map,yh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bn(t,s){gh.set(t,s),l(s,[t])}for(var cl=0;cl<yh.length;cl++){var dl=yh[cl],vv=dl.toLowerCase(),wv=dl[0].toUpperCase()+dl.slice(1);bn(vv,"on"+wv)}bn(hh,"onAnimationEnd"),bn(fh,"onAnimationIteration"),bn(ph,"onAnimationStart"),bn("dblclick","onDoubleClick"),bn("focusin","onFocus"),bn("focusout","onBlur"),bn(mh,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rs));function vh(t,s,o){var c=t.type||"unknown-event";t.currentTarget=o,v0(c,s,void 0,t),t.currentTarget=null}function wh(t,s){s=(s&4)!==0;for(var o=0;o<t.length;o++){var c=t[o],f=c.event;c=c.listeners;e:{var m=void 0;if(s)for(var w=c.length-1;0<=w;w--){var b=c[w],E=b.instance,N=b.currentTarget;if(b=b.listener,E!==m&&f.isPropagationStopped())break e;vh(f,b,N),m=E}else for(w=0;w<c.length;w++){if(b=c[w],E=b.instance,N=b.currentTarget,b=b.listener,E!==m&&f.isPropagationStopped())break e;vh(f,b,N),m=E}}}if(Ti)throw t=Ua,Ti=!1,Ua=null,t}function Ce(t,s){var o=s[wl];o===void 0&&(o=s[wl]=new Set);var c=t+"__bubble";o.has(c)||(xh(s,t,2,!1),o.add(c))}function hl(t,s,o){var c=0;s&&(c|=4),xh(o,t,c,s)}var Wi="_reactListening"+Math.random().toString(36).slice(2);function Ns(t){if(!t[Wi]){t[Wi]=!0,i.forEach(function(o){o!=="selectionchange"&&(xv.has(o)||hl(o,!1,t),hl(o,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Wi]||(s[Wi]=!0,hl("selectionchange",!1,s))}}function xh(t,s,o,c){switch(Fd(s)){case 1:var f=I0;break;case 4:f=D0;break;default:f=Ja}o=f.bind(null,s,o,t),f=void 0,!Ba||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?t.addEventListener(s,o,{capture:!0,passive:f}):t.addEventListener(s,o,!0):f!==void 0?t.addEventListener(s,o,{passive:f}):t.addEventListener(s,o,!1)}function fl(t,s,o,c,f){var m=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var b=c.stateNode.containerInfo;if(b===f||b.nodeType===8&&b.parentNode===f)break;if(w===4)for(w=c.return;w!==null;){var E=w.tag;if((E===3||E===4)&&(E=w.stateNode.containerInfo,E===f||E.nodeType===8&&E.parentNode===f))return;w=w.return}for(;b!==null;){if(w=Kn(b),w===null)return;if(E=w.tag,E===5||E===6){c=m=w;continue e}b=b.parentNode}}c=c.return}Ed(function(){var N=m,U=La(o),F=[];e:{var B=gh.get(t);if(B!==void 0){var G=Xa,Z=t;switch(t){case"keypress":if(Li(o)===0)break e;case"keydown":case"keyup":G=Q0;break;case"focusin":Z="focus",G=tl;break;case"focusout":Z="blur",G=tl;break;case"beforeblur":case"afterblur":G=tl;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=qd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=L0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Z0;break;case hh:case fh:case ph:G=B0;break;case mh:G=tv;break;case"scroll":G=M0;break;case"wheel":G=rv;break;case"copy":case"cut":case"paste":G=F0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Gd}var re=(s&4)!==0,$e=!re&&t==="scroll",O=re?B!==null?B+"Capture":null:B;re=[];for(var P=N,R;P!==null;){R=P;var H=R.stateNode;if(R.tag===5&&H!==null&&(R=H,O!==null&&(H=ms(P,O),H!=null&&re.push(Is(P,H,R)))),$e)break;P=P.return}0<re.length&&(B=new G(B,Z,null,o,U),F.push({event:B,listeners:re}))}}if((s&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",B&&o!==za&&(Z=o.relatedTarget||o.fromElement)&&(Kn(Z)||Z[rn]))break e;if((G||B)&&(B=U.window===U?U:(B=U.ownerDocument)?B.defaultView||B.parentWindow:window,G?(Z=o.relatedTarget||o.toElement,G=N,Z=Z?Kn(Z):null,Z!==null&&($e=qn(Z),Z!==$e||Z.tag!==5&&Z.tag!==6)&&(Z=null)):(G=null,Z=N),G!==Z)){if(re=qd,H="onMouseLeave",O="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(re=Gd,H="onPointerLeave",O="onPointerEnter",P="pointer"),$e=G==null?B:Rr(G),R=Z==null?B:Rr(Z),B=new re(H,P+"leave",G,o,U),B.target=$e,B.relatedTarget=R,H=null,Kn(U)===N&&(re=new re(O,P+"enter",Z,o,U),re.target=R,re.relatedTarget=$e,H=re),$e=H,G&&Z)t:{for(re=G,O=Z,P=0,R=re;R;R=Or(R))P++;for(R=0,H=O;H;H=Or(H))R++;for(;0<P-R;)re=Or(re),P--;for(;0<R-P;)O=Or(O),R--;for(;P--;){if(re===O||O!==null&&re===O.alternate)break t;re=Or(re),O=Or(O)}re=null}else re=null;G!==null&&_h(F,B,G,re,!1),Z!==null&&$e!==null&&_h(F,$e,Z,re,!0)}}e:{if(B=N?Rr(N):window,G=B.nodeName&&B.nodeName.toLowerCase(),G==="select"||G==="input"&&B.type==="file")var se=cv;else if(eh(B))if(nh)se=pv;else{se=hv;var oe=dv}else(G=B.nodeName)&&G.toLowerCase()==="input"&&(B.type==="checkbox"||B.type==="radio")&&(se=fv);if(se&&(se=se(t,N))){th(F,se,o,U);break e}oe&&oe(t,B,N),t==="focusout"&&(oe=B._wrapperState)&&oe.controlled&&B.type==="number"&&Ra(B,"number",B.value)}switch(oe=N?Rr(N):window,t){case"focusin":(eh(oe)||oe.contentEditable==="true")&&(Pr=oe,al=N,As=null);break;case"focusout":As=al=Pr=null;break;case"mousedown":ll=!0;break;case"contextmenu":case"mouseup":case"dragend":ll=!1,ch(F,o,U);break;case"selectionchange":if(yv)break;case"keydown":case"keyup":ch(F,o,U)}var ae;if(rl)e:{switch(t){case"compositionstart":var de="onCompositionStart";break e;case"compositionend":de="onCompositionEnd";break e;case"compositionupdate":de="onCompositionUpdate";break e}de=void 0}else Tr?Xd(t,o)&&(de="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(de="onCompositionStart");de&&(Jd&&o.locale!=="ko"&&(Tr||de!=="onCompositionStart"?de==="onCompositionEnd"&&Tr&&(ae=Wd()):(_n=U,Ya="value"in _n?_n.value:_n.textContent,Tr=!0)),oe=Hi(N,de),0<oe.length&&(de=new Kd(de,t,null,o,U),F.push({event:de,listeners:oe}),ae?de.data=ae:(ae=Zd(o),ae!==null&&(de.data=ae)))),(ae=iv?ov(t,o):av(t,o))&&(N=Hi(N,"onBeforeInput"),0<N.length&&(U=new Kd("onBeforeInput","beforeinput",null,o,U),F.push({event:U,listeners:N}),U.data=ae))}wh(F,s)})}function Is(t,s,o){return{instance:t,listener:s,currentTarget:o}}function Hi(t,s){for(var o=s+"Capture",c=[];t!==null;){var f=t,m=f.stateNode;f.tag===5&&m!==null&&(f=m,m=ms(t,o),m!=null&&c.unshift(Is(t,m,f)),m=ms(t,s),m!=null&&c.push(Is(t,m,f))),t=t.return}return c}function Or(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _h(t,s,o,c,f){for(var m=s._reactName,w=[];o!==null&&o!==c;){var b=o,E=b.alternate,N=b.stateNode;if(E!==null&&E===c)break;b.tag===5&&N!==null&&(b=N,f?(E=ms(o,m),E!=null&&w.unshift(Is(o,E,b))):f||(E=ms(o,m),E!=null&&w.push(Is(o,E,b)))),o=o.return}w.length!==0&&t.push({event:s,listeners:w})}var _v=/\r\n?/g,bv=/\u0000|\uFFFD/g;function bh(t){return(typeof t=="string"?t:""+t).replace(_v,`
`).replace(bv,"")}function qi(t,s,o){if(s=bh(s),bh(t)!==s&&o)throw Error(r(425))}function Ki(){}var pl=null,ml=null;function gl(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var yl=typeof setTimeout=="function"?setTimeout:void 0,Sv=typeof clearTimeout=="function"?clearTimeout:void 0,Sh=typeof Promise=="function"?Promise:void 0,kv=typeof queueMicrotask=="function"?queueMicrotask:typeof Sh<"u"?function(t){return Sh.resolve(null).then(t).catch(Ev)}:yl;function Ev(t){setTimeout(function(){throw t})}function vl(t,s){var o=s,c=0;do{var f=o.nextSibling;if(t.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(c===0){t.removeChild(f),ks(s);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=f}while(o);ks(s)}function Sn(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function kh(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return t;s--}else o==="/$"&&s++}t=t.previousSibling}return null}var Ar=Math.random().toString(36).slice(2),Yt="__reactFiber$"+Ar,Ds="__reactProps$"+Ar,rn="__reactContainer$"+Ar,wl="__reactEvents$"+Ar,jv="__reactListeners$"+Ar,Tv="__reactHandles$"+Ar;function Kn(t){var s=t[Yt];if(s)return s;for(var o=t.parentNode;o;){if(s=o[rn]||o[Yt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(t=kh(t);t!==null;){if(o=t[Yt])return o;t=kh(t)}return s}t=o,o=t.parentNode}return null}function Ms(t){return t=t[Yt]||t[rn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Rr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(r(33))}function Gi(t){return t[Ds]||null}var xl=[],Nr=-1;function kn(t){return{current:t}}function Oe(t){0>Nr||(t.current=xl[Nr],xl[Nr]=null,Nr--)}function Te(t,s){Nr++,xl[Nr]=t.current,t.current=s}var En={},rt=kn(En),pt=kn(!1),Gn=En;function Ir(t,s){var o=t.type.contextTypes;if(!o)return En;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var f={},m;for(m in o)f[m]=s[m];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=f),f}function mt(t){return t=t.childContextTypes,t!=null}function Ji(){Oe(pt),Oe(rt)}function Eh(t,s,o){if(rt.current!==En)throw Error(r(168));Te(rt,s),Te(pt,o)}function jh(t,s,o){var c=t.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var f in c)if(!(f in s))throw Error(r(108,he(t)||"Unknown",f));return K({},o,c)}function Qi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||En,Gn=rt.current,Te(rt,t),Te(pt,pt.current),!0}function Th(t,s,o){var c=t.stateNode;if(!c)throw Error(r(169));o?(t=jh(t,s,Gn),c.__reactInternalMemoizedMergedChildContext=t,Oe(pt),Oe(rt),Te(rt,t)):Oe(pt),Te(pt,o)}var sn=null,Yi=!1,_l=!1;function Ph(t){sn===null?sn=[t]:sn.push(t)}function Pv(t){Yi=!0,Ph(t)}function jn(){if(!_l&&sn!==null){_l=!0;var t=0,s=Se;try{var o=sn;for(Se=1;t<o.length;t++){var c=o[t];do c=c(!0);while(c!==null)}sn=null,Yi=!1}catch(f){throw sn!==null&&(sn=sn.slice(t+1)),Od(Fa,jn),f}finally{Se=s,_l=!1}}return null}var Dr=[],Mr=0,Xi=null,Zi=0,Ct=[],Ot=0,Jn=null,on=1,an="";function Qn(t,s){Dr[Mr++]=Zi,Dr[Mr++]=Xi,Xi=t,Zi=s}function Ch(t,s,o){Ct[Ot++]=on,Ct[Ot++]=an,Ct[Ot++]=Jn,Jn=t;var c=on;t=an;var f=32-Vt(c)-1;c&=~(1<<f),o+=1;var m=32-Vt(s)+f;if(30<m){var w=f-f%5;m=(c&(1<<w)-1).toString(32),c>>=w,f-=w,on=1<<32-Vt(s)+f|o<<f|c,an=m+t}else on=1<<m|o<<f|c,an=t}function bl(t){t.return!==null&&(Qn(t,1),Ch(t,1,0))}function Sl(t){for(;t===Xi;)Xi=Dr[--Mr],Dr[Mr]=null,Zi=Dr[--Mr],Dr[Mr]=null;for(;t===Jn;)Jn=Ct[--Ot],Ct[Ot]=null,an=Ct[--Ot],Ct[Ot]=null,on=Ct[--Ot],Ct[Ot]=null}var _t=null,bt=null,Re=!1,Bt=null;function Oh(t,s){var o=It(5,null,null,0);o.elementType="DELETED",o.stateNode=s,o.return=t,s=t.deletions,s===null?(t.deletions=[o],t.flags|=16):s.push(o)}function Ah(t,s){switch(t.tag){case 5:var o=t.type;return s=s.nodeType!==1||o.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,_t=t,bt=Sn(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,_t=t,bt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(o=Jn!==null?{id:on,overflow:an}:null,t.memoizedState={dehydrated:s,treeContext:o,retryLane:1073741824},o=It(18,null,null,0),o.stateNode=s,o.return=t,t.child=o,_t=t,bt=null,!0):!1;default:return!1}}function kl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function El(t){if(Re){var s=bt;if(s){var o=s;if(!Ah(t,s)){if(kl(t))throw Error(r(418));s=Sn(o.nextSibling);var c=_t;s&&Ah(t,s)?Oh(c,o):(t.flags=t.flags&-4097|2,Re=!1,_t=t)}}else{if(kl(t))throw Error(r(418));t.flags=t.flags&-4097|2,Re=!1,_t=t}}}function Rh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_t=t}function eo(t){if(t!==_t)return!1;if(!Re)return Rh(t),Re=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!gl(t.type,t.memoizedProps)),s&&(s=bt)){if(kl(t))throw Nh(),Error(r(418));for(;s;)Oh(t,s),s=Sn(s.nextSibling)}if(Rh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(s===0){bt=Sn(t.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++}t=t.nextSibling}bt=null}}else bt=_t?Sn(t.stateNode.nextSibling):null;return!0}function Nh(){for(var t=bt;t;)t=Sn(t.nextSibling)}function zr(){bt=_t=null,Re=!1}function jl(t){Bt===null?Bt=[t]:Bt.push(t)}var Cv=z.ReactCurrentBatchConfig;function zs(t,s,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(r(309));var c=o.stateNode}if(!c)throw Error(r(147,t));var f=c,m=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===m?s.ref:(s=function(w){var b=f.refs;w===null?delete b[m]:b[m]=w},s._stringRef=m,s)}if(typeof t!="string")throw Error(r(284));if(!o._owner)throw Error(r(290,t))}return t}function to(t,s){throw t=Object.prototype.toString.call(s),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function Ih(t){var s=t._init;return s(t._payload)}function Dh(t){function s(O,P){if(t){var R=O.deletions;R===null?(O.deletions=[P],O.flags|=16):R.push(P)}}function o(O,P){if(!t)return null;for(;P!==null;)s(O,P),P=P.sibling;return null}function c(O,P){for(O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function f(O,P){return O=In(O,P),O.index=0,O.sibling=null,O}function m(O,P,R){return O.index=R,t?(R=O.alternate,R!==null?(R=R.index,R<P?(O.flags|=2,P):R):(O.flags|=2,P)):(O.flags|=1048576,P)}function w(O){return t&&O.alternate===null&&(O.flags|=2),O}function b(O,P,R,H){return P===null||P.tag!==6?(P=yu(R,O.mode,H),P.return=O,P):(P=f(P,R),P.return=O,P)}function E(O,P,R,H){var se=R.type;return se===$?U(O,P,R.props.children,H,R.key):P!==null&&(P.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===me&&Ih(se)===P.type)?(H=f(P,R.props),H.ref=zs(O,P,R),H.return=O,H):(H=jo(R.type,R.key,R.props,null,O.mode,H),H.ref=zs(O,P,R),H.return=O,H)}function N(O,P,R,H){return P===null||P.tag!==4||P.stateNode.containerInfo!==R.containerInfo||P.stateNode.implementation!==R.implementation?(P=vu(R,O.mode,H),P.return=O,P):(P=f(P,R.children||[]),P.return=O,P)}function U(O,P,R,H,se){return P===null||P.tag!==7?(P=sr(R,O.mode,H,se),P.return=O,P):(P=f(P,R),P.return=O,P)}function F(O,P,R){if(typeof P=="string"&&P!==""||typeof P=="number")return P=yu(""+P,O.mode,R),P.return=O,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case D:return R=jo(P.type,P.key,P.props,null,O.mode,R),R.ref=zs(O,null,P),R.return=O,R;case M:return P=vu(P,O.mode,R),P.return=O,P;case me:var H=P._init;return F(O,H(P._payload),R)}if(hs(P)||te(P))return P=sr(P,O.mode,R,null),P.return=O,P;to(O,P)}return null}function B(O,P,R,H){var se=P!==null?P.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return se!==null?null:b(O,P,""+R,H);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case D:return R.key===se?E(O,P,R,H):null;case M:return R.key===se?N(O,P,R,H):null;case me:return se=R._init,B(O,P,se(R._payload),H)}if(hs(R)||te(R))return se!==null?null:U(O,P,R,H,null);to(O,R)}return null}function G(O,P,R,H,se){if(typeof H=="string"&&H!==""||typeof H=="number")return O=O.get(R)||null,b(P,O,""+H,se);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case D:return O=O.get(H.key===null?R:H.key)||null,E(P,O,H,se);case M:return O=O.get(H.key===null?R:H.key)||null,N(P,O,H,se);case me:var oe=H._init;return G(O,P,R,oe(H._payload),se)}if(hs(H)||te(H))return O=O.get(R)||null,U(P,O,H,se,null);to(P,H)}return null}function Z(O,P,R,H){for(var se=null,oe=null,ae=P,de=P=0,Ze=null;ae!==null&&de<R.length;de++){ae.index>de?(Ze=ae,ae=null):Ze=ae.sibling;var _e=B(O,ae,R[de],H);if(_e===null){ae===null&&(ae=Ze);break}t&&ae&&_e.alternate===null&&s(O,ae),P=m(_e,P,de),oe===null?se=_e:oe.sibling=_e,oe=_e,ae=Ze}if(de===R.length)return o(O,ae),Re&&Qn(O,de),se;if(ae===null){for(;de<R.length;de++)ae=F(O,R[de],H),ae!==null&&(P=m(ae,P,de),oe===null?se=ae:oe.sibling=ae,oe=ae);return Re&&Qn(O,de),se}for(ae=c(O,ae);de<R.length;de++)Ze=G(ae,O,de,R[de],H),Ze!==null&&(t&&Ze.alternate!==null&&ae.delete(Ze.key===null?de:Ze.key),P=m(Ze,P,de),oe===null?se=Ze:oe.sibling=Ze,oe=Ze);return t&&ae.forEach(function(Dn){return s(O,Dn)}),Re&&Qn(O,de),se}function re(O,P,R,H){var se=te(R);if(typeof se!="function")throw Error(r(150));if(R=se.call(R),R==null)throw Error(r(151));for(var oe=se=null,ae=P,de=P=0,Ze=null,_e=R.next();ae!==null&&!_e.done;de++,_e=R.next()){ae.index>de?(Ze=ae,ae=null):Ze=ae.sibling;var Dn=B(O,ae,_e.value,H);if(Dn===null){ae===null&&(ae=Ze);break}t&&ae&&Dn.alternate===null&&s(O,ae),P=m(Dn,P,de),oe===null?se=Dn:oe.sibling=Dn,oe=Dn,ae=Ze}if(_e.done)return o(O,ae),Re&&Qn(O,de),se;if(ae===null){for(;!_e.done;de++,_e=R.next())_e=F(O,_e.value,H),_e!==null&&(P=m(_e,P,de),oe===null?se=_e:oe.sibling=_e,oe=_e);return Re&&Qn(O,de),se}for(ae=c(O,ae);!_e.done;de++,_e=R.next())_e=G(ae,O,de,_e.value,H),_e!==null&&(t&&_e.alternate!==null&&ae.delete(_e.key===null?de:_e.key),P=m(_e,P,de),oe===null?se=_e:oe.sibling=_e,oe=_e);return t&&ae.forEach(function(lw){return s(O,lw)}),Re&&Qn(O,de),se}function $e(O,P,R,H){if(typeof R=="object"&&R!==null&&R.type===$&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case D:e:{for(var se=R.key,oe=P;oe!==null;){if(oe.key===se){if(se=R.type,se===$){if(oe.tag===7){o(O,oe.sibling),P=f(oe,R.props.children),P.return=O,O=P;break e}}else if(oe.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===me&&Ih(se)===oe.type){o(O,oe.sibling),P=f(oe,R.props),P.ref=zs(O,oe,R),P.return=O,O=P;break e}o(O,oe);break}else s(O,oe);oe=oe.sibling}R.type===$?(P=sr(R.props.children,O.mode,H,R.key),P.return=O,O=P):(H=jo(R.type,R.key,R.props,null,O.mode,H),H.ref=zs(O,P,R),H.return=O,O=H)}return w(O);case M:e:{for(oe=R.key;P!==null;){if(P.key===oe)if(P.tag===4&&P.stateNode.containerInfo===R.containerInfo&&P.stateNode.implementation===R.implementation){o(O,P.sibling),P=f(P,R.children||[]),P.return=O,O=P;break e}else{o(O,P);break}else s(O,P);P=P.sibling}P=vu(R,O.mode,H),P.return=O,O=P}return w(O);case me:return oe=R._init,$e(O,P,oe(R._payload),H)}if(hs(R))return Z(O,P,R,H);if(te(R))return re(O,P,R,H);to(O,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,P!==null&&P.tag===6?(o(O,P.sibling),P=f(P,R),P.return=O,O=P):(o(O,P),P=yu(R,O.mode,H),P.return=O,O=P),w(O)):o(O,P)}return $e}var Lr=Dh(!0),Mh=Dh(!1),no=kn(null),ro=null,Vr=null,Tl=null;function Pl(){Tl=Vr=ro=null}function Cl(t){var s=no.current;Oe(no),t._currentValue=s}function Ol(t,s,o){for(;t!==null;){var c=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),t===o)break;t=t.return}}function $r(t,s){ro=t,Tl=Vr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&s)!==0&&(gt=!0),t.firstContext=null)}function At(t){var s=t._currentValue;if(Tl!==t)if(t={context:t,memoizedValue:s,next:null},Vr===null){if(ro===null)throw Error(r(308));Vr=t,ro.dependencies={lanes:0,firstContext:t}}else Vr=Vr.next=t;return s}var Yn=null;function Al(t){Yn===null?Yn=[t]:Yn.push(t)}function zh(t,s,o,c){var f=s.interleaved;return f===null?(o.next=o,Al(s)):(o.next=f.next,f.next=o),s.interleaved=o,ln(t,c)}function ln(t,s){t.lanes|=s;var o=t.alternate;for(o!==null&&(o.lanes|=s),o=t,t=t.return;t!==null;)t.childLanes|=s,o=t.alternate,o!==null&&(o.childLanes|=s),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Tn=!1;function Rl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lh(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function un(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function Pn(t,s,o){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(we&2)!==0){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,ln(t,o)}return f=c.interleaved,f===null?(s.next=s,Al(c)):(s.next=f.next,f.next=s),c.interleaved=s,ln(t,o)}function so(t,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194240)!==0)){var c=s.lanes;c&=t.pendingLanes,o|=c,s.lanes=o,qa(t,o)}}function Vh(t,s){var o=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var w={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};m===null?f=m=w:m=m.next=w,o=o.next}while(o!==null);m===null?f=m=s:m=m.next=s}else f=m=s;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,effects:c.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=s:t.next=s,o.lastBaseUpdate=s}function io(t,s,o,c){var f=t.updateQueue;Tn=!1;var m=f.firstBaseUpdate,w=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var E=b,N=E.next;E.next=null,w===null?m=N:w.next=N,w=E;var U=t.alternate;U!==null&&(U=U.updateQueue,b=U.lastBaseUpdate,b!==w&&(b===null?U.firstBaseUpdate=N:b.next=N,U.lastBaseUpdate=E))}if(m!==null){var F=f.baseState;w=0,U=N=E=null,b=m;do{var B=b.lane,G=b.eventTime;if((c&B)===B){U!==null&&(U=U.next={eventTime:G,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var Z=t,re=b;switch(B=s,G=o,re.tag){case 1:if(Z=re.payload,typeof Z=="function"){F=Z.call(G,F,B);break e}F=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=re.payload,B=typeof Z=="function"?Z.call(G,F,B):Z,B==null)break e;F=K({},F,B);break e;case 2:Tn=!0}}b.callback!==null&&b.lane!==0&&(t.flags|=64,B=f.effects,B===null?f.effects=[b]:B.push(b))}else G={eventTime:G,lane:B,tag:b.tag,payload:b.payload,callback:b.callback,next:null},U===null?(N=U=G,E=F):U=U.next=G,w|=B;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;B=b,b=B.next,B.next=null,f.lastBaseUpdate=B,f.shared.pending=null}}while(!0);if(U===null&&(E=F),f.baseState=E,f.firstBaseUpdate=N,f.lastBaseUpdate=U,s=f.shared.interleaved,s!==null){f=s;do w|=f.lane,f=f.next;while(f!==s)}else m===null&&(f.shared.lanes=0);er|=w,t.lanes=w,t.memoizedState=F}}function $h(t,s,o){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var c=t[s],f=c.callback;if(f!==null){if(c.callback=null,c=o,typeof f!="function")throw Error(r(191,f));f.call(c)}}}var Ls={},Xt=kn(Ls),Vs=kn(Ls),$s=kn(Ls);function Xn(t){if(t===Ls)throw Error(r(174));return t}function Nl(t,s){switch(Te($s,s),Te(Vs,t),Te(Xt,Ls),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Ia(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=Ia(s,t)}Oe(Xt),Te(Xt,s)}function Br(){Oe(Xt),Oe(Vs),Oe($s)}function Bh(t){Xn($s.current);var s=Xn(Xt.current),o=Ia(s,t.type);s!==o&&(Te(Vs,t),Te(Xt,o))}function Il(t){Vs.current===t&&(Oe(Xt),Oe(Vs))}var Ne=kn(0);function oo(t){for(var s=t;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Dl=[];function Ml(){for(var t=0;t<Dl.length;t++)Dl[t]._workInProgressVersionPrimary=null;Dl.length=0}var ao=z.ReactCurrentDispatcher,zl=z.ReactCurrentBatchConfig,Zn=0,Ie=null,Ke=null,Ye=null,lo=!1,Bs=!1,Us=0,Ov=0;function st(){throw Error(r(321))}function Ll(t,s){if(s===null)return!1;for(var o=0;o<s.length&&o<t.length;o++)if(!$t(t[o],s[o]))return!1;return!0}function Vl(t,s,o,c,f,m){if(Zn=m,Ie=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ao.current=t===null||t.memoizedState===null?Iv:Dv,t=o(c,f),Bs){m=0;do{if(Bs=!1,Us=0,25<=m)throw Error(r(301));m+=1,Ye=Ke=null,s.updateQueue=null,ao.current=Mv,t=o(c,f)}while(Bs)}if(ao.current=ho,s=Ke!==null&&Ke.next!==null,Zn=0,Ye=Ke=Ie=null,lo=!1,s)throw Error(r(300));return t}function $l(){var t=Us!==0;return Us=0,t}function Zt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?Ie.memoizedState=Ye=t:Ye=Ye.next=t,Ye}function Rt(){if(Ke===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var s=Ye===null?Ie.memoizedState:Ye.next;if(s!==null)Ye=s,Ke=t;else{if(t===null)throw Error(r(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Ye===null?Ie.memoizedState=Ye=t:Ye=Ye.next=t}return Ye}function Fs(t,s){return typeof s=="function"?s(t):s}function Bl(t){var s=Rt(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=t;var c=Ke,f=c.baseQueue,m=o.pending;if(m!==null){if(f!==null){var w=f.next;f.next=m.next,m.next=w}c.baseQueue=f=m,o.pending=null}if(f!==null){m=f.next,c=c.baseState;var b=w=null,E=null,N=m;do{var U=N.lane;if((Zn&U)===U)E!==null&&(E=E.next={lane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),c=N.hasEagerState?N.eagerState:t(c,N.action);else{var F={lane:U,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null};E===null?(b=E=F,w=c):E=E.next=F,Ie.lanes|=U,er|=U}N=N.next}while(N!==null&&N!==m);E===null?w=c:E.next=b,$t(c,s.memoizedState)||(gt=!0),s.memoizedState=c,s.baseState=w,s.baseQueue=E,o.lastRenderedState=c}if(t=o.interleaved,t!==null){f=t;do m=f.lane,Ie.lanes|=m,er|=m,f=f.next;while(f!==t)}else f===null&&(o.lanes=0);return[s.memoizedState,o.dispatch]}function Ul(t){var s=Rt(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=t;var c=o.dispatch,f=o.pending,m=s.memoizedState;if(f!==null){o.pending=null;var w=f=f.next;do m=t(m,w.action),w=w.next;while(w!==f);$t(m,s.memoizedState)||(gt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),o.lastRenderedState=m}return[m,c]}function Uh(){}function Fh(t,s){var o=Ie,c=Rt(),f=s(),m=!$t(c.memoizedState,f);if(m&&(c.memoizedState=f,gt=!0),c=c.queue,Fl(qh.bind(null,o,c,t),[t]),c.getSnapshot!==s||m||Ye!==null&&Ye.memoizedState.tag&1){if(o.flags|=2048,Ws(9,Hh.bind(null,o,c,f,s),void 0,null),Xe===null)throw Error(r(349));(Zn&30)!==0||Wh(o,s,f)}return f}function Wh(t,s,o){t.flags|=16384,t={getSnapshot:s,value:o},s=Ie.updateQueue,s===null?(s={lastEffect:null,stores:null},Ie.updateQueue=s,s.stores=[t]):(o=s.stores,o===null?s.stores=[t]:o.push(t))}function Hh(t,s,o,c){s.value=o,s.getSnapshot=c,Kh(s)&&Gh(t)}function qh(t,s,o){return o(function(){Kh(s)&&Gh(t)})}function Kh(t){var s=t.getSnapshot;t=t.value;try{var o=s();return!$t(t,o)}catch{return!0}}function Gh(t){var s=ln(t,1);s!==null&&Ht(s,t,1,-1)}function Jh(t){var s=Zt();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:t},s.queue=t,t=t.dispatch=Nv.bind(null,Ie,t),[s.memoizedState,t]}function Ws(t,s,o,c){return t={tag:t,create:s,destroy:o,deps:c,next:null},s=Ie.updateQueue,s===null?(s={lastEffect:null,stores:null},Ie.updateQueue=s,s.lastEffect=t.next=t):(o=s.lastEffect,o===null?s.lastEffect=t.next=t:(c=o.next,o.next=t,t.next=c,s.lastEffect=t)),t}function Qh(){return Rt().memoizedState}function uo(t,s,o,c){var f=Zt();Ie.flags|=t,f.memoizedState=Ws(1|s,o,void 0,c===void 0?null:c)}function co(t,s,o,c){var f=Rt();c=c===void 0?null:c;var m=void 0;if(Ke!==null){var w=Ke.memoizedState;if(m=w.destroy,c!==null&&Ll(c,w.deps)){f.memoizedState=Ws(s,o,m,c);return}}Ie.flags|=t,f.memoizedState=Ws(1|s,o,m,c)}function Yh(t,s){return uo(8390656,8,t,s)}function Fl(t,s){return co(2048,8,t,s)}function Xh(t,s){return co(4,2,t,s)}function Zh(t,s){return co(4,4,t,s)}function ef(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function tf(t,s,o){return o=o!=null?o.concat([t]):null,co(4,4,ef.bind(null,s,t),o)}function Wl(){}function nf(t,s){var o=Rt();s=s===void 0?null:s;var c=o.memoizedState;return c!==null&&s!==null&&Ll(s,c[1])?c[0]:(o.memoizedState=[t,s],t)}function rf(t,s){var o=Rt();s=s===void 0?null:s;var c=o.memoizedState;return c!==null&&s!==null&&Ll(s,c[1])?c[0]:(t=t(),o.memoizedState=[t,s],t)}function sf(t,s,o){return(Zn&21)===0?(t.baseState&&(t.baseState=!1,gt=!0),t.memoizedState=o):($t(o,s)||(o=Id(),Ie.lanes|=o,er|=o,t.baseState=!0),s)}function Av(t,s){var o=Se;Se=o!==0&&4>o?o:4,t(!0);var c=zl.transition;zl.transition={};try{t(!1),s()}finally{Se=o,zl.transition=c}}function of(){return Rt().memoizedState}function Rv(t,s,o){var c=Rn(t);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},af(t))lf(s,o);else if(o=zh(t,s,o,c),o!==null){var f=ht();Ht(o,t,c,f),uf(o,s,c)}}function Nv(t,s,o){var c=Rn(t),f={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(af(t))lf(s,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var w=s.lastRenderedState,b=m(w,o);if(f.hasEagerState=!0,f.eagerState=b,$t(b,w)){var E=s.interleaved;E===null?(f.next=f,Al(s)):(f.next=E.next,E.next=f),s.interleaved=f;return}}catch{}finally{}o=zh(t,s,f,c),o!==null&&(f=ht(),Ht(o,t,c,f),uf(o,s,c))}}function af(t){var s=t.alternate;return t===Ie||s!==null&&s===Ie}function lf(t,s){Bs=lo=!0;var o=t.pending;o===null?s.next=s:(s.next=o.next,o.next=s),t.pending=s}function uf(t,s,o){if((o&4194240)!==0){var c=s.lanes;c&=t.pendingLanes,o|=c,s.lanes=o,qa(t,o)}}var ho={readContext:At,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},Iv={readContext:At,useCallback:function(t,s){return Zt().memoizedState=[t,s===void 0?null:s],t},useContext:At,useEffect:Yh,useImperativeHandle:function(t,s,o){return o=o!=null?o.concat([t]):null,uo(4194308,4,ef.bind(null,s,t),o)},useLayoutEffect:function(t,s){return uo(4194308,4,t,s)},useInsertionEffect:function(t,s){return uo(4,2,t,s)},useMemo:function(t,s){var o=Zt();return s=s===void 0?null:s,t=t(),o.memoizedState=[t,s],t},useReducer:function(t,s,o){var c=Zt();return s=o!==void 0?o(s):s,c.memoizedState=c.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},c.queue=t,t=t.dispatch=Rv.bind(null,Ie,t),[c.memoizedState,t]},useRef:function(t){var s=Zt();return t={current:t},s.memoizedState=t},useState:Jh,useDebugValue:Wl,useDeferredValue:function(t){return Zt().memoizedState=t},useTransition:function(){var t=Jh(!1),s=t[0];return t=Av.bind(null,t[1]),Zt().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,o){var c=Ie,f=Zt();if(Re){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),Xe===null)throw Error(r(349));(Zn&30)!==0||Wh(c,s,o)}f.memoizedState=o;var m={value:o,getSnapshot:s};return f.queue=m,Yh(qh.bind(null,c,m,t),[t]),c.flags|=2048,Ws(9,Hh.bind(null,c,m,o,s),void 0,null),o},useId:function(){var t=Zt(),s=Xe.identifierPrefix;if(Re){var o=an,c=on;o=(c&~(1<<32-Vt(c)-1)).toString(32)+o,s=":"+s+"R"+o,o=Us++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=Ov++,s=":"+s+"r"+o.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},Dv={readContext:At,useCallback:nf,useContext:At,useEffect:Fl,useImperativeHandle:tf,useInsertionEffect:Xh,useLayoutEffect:Zh,useMemo:rf,useReducer:Bl,useRef:Qh,useState:function(){return Bl(Fs)},useDebugValue:Wl,useDeferredValue:function(t){var s=Rt();return sf(s,Ke.memoizedState,t)},useTransition:function(){var t=Bl(Fs)[0],s=Rt().memoizedState;return[t,s]},useMutableSource:Uh,useSyncExternalStore:Fh,useId:of,unstable_isNewReconciler:!1},Mv={readContext:At,useCallback:nf,useContext:At,useEffect:Fl,useImperativeHandle:tf,useInsertionEffect:Xh,useLayoutEffect:Zh,useMemo:rf,useReducer:Ul,useRef:Qh,useState:function(){return Ul(Fs)},useDebugValue:Wl,useDeferredValue:function(t){var s=Rt();return Ke===null?s.memoizedState=t:sf(s,Ke.memoizedState,t)},useTransition:function(){var t=Ul(Fs)[0],s=Rt().memoizedState;return[t,s]},useMutableSource:Uh,useSyncExternalStore:Fh,useId:of,unstable_isNewReconciler:!1};function Ut(t,s){if(t&&t.defaultProps){s=K({},s),t=t.defaultProps;for(var o in t)s[o]===void 0&&(s[o]=t[o]);return s}return s}function Hl(t,s,o,c){s=t.memoizedState,o=o(c,s),o=o==null?s:K({},s,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var fo={isMounted:function(t){return(t=t._reactInternals)?qn(t)===t:!1},enqueueSetState:function(t,s,o){t=t._reactInternals;var c=ht(),f=Rn(t),m=un(c,f);m.payload=s,o!=null&&(m.callback=o),s=Pn(t,m,f),s!==null&&(Ht(s,t,f,c),so(s,t,f))},enqueueReplaceState:function(t,s,o){t=t._reactInternals;var c=ht(),f=Rn(t),m=un(c,f);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=Pn(t,m,f),s!==null&&(Ht(s,t,f,c),so(s,t,f))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var o=ht(),c=Rn(t),f=un(o,c);f.tag=2,s!=null&&(f.callback=s),s=Pn(t,f,c),s!==null&&(Ht(s,t,c,o),so(s,t,c))}};function cf(t,s,o,c,f,m,w){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,m,w):s.prototype&&s.prototype.isPureReactComponent?!Os(o,c)||!Os(f,m):!0}function df(t,s,o){var c=!1,f=En,m=s.contextType;return typeof m=="object"&&m!==null?m=At(m):(f=mt(s)?Gn:rt.current,c=s.contextTypes,m=(c=c!=null)?Ir(t,f):En),s=new s(o,m),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=fo,t.stateNode=s,s._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=f,t.__reactInternalMemoizedMaskedChildContext=m),s}function hf(t,s,o,c){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==t&&fo.enqueueReplaceState(s,s.state,null)}function ql(t,s,o,c){var f=t.stateNode;f.props=o,f.state=t.memoizedState,f.refs={},Rl(t);var m=s.contextType;typeof m=="object"&&m!==null?f.context=At(m):(m=mt(s)?Gn:rt.current,f.context=Ir(t,m)),f.state=t.memoizedState,m=s.getDerivedStateFromProps,typeof m=="function"&&(Hl(t,s,m,o),f.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&fo.enqueueReplaceState(f,f.state,null),io(t,o,f,c),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308)}function Ur(t,s){try{var o="",c=s;do o+=le(c),c=c.return;while(c);var f=o}catch(m){f=`
Error generating stack: `+m.message+`
`+m.stack}return{value:t,source:s,stack:f,digest:null}}function Kl(t,s,o){return{value:t,source:null,stack:o??null,digest:s??null}}function Gl(t,s){try{console.error(s.value)}catch(o){setTimeout(function(){throw o})}}var zv=typeof WeakMap=="function"?WeakMap:Map;function ff(t,s,o){o=un(-1,o),o.tag=3,o.payload={element:null};var c=s.value;return o.callback=function(){xo||(xo=!0,uu=c),Gl(t,s)},o}function pf(t,s,o){o=un(-1,o),o.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var f=s.value;o.payload=function(){return c(f)},o.callback=function(){Gl(t,s)}}var m=t.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(o.callback=function(){Gl(t,s),typeof c!="function"&&(On===null?On=new Set([this]):On.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),o}function mf(t,s,o){var c=t.pingCache;if(c===null){c=t.pingCache=new zv;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(o)||(f.add(o),t=Yv.bind(null,t,s,o),s.then(t,t))}function gf(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function yf(t,s,o,c,f){return(t.mode&1)===0?(t===s?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(s=un(-1,1),s.tag=2,Pn(o,s,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=f,t)}var Lv=z.ReactCurrentOwner,gt=!1;function dt(t,s,o,c){s.child=t===null?Mh(s,null,o,c):Lr(s,t.child,o,c)}function vf(t,s,o,c,f){o=o.render;var m=s.ref;return $r(s,f),c=Vl(t,s,o,c,m,f),o=$l(),t!==null&&!gt?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~f,cn(t,s,f)):(Re&&o&&bl(s),s.flags|=1,dt(t,s,c,f),s.child)}function wf(t,s,o,c,f){if(t===null){var m=o.type;return typeof m=="function"&&!gu(m)&&m.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(s.tag=15,s.type=m,xf(t,s,m,c,f)):(t=jo(o.type,null,c,s,s.mode,f),t.ref=s.ref,t.return=s,s.child=t)}if(m=t.child,(t.lanes&f)===0){var w=m.memoizedProps;if(o=o.compare,o=o!==null?o:Os,o(w,c)&&t.ref===s.ref)return cn(t,s,f)}return s.flags|=1,t=In(m,c),t.ref=s.ref,t.return=s,s.child=t}function xf(t,s,o,c,f){if(t!==null){var m=t.memoizedProps;if(Os(m,c)&&t.ref===s.ref)if(gt=!1,s.pendingProps=c=m,(t.lanes&f)!==0)(t.flags&131072)!==0&&(gt=!0);else return s.lanes=t.lanes,cn(t,s,f)}return Jl(t,s,o,c,f)}function _f(t,s,o){var c=s.pendingProps,f=c.children,m=t!==null?t.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(Wr,St),St|=o;else{if((o&1073741824)===0)return t=m!==null?m.baseLanes|o:o,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,Te(Wr,St),St|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:o,Te(Wr,St),St|=c}else m!==null?(c=m.baseLanes|o,s.memoizedState=null):c=o,Te(Wr,St),St|=c;return dt(t,s,f,o),s.child}function bf(t,s){var o=s.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(s.flags|=512,s.flags|=2097152)}function Jl(t,s,o,c,f){var m=mt(o)?Gn:rt.current;return m=Ir(s,m),$r(s,f),o=Vl(t,s,o,c,m,f),c=$l(),t!==null&&!gt?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~f,cn(t,s,f)):(Re&&c&&bl(s),s.flags|=1,dt(t,s,o,f),s.child)}function Sf(t,s,o,c,f){if(mt(o)){var m=!0;Qi(s)}else m=!1;if($r(s,f),s.stateNode===null)mo(t,s),df(s,o,c),ql(s,o,c,f),c=!0;else if(t===null){var w=s.stateNode,b=s.memoizedProps;w.props=b;var E=w.context,N=o.contextType;typeof N=="object"&&N!==null?N=At(N):(N=mt(o)?Gn:rt.current,N=Ir(s,N));var U=o.getDerivedStateFromProps,F=typeof U=="function"||typeof w.getSnapshotBeforeUpdate=="function";F||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(b!==c||E!==N)&&hf(s,w,c,N),Tn=!1;var B=s.memoizedState;w.state=B,io(s,c,w,f),E=s.memoizedState,b!==c||B!==E||pt.current||Tn?(typeof U=="function"&&(Hl(s,o,U,c),E=s.memoizedState),(b=Tn||cf(s,o,b,c,B,E,N))?(F||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=E),w.props=c,w.state=E,w.context=N,c=b):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{w=s.stateNode,Lh(t,s),b=s.memoizedProps,N=s.type===s.elementType?b:Ut(s.type,b),w.props=N,F=s.pendingProps,B=w.context,E=o.contextType,typeof E=="object"&&E!==null?E=At(E):(E=mt(o)?Gn:rt.current,E=Ir(s,E));var G=o.getDerivedStateFromProps;(U=typeof G=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(b!==F||B!==E)&&hf(s,w,c,E),Tn=!1,B=s.memoizedState,w.state=B,io(s,c,w,f);var Z=s.memoizedState;b!==F||B!==Z||pt.current||Tn?(typeof G=="function"&&(Hl(s,o,G,c),Z=s.memoizedState),(N=Tn||cf(s,o,N,c,B,Z,E)||!1)?(U||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(c,Z,E),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(c,Z,E)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||b===t.memoizedProps&&B===t.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&B===t.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=Z),w.props=c,w.state=Z,w.context=E,c=N):(typeof w.componentDidUpdate!="function"||b===t.memoizedProps&&B===t.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&B===t.memoizedState||(s.flags|=1024),c=!1)}return Ql(t,s,o,c,m,f)}function Ql(t,s,o,c,f,m){bf(t,s);var w=(s.flags&128)!==0;if(!c&&!w)return f&&Th(s,o,!1),cn(t,s,m);c=s.stateNode,Lv.current=s;var b=w&&typeof o.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,t!==null&&w?(s.child=Lr(s,t.child,null,m),s.child=Lr(s,null,b,m)):dt(t,s,b,m),s.memoizedState=c.state,f&&Th(s,o,!0),s.child}function kf(t){var s=t.stateNode;s.pendingContext?Eh(t,s.pendingContext,s.pendingContext!==s.context):s.context&&Eh(t,s.context,!1),Nl(t,s.containerInfo)}function Ef(t,s,o,c,f){return zr(),jl(f),s.flags|=256,dt(t,s,o,c),s.child}var Yl={dehydrated:null,treeContext:null,retryLane:0};function Xl(t){return{baseLanes:t,cachePool:null,transitions:null}}function jf(t,s,o){var c=s.pendingProps,f=Ne.current,m=!1,w=(s.flags&128)!==0,b;if((b=w)||(b=t!==null&&t.memoizedState===null?!1:(f&2)!==0),b?(m=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(f|=1),Te(Ne,f&1),t===null)return El(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((s.mode&1)===0?s.lanes=1:t.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(w=c.children,t=c.fallback,m?(c=s.mode,m=s.child,w={mode:"hidden",children:w},(c&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=w):m=To(w,c,0,null),t=sr(t,c,o,null),m.return=s,t.return=s,m.sibling=t,s.child=m,s.child.memoizedState=Xl(o),s.memoizedState=Yl,t):Zl(s,w));if(f=t.memoizedState,f!==null&&(b=f.dehydrated,b!==null))return Vv(t,s,w,c,b,f,o);if(m){m=c.fallback,w=s.mode,f=t.child,b=f.sibling;var E={mode:"hidden",children:c.children};return(w&1)===0&&s.child!==f?(c=s.child,c.childLanes=0,c.pendingProps=E,s.deletions=null):(c=In(f,E),c.subtreeFlags=f.subtreeFlags&14680064),b!==null?m=In(b,m):(m=sr(m,w,o,null),m.flags|=2),m.return=s,c.return=s,c.sibling=m,s.child=c,c=m,m=s.child,w=t.child.memoizedState,w=w===null?Xl(o):{baseLanes:w.baseLanes|o,cachePool:null,transitions:w.transitions},m.memoizedState=w,m.childLanes=t.childLanes&~o,s.memoizedState=Yl,c}return m=t.child,t=m.sibling,c=In(m,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=o),c.return=s,c.sibling=null,t!==null&&(o=s.deletions,o===null?(s.deletions=[t],s.flags|=16):o.push(t)),s.child=c,s.memoizedState=null,c}function Zl(t,s){return s=To({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function po(t,s,o,c){return c!==null&&jl(c),Lr(s,t.child,null,o),t=Zl(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Vv(t,s,o,c,f,m,w){if(o)return s.flags&256?(s.flags&=-257,c=Kl(Error(r(422))),po(t,s,w,c)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(m=c.fallback,f=s.mode,c=To({mode:"visible",children:c.children},f,0,null),m=sr(m,f,w,null),m.flags|=2,c.return=s,m.return=s,c.sibling=m,s.child=c,(s.mode&1)!==0&&Lr(s,t.child,null,w),s.child.memoizedState=Xl(w),s.memoizedState=Yl,m);if((s.mode&1)===0)return po(t,s,w,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var b=c.dgst;return c=b,m=Error(r(419)),c=Kl(m,c,void 0),po(t,s,w,c)}if(b=(w&t.childLanes)!==0,gt||b){if(c=Xe,c!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(c.suspendedLanes|w))!==0?0:f,f!==0&&f!==m.retryLane&&(m.retryLane=f,ln(t,f),Ht(c,t,f,-1))}return mu(),c=Kl(Error(r(421))),po(t,s,w,c)}return f.data==="$?"?(s.flags|=128,s.child=t.child,s=Xv.bind(null,t),f._reactRetry=s,null):(t=m.treeContext,bt=Sn(f.nextSibling),_t=s,Re=!0,Bt=null,t!==null&&(Ct[Ot++]=on,Ct[Ot++]=an,Ct[Ot++]=Jn,on=t.id,an=t.overflow,Jn=s),s=Zl(s,c.children),s.flags|=4096,s)}function Tf(t,s,o){t.lanes|=s;var c=t.alternate;c!==null&&(c.lanes|=s),Ol(t.return,s,o)}function eu(t,s,o,c,f){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=o,m.tailMode=f)}function Pf(t,s,o){var c=s.pendingProps,f=c.revealOrder,m=c.tail;if(dt(t,s,c.children,o),c=Ne.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Tf(t,o,s);else if(t.tag===19)Tf(t,o,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(Te(Ne,c),(s.mode&1)===0)s.memoizedState=null;else switch(f){case"forwards":for(o=s.child,f=null;o!==null;)t=o.alternate,t!==null&&oo(t)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),eu(s,!1,f,o,m);break;case"backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(t=f.alternate,t!==null&&oo(t)===null){s.child=f;break}t=f.sibling,f.sibling=o,o=f,f=t}eu(s,!0,o,null,m);break;case"together":eu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function mo(t,s){(s.mode&1)===0&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function cn(t,s,o){if(t!==null&&(s.dependencies=t.dependencies),er|=s.lanes,(o&s.childLanes)===0)return null;if(t!==null&&s.child!==t.child)throw Error(r(153));if(s.child!==null){for(t=s.child,o=In(t,t.pendingProps),s.child=o,o.return=s;t.sibling!==null;)t=t.sibling,o=o.sibling=In(t,t.pendingProps),o.return=s;o.sibling=null}return s.child}function $v(t,s,o){switch(s.tag){case 3:kf(s),zr();break;case 5:Bh(s);break;case 1:mt(s.type)&&Qi(s);break;case 4:Nl(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,f=s.memoizedProps.value;Te(no,c._currentValue),c._currentValue=f;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(Te(Ne,Ne.current&1),s.flags|=128,null):(o&s.child.childLanes)!==0?jf(t,s,o):(Te(Ne,Ne.current&1),t=cn(t,s,o),t!==null?t.sibling:null);Te(Ne,Ne.current&1);break;case 19:if(c=(o&s.childLanes)!==0,(t.flags&128)!==0){if(c)return Pf(t,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Te(Ne,Ne.current),c)break;return null;case 22:case 23:return s.lanes=0,_f(t,s,o)}return cn(t,s,o)}var Cf,tu,Of,Af;Cf=function(t,s){for(var o=s.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},tu=function(){},Of=function(t,s,o,c){var f=t.memoizedProps;if(f!==c){t=s.stateNode,Xn(Xt.current);var m=null;switch(o){case"input":f=Oa(t,f),c=Oa(t,c),m=[];break;case"select":f=K({},f,{value:void 0}),c=K({},c,{value:void 0}),m=[];break;case"textarea":f=Na(t,f),c=Na(t,c),m=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=Ki)}Da(o,c);var w;o=null;for(N in f)if(!c.hasOwnProperty(N)&&f.hasOwnProperty(N)&&f[N]!=null)if(N==="style"){var b=f[N];for(w in b)b.hasOwnProperty(w)&&(o||(o={}),o[w]="")}else N!=="dangerouslySetInnerHTML"&&N!=="children"&&N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(a.hasOwnProperty(N)?m||(m=[]):(m=m||[]).push(N,null));for(N in c){var E=c[N];if(b=f?.[N],c.hasOwnProperty(N)&&E!==b&&(E!=null||b!=null))if(N==="style")if(b){for(w in b)!b.hasOwnProperty(w)||E&&E.hasOwnProperty(w)||(o||(o={}),o[w]="");for(w in E)E.hasOwnProperty(w)&&b[w]!==E[w]&&(o||(o={}),o[w]=E[w])}else o||(m||(m=[]),m.push(N,o)),o=E;else N==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,b=b?b.__html:void 0,E!=null&&b!==E&&(m=m||[]).push(N,E)):N==="children"?typeof E!="string"&&typeof E!="number"||(m=m||[]).push(N,""+E):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&(a.hasOwnProperty(N)?(E!=null&&N==="onScroll"&&Ce("scroll",t),m||b===E||(m=[])):(m=m||[]).push(N,E))}o&&(m=m||[]).push("style",o);var N=m;(s.updateQueue=N)&&(s.flags|=4)}},Af=function(t,s,o,c){o!==c&&(s.flags|=4)};function Hs(t,s){if(!Re)switch(t.tailMode){case"hidden":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function it(t){var s=t.alternate!==null&&t.alternate.child===t.child,o=0,c=0;if(s)for(var f=t.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=c,t.childLanes=o,s}function Bv(t,s,o){var c=s.pendingProps;switch(Sl(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(s),null;case 1:return mt(s.type)&&Ji(),it(s),null;case 3:return c=s.stateNode,Br(),Oe(pt),Oe(rt),Ml(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(eo(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Bt!==null&&(hu(Bt),Bt=null))),tu(t,s),it(s),null;case 5:Il(s);var f=Xn($s.current);if(o=s.type,t!==null&&s.stateNode!=null)Of(t,s,o,c,f),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(r(166));return it(s),null}if(t=Xn(Xt.current),eo(s)){c=s.stateNode,o=s.type;var m=s.memoizedProps;switch(c[Yt]=s,c[Ds]=m,t=(s.mode&1)!==0,o){case"dialog":Ce("cancel",c),Ce("close",c);break;case"iframe":case"object":case"embed":Ce("load",c);break;case"video":case"audio":for(f=0;f<Rs.length;f++)Ce(Rs[f],c);break;case"source":Ce("error",c);break;case"img":case"image":case"link":Ce("error",c),Ce("load",c);break;case"details":Ce("toggle",c);break;case"input":cd(c,m),Ce("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},Ce("invalid",c);break;case"textarea":fd(c,m),Ce("invalid",c)}Da(o,m),f=null;for(var w in m)if(m.hasOwnProperty(w)){var b=m[w];w==="children"?typeof b=="string"?c.textContent!==b&&(m.suppressHydrationWarning!==!0&&qi(c.textContent,b,t),f=["children",b]):typeof b=="number"&&c.textContent!==""+b&&(m.suppressHydrationWarning!==!0&&qi(c.textContent,b,t),f=["children",""+b]):a.hasOwnProperty(w)&&b!=null&&w==="onScroll"&&Ce("scroll",c)}switch(o){case"input":Pt(c),hd(c,m,!0);break;case"textarea":Pt(c),md(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=Ki)}c=f,s.updateQueue=c,c!==null&&(s.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=gd(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=w.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=w.createElement(o,{is:c.is}):(t=w.createElement(o),o==="select"&&(w=t,c.multiple?w.multiple=!0:c.size&&(w.size=c.size))):t=w.createElementNS(t,o),t[Yt]=s,t[Ds]=c,Cf(t,s,!1,!1),s.stateNode=t;e:{switch(w=Ma(o,c),o){case"dialog":Ce("cancel",t),Ce("close",t),f=c;break;case"iframe":case"object":case"embed":Ce("load",t),f=c;break;case"video":case"audio":for(f=0;f<Rs.length;f++)Ce(Rs[f],t);f=c;break;case"source":Ce("error",t),f=c;break;case"img":case"image":case"link":Ce("error",t),Ce("load",t),f=c;break;case"details":Ce("toggle",t),f=c;break;case"input":cd(t,c),f=Oa(t,c),Ce("invalid",t);break;case"option":f=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},f=K({},c,{value:void 0}),Ce("invalid",t);break;case"textarea":fd(t,c),f=Na(t,c),Ce("invalid",t);break;default:f=c}Da(o,f),b=f;for(m in b)if(b.hasOwnProperty(m)){var E=b[m];m==="style"?wd(t,E):m==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&yd(t,E)):m==="children"?typeof E=="string"?(o!=="textarea"||E!=="")&&fs(t,E):typeof E=="number"&&fs(t,""+E):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(a.hasOwnProperty(m)?E!=null&&m==="onScroll"&&Ce("scroll",t):E!=null&&C(t,m,E,w))}switch(o){case"input":Pt(t),hd(t,c,!1);break;case"textarea":Pt(t),md(t);break;case"option":c.value!=null&&t.setAttribute("value",""+ye(c.value));break;case"select":t.multiple=!!c.multiple,m=c.value,m!=null?br(t,!!c.multiple,m,!1):c.defaultValue!=null&&br(t,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(t.onclick=Ki)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return it(s),null;case 6:if(t&&s.stateNode!=null)Af(t,s,t.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(o=Xn($s.current),Xn(Xt.current),eo(s)){if(c=s.stateNode,o=s.memoizedProps,c[Yt]=s,(m=c.nodeValue!==o)&&(t=_t,t!==null))switch(t.tag){case 3:qi(c.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qi(c.nodeValue,o,(t.mode&1)!==0)}m&&(s.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[Yt]=s,s.stateNode=c}return it(s),null;case 13:if(Oe(Ne),c=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Re&&bt!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Nh(),zr(),s.flags|=98560,m=!1;else if(m=eo(s),c!==null&&c.dehydrated!==null){if(t===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[Yt]=s}else zr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;it(s),m=!1}else Bt!==null&&(hu(Bt),Bt=null),m=!0;if(!m)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=o,s):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(t===null||(Ne.current&1)!==0?Ge===0&&(Ge=3):mu())),s.updateQueue!==null&&(s.flags|=4),it(s),null);case 4:return Br(),tu(t,s),t===null&&Ns(s.stateNode.containerInfo),it(s),null;case 10:return Cl(s.type._context),it(s),null;case 17:return mt(s.type)&&Ji(),it(s),null;case 19:if(Oe(Ne),m=s.memoizedState,m===null)return it(s),null;if(c=(s.flags&128)!==0,w=m.rendering,w===null)if(c)Hs(m,!1);else{if(Ge!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(w=oo(t),w!==null){for(s.flags|=128,Hs(m,!1),c=w.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=o,o=s.child;o!==null;)m=o,t=c,m.flags&=14680066,w=m.alternate,w===null?(m.childLanes=0,m.lanes=t,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=w.childLanes,m.lanes=w.lanes,m.child=w.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=w.memoizedProps,m.memoizedState=w.memoizedState,m.updateQueue=w.updateQueue,m.type=w.type,t=w.dependencies,m.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return Te(Ne,Ne.current&1|2),s.child}t=t.sibling}m.tail!==null&&Ve()>Hr&&(s.flags|=128,c=!0,Hs(m,!1),s.lanes=4194304)}else{if(!c)if(t=oo(w),t!==null){if(s.flags|=128,c=!0,o=t.updateQueue,o!==null&&(s.updateQueue=o,s.flags|=4),Hs(m,!0),m.tail===null&&m.tailMode==="hidden"&&!w.alternate&&!Re)return it(s),null}else 2*Ve()-m.renderingStartTime>Hr&&o!==1073741824&&(s.flags|=128,c=!0,Hs(m,!1),s.lanes=4194304);m.isBackwards?(w.sibling=s.child,s.child=w):(o=m.last,o!==null?o.sibling=w:s.child=w,m.last=w)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=Ve(),s.sibling=null,o=Ne.current,Te(Ne,c?o&1|2:o&1),s):(it(s),null);case 22:case 23:return pu(),c=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(St&1073741824)!==0&&(it(s),s.subtreeFlags&6&&(s.flags|=8192)):it(s),null;case 24:return null;case 25:return null}throw Error(r(156,s.tag))}function Uv(t,s){switch(Sl(s),s.tag){case 1:return mt(s.type)&&Ji(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Br(),Oe(pt),Oe(rt),Ml(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 5:return Il(s),null;case 13:if(Oe(Ne),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(r(340));zr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Oe(Ne),null;case 4:return Br(),null;case 10:return Cl(s.type._context),null;case 22:case 23:return pu(),null;case 24:return null;default:return null}}var go=!1,ot=!1,Fv=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Fr(t,s){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){Le(t,s,c)}else o.current=null}function nu(t,s,o){try{o()}catch(c){Le(t,s,c)}}var Rf=!1;function Wv(t,s){if(pl=Di,t=uh(),ol(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var w=0,b=-1,E=-1,N=0,U=0,F=t,B=null;t:for(;;){for(var G;F!==o||f!==0&&F.nodeType!==3||(b=w+f),F!==m||c!==0&&F.nodeType!==3||(E=w+c),F.nodeType===3&&(w+=F.nodeValue.length),(G=F.firstChild)!==null;)B=F,F=G;for(;;){if(F===t)break t;if(B===o&&++N===f&&(b=w),B===m&&++U===c&&(E=w),(G=F.nextSibling)!==null)break;F=B,B=F.parentNode}F=G}o=b===-1||E===-1?null:{start:b,end:E}}else o=null}o=o||{start:0,end:0}}else o=null;for(ml={focusedElem:t,selectionRange:o},Di=!1,Q=s;Q!==null;)if(s=Q,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,Q=t;else for(;Q!==null;){s=Q;try{var Z=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Z!==null){var re=Z.memoizedProps,$e=Z.memoizedState,O=s.stateNode,P=O.getSnapshotBeforeUpdate(s.elementType===s.type?re:Ut(s.type,re),$e);O.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var R=s.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(H){Le(s,s.return,H)}if(t=s.sibling,t!==null){t.return=s.return,Q=t;break}Q=s.return}return Z=Rf,Rf=!1,Z}function qs(t,s,o){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&t)===t){var m=f.destroy;f.destroy=void 0,m!==void 0&&nu(s,o,m)}f=f.next}while(f!==c)}}function yo(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&t)===t){var c=o.create;o.destroy=c()}o=o.next}while(o!==s)}}function ru(t){var s=t.ref;if(s!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof s=="function"?s(t):s.current=t}}function Nf(t){var s=t.alternate;s!==null&&(t.alternate=null,Nf(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[Yt],delete s[Ds],delete s[wl],delete s[jv],delete s[Tv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function If(t){return t.tag===5||t.tag===3||t.tag===4}function Df(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||If(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function su(t,s,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(t,s):o.insertBefore(t,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(t,o)):(s=o,s.appendChild(t)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Ki));else if(c!==4&&(t=t.child,t!==null))for(su(t,s,o),t=t.sibling;t!==null;)su(t,s,o),t=t.sibling}function iu(t,s,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?o.insertBefore(t,s):o.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(iu(t,s,o),t=t.sibling;t!==null;)iu(t,s,o),t=t.sibling}var et=null,Ft=!1;function Cn(t,s,o){for(o=o.child;o!==null;)Mf(t,s,o),o=o.sibling}function Mf(t,s,o){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(Ci,o)}catch{}switch(o.tag){case 5:ot||Fr(o,s);case 6:var c=et,f=Ft;et=null,Cn(t,s,o),et=c,Ft=f,et!==null&&(Ft?(t=et,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):et.removeChild(o.stateNode));break;case 18:et!==null&&(Ft?(t=et,o=o.stateNode,t.nodeType===8?vl(t.parentNode,o):t.nodeType===1&&vl(t,o),ks(t)):vl(et,o.stateNode));break;case 4:c=et,f=Ft,et=o.stateNode.containerInfo,Ft=!0,Cn(t,s,o),et=c,Ft=f;break;case 0:case 11:case 14:case 15:if(!ot&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var m=f,w=m.destroy;m=m.tag,w!==void 0&&((m&2)!==0||(m&4)!==0)&&nu(o,s,w),f=f.next}while(f!==c)}Cn(t,s,o);break;case 1:if(!ot&&(Fr(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(b){Le(o,s,b)}Cn(t,s,o);break;case 21:Cn(t,s,o);break;case 22:o.mode&1?(ot=(c=ot)||o.memoizedState!==null,Cn(t,s,o),ot=c):Cn(t,s,o);break;default:Cn(t,s,o)}}function zf(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new Fv),s.forEach(function(c){var f=Zv.bind(null,t,c);o.has(c)||(o.add(c),c.then(f,f))})}}function Wt(t,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];try{var m=t,w=s,b=w;e:for(;b!==null;){switch(b.tag){case 5:et=b.stateNode,Ft=!1;break e;case 3:et=b.stateNode.containerInfo,Ft=!0;break e;case 4:et=b.stateNode.containerInfo,Ft=!0;break e}b=b.return}if(et===null)throw Error(r(160));Mf(m,w,f),et=null,Ft=!1;var E=f.alternate;E!==null&&(E.return=null),f.return=null}catch(N){Le(f,s,N)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Lf(s,t),s=s.sibling}function Lf(t,s){var o=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Wt(s,t),en(t),c&4){try{qs(3,t,t.return),yo(3,t)}catch(re){Le(t,t.return,re)}try{qs(5,t,t.return)}catch(re){Le(t,t.return,re)}}break;case 1:Wt(s,t),en(t),c&512&&o!==null&&Fr(o,o.return);break;case 5:if(Wt(s,t),en(t),c&512&&o!==null&&Fr(o,o.return),t.flags&32){var f=t.stateNode;try{fs(f,"")}catch(re){Le(t,t.return,re)}}if(c&4&&(f=t.stateNode,f!=null)){var m=t.memoizedProps,w=o!==null?o.memoizedProps:m,b=t.type,E=t.updateQueue;if(t.updateQueue=null,E!==null)try{b==="input"&&m.type==="radio"&&m.name!=null&&dd(f,m),Ma(b,w);var N=Ma(b,m);for(w=0;w<E.length;w+=2){var U=E[w],F=E[w+1];U==="style"?wd(f,F):U==="dangerouslySetInnerHTML"?yd(f,F):U==="children"?fs(f,F):C(f,U,F,N)}switch(b){case"input":Aa(f,m);break;case"textarea":pd(f,m);break;case"select":var B=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!m.multiple;var G=m.value;G!=null?br(f,!!m.multiple,G,!1):B!==!!m.multiple&&(m.defaultValue!=null?br(f,!!m.multiple,m.defaultValue,!0):br(f,!!m.multiple,m.multiple?[]:"",!1))}f[Ds]=m}catch(re){Le(t,t.return,re)}}break;case 6:if(Wt(s,t),en(t),c&4){if(t.stateNode===null)throw Error(r(162));f=t.stateNode,m=t.memoizedProps;try{f.nodeValue=m}catch(re){Le(t,t.return,re)}}break;case 3:if(Wt(s,t),en(t),c&4&&o!==null&&o.memoizedState.isDehydrated)try{ks(s.containerInfo)}catch(re){Le(t,t.return,re)}break;case 4:Wt(s,t),en(t);break;case 13:Wt(s,t),en(t),f=t.child,f.flags&8192&&(m=f.memoizedState!==null,f.stateNode.isHidden=m,!m||f.alternate!==null&&f.alternate.memoizedState!==null||(lu=Ve())),c&4&&zf(t);break;case 22:if(U=o!==null&&o.memoizedState!==null,t.mode&1?(ot=(N=ot)||U,Wt(s,t),ot=N):Wt(s,t),en(t),c&8192){if(N=t.memoizedState!==null,(t.stateNode.isHidden=N)&&!U&&(t.mode&1)!==0)for(Q=t,U=t.child;U!==null;){for(F=Q=U;Q!==null;){switch(B=Q,G=B.child,B.tag){case 0:case 11:case 14:case 15:qs(4,B,B.return);break;case 1:Fr(B,B.return);var Z=B.stateNode;if(typeof Z.componentWillUnmount=="function"){c=B,o=B.return;try{s=c,Z.props=s.memoizedProps,Z.state=s.memoizedState,Z.componentWillUnmount()}catch(re){Le(c,o,re)}}break;case 5:Fr(B,B.return);break;case 22:if(B.memoizedState!==null){Bf(F);continue}}G!==null?(G.return=B,Q=G):Bf(F)}U=U.sibling}e:for(U=null,F=t;;){if(F.tag===5){if(U===null){U=F;try{f=F.stateNode,N?(m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(b=F.stateNode,E=F.memoizedProps.style,w=E!=null&&E.hasOwnProperty("display")?E.display:null,b.style.display=vd("display",w))}catch(re){Le(t,t.return,re)}}}else if(F.tag===6){if(U===null)try{F.stateNode.nodeValue=N?"":F.memoizedProps}catch(re){Le(t,t.return,re)}}else if((F.tag!==22&&F.tag!==23||F.memoizedState===null||F===t)&&F.child!==null){F.child.return=F,F=F.child;continue}if(F===t)break e;for(;F.sibling===null;){if(F.return===null||F.return===t)break e;U===F&&(U=null),F=F.return}U===F&&(U=null),F.sibling.return=F.return,F=F.sibling}}break;case 19:Wt(s,t),en(t),c&4&&zf(t);break;case 21:break;default:Wt(s,t),en(t)}}function en(t){var s=t.flags;if(s&2){try{e:{for(var o=t.return;o!==null;){if(If(o)){var c=o;break e}o=o.return}throw Error(r(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(fs(f,""),c.flags&=-33);var m=Df(t);iu(t,m,f);break;case 3:case 4:var w=c.stateNode.containerInfo,b=Df(t);su(t,b,w);break;default:throw Error(r(161))}}catch(E){Le(t,t.return,E)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Hv(t,s,o){Q=t,Vf(t)}function Vf(t,s,o){for(var c=(t.mode&1)!==0;Q!==null;){var f=Q,m=f.child;if(f.tag===22&&c){var w=f.memoizedState!==null||go;if(!w){var b=f.alternate,E=b!==null&&b.memoizedState!==null||ot;b=go;var N=ot;if(go=w,(ot=E)&&!N)for(Q=f;Q!==null;)w=Q,E=w.child,w.tag===22&&w.memoizedState!==null?Uf(f):E!==null?(E.return=w,Q=E):Uf(f);for(;m!==null;)Q=m,Vf(m),m=m.sibling;Q=f,go=b,ot=N}$f(t)}else(f.subtreeFlags&8772)!==0&&m!==null?(m.return=f,Q=m):$f(t)}}function $f(t){for(;Q!==null;){var s=Q;if((s.flags&8772)!==0){var o=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:ot||yo(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!ot)if(o===null)c.componentDidMount();else{var f=s.elementType===s.type?o.memoizedProps:Ut(s.type,o.memoizedProps);c.componentDidUpdate(f,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=s.updateQueue;m!==null&&$h(s,m,c);break;case 3:var w=s.updateQueue;if(w!==null){if(o=null,s.child!==null)switch(s.child.tag){case 5:o=s.child.stateNode;break;case 1:o=s.child.stateNode}$h(s,w,o)}break;case 5:var b=s.stateNode;if(o===null&&s.flags&4){o=b;var E=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&o.focus();break;case"img":E.src&&(o.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var N=s.alternate;if(N!==null){var U=N.memoizedState;if(U!==null){var F=U.dehydrated;F!==null&&ks(F)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}ot||s.flags&512&&ru(s)}catch(B){Le(s,s.return,B)}}if(s===t){Q=null;break}if(o=s.sibling,o!==null){o.return=s.return,Q=o;break}Q=s.return}}function Bf(t){for(;Q!==null;){var s=Q;if(s===t){Q=null;break}var o=s.sibling;if(o!==null){o.return=s.return,Q=o;break}Q=s.return}}function Uf(t){for(;Q!==null;){var s=Q;try{switch(s.tag){case 0:case 11:case 15:var o=s.return;try{yo(4,s)}catch(E){Le(s,o,E)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var f=s.return;try{c.componentDidMount()}catch(E){Le(s,f,E)}}var m=s.return;try{ru(s)}catch(E){Le(s,m,E)}break;case 5:var w=s.return;try{ru(s)}catch(E){Le(s,w,E)}}}catch(E){Le(s,s.return,E)}if(s===t){Q=null;break}var b=s.sibling;if(b!==null){b.return=s.return,Q=b;break}Q=s.return}}var qv=Math.ceil,vo=z.ReactCurrentDispatcher,ou=z.ReactCurrentOwner,Nt=z.ReactCurrentBatchConfig,we=0,Xe=null,Fe=null,tt=0,St=0,Wr=kn(0),Ge=0,Ks=null,er=0,wo=0,au=0,Gs=null,yt=null,lu=0,Hr=1/0,dn=null,xo=!1,uu=null,On=null,_o=!1,An=null,bo=0,Js=0,cu=null,So=-1,ko=0;function ht(){return(we&6)!==0?Ve():So!==-1?So:So=Ve()}function Rn(t){return(t.mode&1)===0?1:(we&2)!==0&&tt!==0?tt&-tt:Cv.transition!==null?(ko===0&&(ko=Id()),ko):(t=Se,t!==0||(t=window.event,t=t===void 0?16:Fd(t.type)),t)}function Ht(t,s,o,c){if(50<Js)throw Js=0,cu=null,Error(r(185));ws(t,o,c),((we&2)===0||t!==Xe)&&(t===Xe&&((we&2)===0&&(wo|=o),Ge===4&&Nn(t,tt)),vt(t,c),o===1&&we===0&&(s.mode&1)===0&&(Hr=Ve()+500,Yi&&jn()))}function vt(t,s){var o=t.callbackNode;C0(t,s);var c=Ri(t,t===Xe?tt:0);if(c===0)o!==null&&Ad(o),t.callbackNode=null,t.callbackPriority=0;else if(s=c&-c,t.callbackPriority!==s){if(o!=null&&Ad(o),s===1)t.tag===0?Pv(Wf.bind(null,t)):Ph(Wf.bind(null,t)),kv(function(){(we&6)===0&&jn()}),o=null;else{switch(Dd(c)){case 1:o=Fa;break;case 4:o=Rd;break;case 16:o=Pi;break;case 536870912:o=Nd;break;default:o=Pi}o=Xf(o,Ff.bind(null,t))}t.callbackPriority=s,t.callbackNode=o}}function Ff(t,s){if(So=-1,ko=0,(we&6)!==0)throw Error(r(327));var o=t.callbackNode;if(qr()&&t.callbackNode!==o)return null;var c=Ri(t,t===Xe?tt:0);if(c===0)return null;if((c&30)!==0||(c&t.expiredLanes)!==0||s)s=Eo(t,c);else{s=c;var f=we;we|=2;var m=qf();(Xe!==t||tt!==s)&&(dn=null,Hr=Ve()+500,nr(t,s));do try{Jv();break}catch(b){Hf(t,b)}while(!0);Pl(),vo.current=m,we=f,Fe!==null?s=0:(Xe=null,tt=0,s=Ge)}if(s!==0){if(s===2&&(f=Wa(t),f!==0&&(c=f,s=du(t,f))),s===1)throw o=Ks,nr(t,0),Nn(t,c),vt(t,Ve()),o;if(s===6)Nn(t,c);else{if(f=t.current.alternate,(c&30)===0&&!Kv(f)&&(s=Eo(t,c),s===2&&(m=Wa(t),m!==0&&(c=m,s=du(t,m))),s===1))throw o=Ks,nr(t,0),Nn(t,c),vt(t,Ve()),o;switch(t.finishedWork=f,t.finishedLanes=c,s){case 0:case 1:throw Error(r(345));case 2:rr(t,yt,dn);break;case 3:if(Nn(t,c),(c&130023424)===c&&(s=lu+500-Ve(),10<s)){if(Ri(t,0)!==0)break;if(f=t.suspendedLanes,(f&c)!==c){ht(),t.pingedLanes|=t.suspendedLanes&f;break}t.timeoutHandle=yl(rr.bind(null,t,yt,dn),s);break}rr(t,yt,dn);break;case 4:if(Nn(t,c),(c&4194240)===c)break;for(s=t.eventTimes,f=-1;0<c;){var w=31-Vt(c);m=1<<w,w=s[w],w>f&&(f=w),c&=~m}if(c=f,c=Ve()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*qv(c/1960))-c,10<c){t.timeoutHandle=yl(rr.bind(null,t,yt,dn),c);break}rr(t,yt,dn);break;case 5:rr(t,yt,dn);break;default:throw Error(r(329))}}}return vt(t,Ve()),t.callbackNode===o?Ff.bind(null,t):null}function du(t,s){var o=Gs;return t.current.memoizedState.isDehydrated&&(nr(t,s).flags|=256),t=Eo(t,s),t!==2&&(s=yt,yt=o,s!==null&&hu(s)),t}function hu(t){yt===null?yt=t:yt.push.apply(yt,t)}function Kv(t){for(var s=t;;){if(s.flags&16384){var o=s.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var f=o[c],m=f.getSnapshot;f=f.value;try{if(!$t(m(),f))return!1}catch{return!1}}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Nn(t,s){for(s&=~au,s&=~wo,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var o=31-Vt(s),c=1<<o;t[o]=-1,s&=~c}}function Wf(t){if((we&6)!==0)throw Error(r(327));qr();var s=Ri(t,0);if((s&1)===0)return vt(t,Ve()),null;var o=Eo(t,s);if(t.tag!==0&&o===2){var c=Wa(t);c!==0&&(s=c,o=du(t,c))}if(o===1)throw o=Ks,nr(t,0),Nn(t,s),vt(t,Ve()),o;if(o===6)throw Error(r(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,rr(t,yt,dn),vt(t,Ve()),null}function fu(t,s){var o=we;we|=1;try{return t(s)}finally{we=o,we===0&&(Hr=Ve()+500,Yi&&jn())}}function tr(t){An!==null&&An.tag===0&&(we&6)===0&&qr();var s=we;we|=1;var o=Nt.transition,c=Se;try{if(Nt.transition=null,Se=1,t)return t()}finally{Se=c,Nt.transition=o,we=s,(we&6)===0&&jn()}}function pu(){St=Wr.current,Oe(Wr)}function nr(t,s){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Sv(o)),Fe!==null)for(o=Fe.return;o!==null;){var c=o;switch(Sl(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Ji();break;case 3:Br(),Oe(pt),Oe(rt),Ml();break;case 5:Il(c);break;case 4:Br();break;case 13:Oe(Ne);break;case 19:Oe(Ne);break;case 10:Cl(c.type._context);break;case 22:case 23:pu()}o=o.return}if(Xe=t,Fe=t=In(t.current,null),tt=St=s,Ge=0,Ks=null,au=wo=er=0,yt=Gs=null,Yn!==null){for(s=0;s<Yn.length;s++)if(o=Yn[s],c=o.interleaved,c!==null){o.interleaved=null;var f=c.next,m=o.pending;if(m!==null){var w=m.next;m.next=f,c.next=w}o.pending=c}Yn=null}return t}function Hf(t,s){do{var o=Fe;try{if(Pl(),ao.current=ho,lo){for(var c=Ie.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}lo=!1}if(Zn=0,Ye=Ke=Ie=null,Bs=!1,Us=0,ou.current=null,o===null||o.return===null){Ge=1,Ks=s,Fe=null;break}e:{var m=t,w=o.return,b=o,E=s;if(s=tt,b.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var N=E,U=b,F=U.tag;if((U.mode&1)===0&&(F===0||F===11||F===15)){var B=U.alternate;B?(U.updateQueue=B.updateQueue,U.memoizedState=B.memoizedState,U.lanes=B.lanes):(U.updateQueue=null,U.memoizedState=null)}var G=gf(w);if(G!==null){G.flags&=-257,yf(G,w,b,m,s),G.mode&1&&mf(m,N,s),s=G,E=N;var Z=s.updateQueue;if(Z===null){var re=new Set;re.add(E),s.updateQueue=re}else Z.add(E);break e}else{if((s&1)===0){mf(m,N,s),mu();break e}E=Error(r(426))}}else if(Re&&b.mode&1){var $e=gf(w);if($e!==null){($e.flags&65536)===0&&($e.flags|=256),yf($e,w,b,m,s),jl(Ur(E,b));break e}}m=E=Ur(E,b),Ge!==4&&(Ge=2),Gs===null?Gs=[m]:Gs.push(m),m=w;do{switch(m.tag){case 3:m.flags|=65536,s&=-s,m.lanes|=s;var O=ff(m,E,s);Vh(m,O);break e;case 1:b=E;var P=m.type,R=m.stateNode;if((m.flags&128)===0&&(typeof P.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(On===null||!On.has(R)))){m.flags|=65536,s&=-s,m.lanes|=s;var H=pf(m,b,s);Vh(m,H);break e}}m=m.return}while(m!==null)}Gf(o)}catch(se){s=se,Fe===o&&o!==null&&(Fe=o=o.return);continue}break}while(!0)}function qf(){var t=vo.current;return vo.current=ho,t===null?ho:t}function mu(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),Xe===null||(er&268435455)===0&&(wo&268435455)===0||Nn(Xe,tt)}function Eo(t,s){var o=we;we|=2;var c=qf();(Xe!==t||tt!==s)&&(dn=null,nr(t,s));do try{Gv();break}catch(f){Hf(t,f)}while(!0);if(Pl(),we=o,vo.current=c,Fe!==null)throw Error(r(261));return Xe=null,tt=0,Ge}function Gv(){for(;Fe!==null;)Kf(Fe)}function Jv(){for(;Fe!==null&&!x0();)Kf(Fe)}function Kf(t){var s=Yf(t.alternate,t,St);t.memoizedProps=t.pendingProps,s===null?Gf(t):Fe=s,ou.current=null}function Gf(t){var s=t;do{var o=s.alternate;if(t=s.return,(s.flags&32768)===0){if(o=Bv(o,s,St),o!==null){Fe=o;return}}else{if(o=Uv(o,s),o!==null){o.flags&=32767,Fe=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ge=6,Fe=null;return}}if(s=s.sibling,s!==null){Fe=s;return}Fe=s=t}while(s!==null);Ge===0&&(Ge=5)}function rr(t,s,o){var c=Se,f=Nt.transition;try{Nt.transition=null,Se=1,Qv(t,s,o,c)}finally{Nt.transition=f,Se=c}return null}function Qv(t,s,o,c){do qr();while(An!==null);if((we&6)!==0)throw Error(r(327));o=t.finishedWork;var f=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0;var m=o.lanes|o.childLanes;if(O0(t,m),t===Xe&&(Fe=Xe=null,tt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||_o||(_o=!0,Xf(Pi,function(){return qr(),null})),m=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||m){m=Nt.transition,Nt.transition=null;var w=Se;Se=1;var b=we;we|=4,ou.current=null,Wv(t,o),Lf(o,t),gv(ml),Di=!!pl,ml=pl=null,t.current=o,Hv(o),_0(),we=b,Se=w,Nt.transition=m}else t.current=o;if(_o&&(_o=!1,An=t,bo=f),m=t.pendingLanes,m===0&&(On=null),k0(o.stateNode),vt(t,Ve()),s!==null)for(c=t.onRecoverableError,o=0;o<s.length;o++)f=s[o],c(f.value,{componentStack:f.stack,digest:f.digest});if(xo)throw xo=!1,t=uu,uu=null,t;return(bo&1)!==0&&t.tag!==0&&qr(),m=t.pendingLanes,(m&1)!==0?t===cu?Js++:(Js=0,cu=t):Js=0,jn(),null}function qr(){if(An!==null){var t=Dd(bo),s=Nt.transition,o=Se;try{if(Nt.transition=null,Se=16>t?16:t,An===null)var c=!1;else{if(t=An,An=null,bo=0,(we&6)!==0)throw Error(r(331));var f=we;for(we|=4,Q=t.current;Q!==null;){var m=Q,w=m.child;if((Q.flags&16)!==0){var b=m.deletions;if(b!==null){for(var E=0;E<b.length;E++){var N=b[E];for(Q=N;Q!==null;){var U=Q;switch(U.tag){case 0:case 11:case 15:qs(8,U,m)}var F=U.child;if(F!==null)F.return=U,Q=F;else for(;Q!==null;){U=Q;var B=U.sibling,G=U.return;if(Nf(U),U===N){Q=null;break}if(B!==null){B.return=G,Q=B;break}Q=G}}}var Z=m.alternate;if(Z!==null){var re=Z.child;if(re!==null){Z.child=null;do{var $e=re.sibling;re.sibling=null,re=$e}while(re!==null)}}Q=m}}if((m.subtreeFlags&2064)!==0&&w!==null)w.return=m,Q=w;else e:for(;Q!==null;){if(m=Q,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:qs(9,m,m.return)}var O=m.sibling;if(O!==null){O.return=m.return,Q=O;break e}Q=m.return}}var P=t.current;for(Q=P;Q!==null;){w=Q;var R=w.child;if((w.subtreeFlags&2064)!==0&&R!==null)R.return=w,Q=R;else e:for(w=P;Q!==null;){if(b=Q,(b.flags&2048)!==0)try{switch(b.tag){case 0:case 11:case 15:yo(9,b)}}catch(se){Le(b,b.return,se)}if(b===w){Q=null;break e}var H=b.sibling;if(H!==null){H.return=b.return,Q=H;break e}Q=b.return}}if(we=f,jn(),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(Ci,t)}catch{}c=!0}return c}finally{Se=o,Nt.transition=s}}return!1}function Jf(t,s,o){s=Ur(o,s),s=ff(t,s,1),t=Pn(t,s,1),s=ht(),t!==null&&(ws(t,1,s),vt(t,s))}function Le(t,s,o){if(t.tag===3)Jf(t,t,o);else for(;s!==null;){if(s.tag===3){Jf(s,t,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(On===null||!On.has(c))){t=Ur(o,t),t=pf(s,t,1),s=Pn(s,t,1),t=ht(),s!==null&&(ws(s,1,t),vt(s,t));break}}s=s.return}}function Yv(t,s,o){var c=t.pingCache;c!==null&&c.delete(s),s=ht(),t.pingedLanes|=t.suspendedLanes&o,Xe===t&&(tt&o)===o&&(Ge===4||Ge===3&&(tt&130023424)===tt&&500>Ve()-lu?nr(t,0):au|=o),vt(t,s)}function Qf(t,s){s===0&&((t.mode&1)===0?s=1:(s=Ai,Ai<<=1,(Ai&130023424)===0&&(Ai=4194304)));var o=ht();t=ln(t,s),t!==null&&(ws(t,s,o),vt(t,o))}function Xv(t){var s=t.memoizedState,o=0;s!==null&&(o=s.retryLane),Qf(t,o)}function Zv(t,s){var o=0;switch(t.tag){case 13:var c=t.stateNode,f=t.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(r(314))}c!==null&&c.delete(s),Qf(t,o)}var Yf;Yf=function(t,s,o){if(t!==null)if(t.memoizedProps!==s.pendingProps||pt.current)gt=!0;else{if((t.lanes&o)===0&&(s.flags&128)===0)return gt=!1,$v(t,s,o);gt=(t.flags&131072)!==0}else gt=!1,Re&&(s.flags&1048576)!==0&&Ch(s,Zi,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;mo(t,s),t=s.pendingProps;var f=Ir(s,rt.current);$r(s,o),f=Vl(null,s,c,t,f,o);var m=$l();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,mt(c)?(m=!0,Qi(s)):m=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Rl(s),f.updater=fo,s.stateNode=f,f._reactInternals=s,ql(s,c,t,o),s=Ql(null,s,c,!0,m,o)):(s.tag=0,Re&&m&&bl(s),dt(null,s,f,o),s=s.child),s;case 16:c=s.elementType;e:{switch(mo(t,s),t=s.pendingProps,f=c._init,c=f(c._payload),s.type=c,f=s.tag=tw(c),t=Ut(c,t),f){case 0:s=Jl(null,s,c,t,o);break e;case 1:s=Sf(null,s,c,t,o);break e;case 11:s=vf(null,s,c,t,o);break e;case 14:s=wf(null,s,c,Ut(c.type,t),o);break e}throw Error(r(306,c,""))}return s;case 0:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Ut(c,f),Jl(t,s,c,f,o);case 1:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Ut(c,f),Sf(t,s,c,f,o);case 3:e:{if(kf(s),t===null)throw Error(r(387));c=s.pendingProps,m=s.memoizedState,f=m.element,Lh(t,s),io(s,c,null,o);var w=s.memoizedState;if(c=w.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){f=Ur(Error(r(423)),s),s=Ef(t,s,c,o,f);break e}else if(c!==f){f=Ur(Error(r(424)),s),s=Ef(t,s,c,o,f);break e}else for(bt=Sn(s.stateNode.containerInfo.firstChild),_t=s,Re=!0,Bt=null,o=Mh(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(zr(),c===f){s=cn(t,s,o);break e}dt(t,s,c,o)}s=s.child}return s;case 5:return Bh(s),t===null&&El(s),c=s.type,f=s.pendingProps,m=t!==null?t.memoizedProps:null,w=f.children,gl(c,f)?w=null:m!==null&&gl(c,m)&&(s.flags|=32),bf(t,s),dt(t,s,w,o),s.child;case 6:return t===null&&El(s),null;case 13:return jf(t,s,o);case 4:return Nl(s,s.stateNode.containerInfo),c=s.pendingProps,t===null?s.child=Lr(s,null,c,o):dt(t,s,c,o),s.child;case 11:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Ut(c,f),vf(t,s,c,f,o);case 7:return dt(t,s,s.pendingProps,o),s.child;case 8:return dt(t,s,s.pendingProps.children,o),s.child;case 12:return dt(t,s,s.pendingProps.children,o),s.child;case 10:e:{if(c=s.type._context,f=s.pendingProps,m=s.memoizedProps,w=f.value,Te(no,c._currentValue),c._currentValue=w,m!==null)if($t(m.value,w)){if(m.children===f.children&&!pt.current){s=cn(t,s,o);break e}}else for(m=s.child,m!==null&&(m.return=s);m!==null;){var b=m.dependencies;if(b!==null){w=m.child;for(var E=b.firstContext;E!==null;){if(E.context===c){if(m.tag===1){E=un(-1,o&-o),E.tag=2;var N=m.updateQueue;if(N!==null){N=N.shared;var U=N.pending;U===null?E.next=E:(E.next=U.next,U.next=E),N.pending=E}}m.lanes|=o,E=m.alternate,E!==null&&(E.lanes|=o),Ol(m.return,o,s),b.lanes|=o;break}E=E.next}}else if(m.tag===10)w=m.type===s.type?null:m.child;else if(m.tag===18){if(w=m.return,w===null)throw Error(r(341));w.lanes|=o,b=w.alternate,b!==null&&(b.lanes|=o),Ol(w,o,s),w=m.sibling}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===s){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}dt(t,s,f.children,o),s=s.child}return s;case 9:return f=s.type,c=s.pendingProps.children,$r(s,o),f=At(f),c=c(f),s.flags|=1,dt(t,s,c,o),s.child;case 14:return c=s.type,f=Ut(c,s.pendingProps),f=Ut(c.type,f),wf(t,s,c,f,o);case 15:return xf(t,s,s.type,s.pendingProps,o);case 17:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Ut(c,f),mo(t,s),s.tag=1,mt(c)?(t=!0,Qi(s)):t=!1,$r(s,o),df(s,c,f),ql(s,c,f,o),Ql(null,s,c,!0,t,o);case 19:return Pf(t,s,o);case 22:return _f(t,s,o)}throw Error(r(156,s.tag))};function Xf(t,s){return Od(t,s)}function ew(t,s,o,c){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(t,s,o,c){return new ew(t,s,o,c)}function gu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tw(t){if(typeof t=="function")return gu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===xe)return 11;if(t===Ae)return 14}return 2}function In(t,s){var o=t.alternate;return o===null?(o=It(t.tag,s,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=s,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,s=t.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function jo(t,s,o,c,f,m){var w=2;if(c=t,typeof t=="function")gu(t)&&(w=1);else if(typeof t=="string")w=5;else e:switch(t){case $:return sr(o.children,f,m,s);case W:w=8,f|=8;break;case ee:return t=It(12,o,s,f|2),t.elementType=ee,t.lanes=m,t;case ke:return t=It(13,o,s,f),t.elementType=ke,t.lanes=m,t;case fe:return t=It(19,o,s,f),t.elementType=fe,t.lanes=m,t;case ve:return To(o,f,m,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case je:w=10;break e;case qe:w=9;break e;case xe:w=11;break e;case Ae:w=14;break e;case me:w=16,c=null;break e}throw Error(r(130,t==null?t:typeof t,""))}return s=It(w,o,s,f),s.elementType=t,s.type=c,s.lanes=m,s}function sr(t,s,o,c){return t=It(7,t,c,s),t.lanes=o,t}function To(t,s,o,c){return t=It(22,t,c,s),t.elementType=ve,t.lanes=o,t.stateNode={isHidden:!1},t}function yu(t,s,o){return t=It(6,t,null,s),t.lanes=o,t}function vu(t,s,o){return s=It(4,t.children!==null?t.children:[],t.key,s),s.lanes=o,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function nw(t,s,o,c,f){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ha(0),this.expirationTimes=Ha(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ha(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function wu(t,s,o,c,f,m,w,b,E){return t=new nw(t,s,o,b,E),s===1?(s=1,m===!0&&(s|=8)):s=0,m=It(3,null,null,s),t.current=m,m.stateNode=t,m.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rl(m),t}function rw(t,s,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:c==null?null:""+c,children:t,containerInfo:s,implementation:o}}function Zf(t){if(!t)return En;t=t._reactInternals;e:{if(qn(t)!==t||t.tag!==1)throw Error(r(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(mt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(r(171))}if(t.tag===1){var o=t.type;if(mt(o))return jh(t,o,s)}return s}function ep(t,s,o,c,f,m,w,b,E){return t=wu(o,c,!0,t,f,m,w,b,E),t.context=Zf(null),o=t.current,c=ht(),f=Rn(o),m=un(c,f),m.callback=s??null,Pn(o,m,f),t.current.lanes=f,ws(t,f,c),vt(t,c),t}function Po(t,s,o,c){var f=s.current,m=ht(),w=Rn(f);return o=Zf(o),s.context===null?s.context=o:s.pendingContext=o,s=un(m,w),s.payload={element:t},c=c===void 0?null:c,c!==null&&(s.callback=c),t=Pn(f,s,w),t!==null&&(Ht(t,f,w,m),so(t,f,w)),w}function Co(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function tp(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<s?o:s}}function xu(t,s){tp(t,s),(t=t.alternate)&&tp(t,s)}function sw(){return null}var np=typeof reportError=="function"?reportError:function(t){console.error(t)};function _u(t){this._internalRoot=t}Oo.prototype.render=_u.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(r(409));Po(t,s,null,null)},Oo.prototype.unmount=_u.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;tr(function(){Po(null,t,null,null)}),s[rn]=null}};function Oo(t){this._internalRoot=t}Oo.prototype.unstable_scheduleHydration=function(t){if(t){var s=Ld();t={blockedOn:null,target:t,priority:s};for(var o=0;o<xn.length&&s!==0&&s<xn[o].priority;o++);xn.splice(o,0,t),o===0&&Bd(t)}};function bu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ao(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function rp(){}function iw(t,s,o,c,f){if(f){if(typeof c=="function"){var m=c;c=function(){var N=Co(w);m.call(N)}}var w=ep(s,c,t,0,null,!1,!1,"",rp);return t._reactRootContainer=w,t[rn]=w.current,Ns(t.nodeType===8?t.parentNode:t),tr(),w}for(;f=t.lastChild;)t.removeChild(f);if(typeof c=="function"){var b=c;c=function(){var N=Co(E);b.call(N)}}var E=wu(t,0,!1,null,null,!1,!1,"",rp);return t._reactRootContainer=E,t[rn]=E.current,Ns(t.nodeType===8?t.parentNode:t),tr(function(){Po(s,E,o,c)}),E}function Ro(t,s,o,c,f){var m=o._reactRootContainer;if(m){var w=m;if(typeof f=="function"){var b=f;f=function(){var E=Co(w);b.call(E)}}Po(s,w,t,f)}else w=iw(o,s,t,f,c);return Co(w)}Md=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var o=vs(s.pendingLanes);o!==0&&(qa(s,o|1),vt(s,Ve()),(we&6)===0&&(Hr=Ve()+500,jn()))}break;case 13:tr(function(){var c=ln(t,1);if(c!==null){var f=ht();Ht(c,t,1,f)}}),xu(t,1)}},Ka=function(t){if(t.tag===13){var s=ln(t,134217728);if(s!==null){var o=ht();Ht(s,t,134217728,o)}xu(t,134217728)}},zd=function(t){if(t.tag===13){var s=Rn(t),o=ln(t,s);if(o!==null){var c=ht();Ht(o,t,s,c)}xu(t,s)}},Ld=function(){return Se},Vd=function(t,s){var o=Se;try{return Se=t,s()}finally{Se=o}},Va=function(t,s,o){switch(s){case"input":if(Aa(t,o),s=o.name,o.type==="radio"&&s!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==t&&c.form===t.form){var f=Gi(c);if(!f)throw Error(r(90));Ca(c),Aa(c,f)}}}break;case"textarea":pd(t,o);break;case"select":s=o.value,s!=null&&br(t,!!o.multiple,s,!1)}},Sd=fu,kd=tr;var ow={usingClientEntryPoint:!1,Events:[Ms,Rr,Gi,_d,bd,fu]},Qs={findFiberByHostInstance:Kn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aw={bundleType:Qs.bundleType,version:Qs.version,rendererPackageName:Qs.rendererPackageName,rendererConfig:Qs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Pd(t),t===null?null:t.stateNode},findFiberByHostInstance:Qs.findFiberByHostInstance||sw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var No=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!No.isDisabled&&No.supportsFiber)try{Ci=No.inject(aw),Qt=No}catch{}}return wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ow,wt.createPortal=function(t,s){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bu(s))throw Error(r(200));return rw(t,s,null,o)},wt.createRoot=function(t,s){if(!bu(t))throw Error(r(299));var o=!1,c="",f=np;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=wu(t,1,!1,null,null,o,!1,c,f),t[rn]=s.current,Ns(t.nodeType===8?t.parentNode:t),new _u(s)},wt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=Pd(s),t=t===null?null:t.stateNode,t},wt.flushSync=function(t){return tr(t)},wt.hydrate=function(t,s,o){if(!Ao(s))throw Error(r(200));return Ro(null,t,s,!0,o)},wt.hydrateRoot=function(t,s,o){if(!bu(t))throw Error(r(405));var c=o!=null&&o.hydratedSources||null,f=!1,m="",w=np;if(o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(w=o.onRecoverableError)),s=ep(s,null,t,1,o??null,f,!1,m,w),t[rn]=s.current,Ns(t),c)for(t=0;t<c.length;t++)o=c[t],f=o._getVersion,f=f(o._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[o,f]:s.mutableSourceEagerHydrationData.push(o,f);return new Oo(s)},wt.render=function(t,s,o){if(!Ao(s))throw Error(r(200));return Ro(null,t,s,!1,o)},wt.unmountComponentAtNode=function(t){if(!Ao(t))throw Error(r(40));return t._reactRootContainer?(tr(function(){Ro(null,null,t,!1,function(){t._reactRootContainer=null,t[rn]=null})}),!0):!1},wt.unstable_batchedUpdates=fu,wt.unstable_renderSubtreeIntoContainer=function(t,s,o,c){if(!Ao(o))throw Error(r(200));if(t==null||t._reactInternals===void 0)throw Error(r(38));return Ro(t,s,o,!1,c)},wt.version="18.3.1-next-f1338f8080-20240426",wt}var dp;function yw(){if(dp)return Eu.exports;dp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Eu.exports=gw(),Eu.exports}var hp;function vw(){if(hp)return Io;hp=1;var n=yw();return Io.createRoot=n.createRoot,Io.hydrateRoot=n.hydrateRoot,Io}var ww=vw();const xw=Pc(ww),Oc=L.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),fa=L.createContext({}),pa=L.createContext(null),ma=typeof document<"u",ga=ma?L.useLayoutEffect:L.useEffect,qm=L.createContext({strict:!1}),Ac=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),_w="framerAppearId",Km="data-"+Ac(_w);function bw(n,e,r,i){const{visualElement:a}=L.useContext(fa),l=L.useContext(qm),u=L.useContext(pa),d=L.useContext(Oc).reducedMotion,h=L.useRef();i=i||l.renderer,!h.current&&i&&(h.current=i(n,{visualState:e,parent:a,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const p=h.current;L.useInsertionEffect(()=>{p&&p.update(r,u)});const g=L.useRef(!!(r[Km]&&!window.HandoffComplete));return ga(()=>{p&&(p.render(),g.current&&p.animationState&&p.animationState.animateChanges())}),L.useEffect(()=>{p&&(p.updateFeatures(),!g.current&&p.animationState&&p.animationState.animateChanges(),g.current&&(g.current=!1,window.HandoffComplete=!0))}),p}function ts(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Sw(n,e,r){return L.useCallback(i=>{i&&n.mount&&n.mount(i),e&&(i?e.mount(i):e.unmount()),r&&(typeof r=="function"?r(i):ts(r)&&(r.current=i))},[e])}function di(n){return typeof n=="string"||Array.isArray(n)}function ya(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const Rc=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Nc=["initial",...Rc];function va(n){return ya(n.animate)||Nc.some(e=>di(n[e]))}function Gm(n){return!!(va(n)||n.variants)}function kw(n,e){if(va(n)){const{initial:r,animate:i}=n;return{initial:r===!1||di(r)?r:void 0,animate:di(i)?i:void 0}}return n.inherit!==!1?e:{}}function Ew(n){const{initial:e,animate:r}=kw(n,L.useContext(fa));return L.useMemo(()=>({initial:e,animate:r}),[fp(e),fp(r)])}function fp(n){return Array.isArray(n)?n.join(" "):n}const pp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hi={};for(const n in pp)hi[n]={isEnabled:e=>pp[n].some(r=>!!e[r])};function jw(n){for(const e in n)hi[e]={...hi[e],...n[e]}}const Ic=L.createContext({}),Jm=L.createContext({}),Tw=Symbol.for("motionComponentSymbol");function Pw({preloadedFeatures:n,createVisualElement:e,useRender:r,useVisualState:i,Component:a}){n&&jw(n);function l(d,h){let p;const g={...L.useContext(Oc),...d,layoutId:Cw(d)},{isStatic:v}=g,_=Ew(d),x=i(d,v);if(!v&&ma){_.visualElement=bw(a,x,g,e);const S=L.useContext(Jm),k=L.useContext(qm).strict;_.visualElement&&(p=_.visualElement.loadFeatures(g,k,n,S))}return L.createElement(fa.Provider,{value:_},p&&_.visualElement?L.createElement(p,{visualElement:_.visualElement,...g}):null,r(a,d,Sw(x,_.visualElement,h),x,v,_.visualElement))}const u=L.forwardRef(l);return u[Tw]=a,u}function Cw({layoutId:n}){const e=L.useContext(Ic).id;return e&&n!==void 0?e+"-"+n:n}function Ow(n){function e(i,a={}){return Pw(n(i,a))}if(typeof Proxy>"u")return e;const r=new Map;return new Proxy(e,{get:(i,a)=>(r.has(a)||r.set(a,e(a)),r.get(a))})}const Aw=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Dc(n){return typeof n!="string"||n.includes("-")?!1:!!(Aw.indexOf(n)>-1||/[A-Z]/.test(n))}const Zo={};function Rw(n){Object.assign(Zo,n)}const wi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xr=new Set(wi);function Qm(n,{layout:e,layoutId:r}){return xr.has(n)||n.startsWith("origin")||(e||r!==void 0)&&(!!Zo[n]||n==="opacity")}const ct=n=>!!(n&&n.getVelocity),Nw={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Iw=wi.length;function Dw(n,{enableHardwareAcceleration:e=!0,allowTransformNone:r=!0},i,a){let l="";for(let u=0;u<Iw;u++){const d=wi[u];if(n[d]!==void 0){const h=Nw[d]||d;l+=`${h}(${n[d]}) `}}return e&&!n.z&&(l+="translateZ(0)"),l=l.trim(),a?l=a(n,i?"":l):r&&i&&(l="none"),l}const Ym=n=>e=>typeof e=="string"&&e.startsWith(n),Xm=Ym("--"),Zu=Ym("var(--"),Mw=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,zw=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Un=(n,e,r)=>Math.min(Math.max(r,n),e),_r={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},si={..._r,transform:n=>Un(0,1,n)},Do={..._r,default:1},ii=n=>Math.round(n*1e5)/1e5,wa=/(-)?([\d]*\.?[\d])+/g,Zm=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Lw=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function xi(n){return typeof n=="string"}const _i=n=>({test:e=>xi(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),zn=_i("deg"),tn=_i("%"),ce=_i("px"),Vw=_i("vh"),$w=_i("vw"),mp={...tn,parse:n=>tn.parse(n)/100,transform:n=>tn.transform(n*100)},gp={..._r,transform:Math.round},eg={borderWidth:ce,borderTopWidth:ce,borderRightWidth:ce,borderBottomWidth:ce,borderLeftWidth:ce,borderRadius:ce,radius:ce,borderTopLeftRadius:ce,borderTopRightRadius:ce,borderBottomRightRadius:ce,borderBottomLeftRadius:ce,width:ce,maxWidth:ce,height:ce,maxHeight:ce,size:ce,top:ce,right:ce,bottom:ce,left:ce,padding:ce,paddingTop:ce,paddingRight:ce,paddingBottom:ce,paddingLeft:ce,margin:ce,marginTop:ce,marginRight:ce,marginBottom:ce,marginLeft:ce,rotate:zn,rotateX:zn,rotateY:zn,rotateZ:zn,scale:Do,scaleX:Do,scaleY:Do,scaleZ:Do,skew:zn,skewX:zn,skewY:zn,distance:ce,translateX:ce,translateY:ce,translateZ:ce,x:ce,y:ce,z:ce,perspective:ce,transformPerspective:ce,opacity:si,originX:mp,originY:mp,originZ:ce,zIndex:gp,fillOpacity:si,strokeOpacity:si,numOctaves:gp};function Mc(n,e,r,i){const{style:a,vars:l,transform:u,transformOrigin:d}=n;let h=!1,p=!1,g=!0;for(const v in e){const _=e[v];if(Xm(v)){l[v]=_;continue}const x=eg[v],S=zw(_,x);if(xr.has(v)){if(h=!0,u[v]=S,!g)continue;_!==(x.default||0)&&(g=!1)}else v.startsWith("origin")?(p=!0,d[v]=S):a[v]=S}if(e.transform||(h||i?a.transform=Dw(n.transform,r,g,i):a.transform&&(a.transform="none")),p){const{originX:v="50%",originY:_="50%",originZ:x=0}=d;a.transformOrigin=`${v} ${_} ${x}`}}const zc=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function tg(n,e,r){for(const i in e)!ct(e[i])&&!Qm(i,r)&&(n[i]=e[i])}function Bw({transformTemplate:n},e,r){return L.useMemo(()=>{const i=zc();return Mc(i,e,{enableHardwareAcceleration:!r},n),Object.assign({},i.vars,i.style)},[e])}function Uw(n,e,r){const i=n.style||{},a={};return tg(a,i,n),Object.assign(a,Bw(n,e,r)),n.transformValues?n.transformValues(a):a}function Fw(n,e,r){const i={},a=Uw(n,e,r);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=a,i}const Ww=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ea(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||Ww.has(n)}let ng=n=>!ea(n);function Hw(n){n&&(ng=e=>e.startsWith("on")?!ea(e):n(e))}try{Hw(require("@emotion/is-prop-valid").default)}catch{}function qw(n,e,r){const i={};for(const a in n)a==="values"&&typeof n.values=="object"||(ng(a)||r===!0&&ea(a)||!e&&!ea(a)||n.draggable&&a.startsWith("onDrag"))&&(i[a]=n[a]);return i}function yp(n,e,r){return typeof n=="string"?n:ce.transform(e+r*n)}function Kw(n,e,r){const i=yp(e,n.x,n.width),a=yp(r,n.y,n.height);return`${i} ${a}`}const Gw={offset:"stroke-dashoffset",array:"stroke-dasharray"},Jw={offset:"strokeDashoffset",array:"strokeDasharray"};function Qw(n,e,r=1,i=0,a=!0){n.pathLength=1;const l=a?Gw:Jw;n[l.offset]=ce.transform(-i);const u=ce.transform(e),d=ce.transform(r);n[l.array]=`${u} ${d}`}function Lc(n,{attrX:e,attrY:r,attrScale:i,originX:a,originY:l,pathLength:u,pathSpacing:d=1,pathOffset:h=0,...p},g,v,_){if(Mc(n,p,g,_),v){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:x,style:S,dimensions:k}=n;x.transform&&(k&&(S.transform=x.transform),delete x.transform),k&&(a!==void 0||l!==void 0||S.transform)&&(S.transformOrigin=Kw(k,a!==void 0?a:.5,l!==void 0?l:.5)),e!==void 0&&(x.x=e),r!==void 0&&(x.y=r),i!==void 0&&(x.scale=i),u!==void 0&&Qw(x,u,d,h,!1)}const rg=()=>({...zc(),attrs:{}}),Vc=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Yw(n,e,r,i){const a=L.useMemo(()=>{const l=rg();return Lc(l,e,{enableHardwareAcceleration:!1},Vc(i),n.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(n.style){const l={};tg(l,n.style,n),a.style={...l,...a.style}}return a}function Xw(n=!1){return(r,i,a,{latestValues:l},u)=>{const h=(Dc(r)?Yw:Fw)(i,l,u,r),g={...qw(i,typeof r=="string",n),...h,ref:a},{children:v}=i,_=L.useMemo(()=>ct(v)?v.get():v,[v]);return L.createElement(r,{...g,children:_})}}function sg(n,{style:e,vars:r},i,a){Object.assign(n.style,e,a&&a.getProjectionStyles(i));for(const l in r)n.style.setProperty(l,r[l])}const ig=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function og(n,e,r,i){sg(n,e,void 0,i);for(const a in e.attrs)n.setAttribute(ig.has(a)?a:Ac(a),e.attrs[a])}function $c(n,e){const{style:r}=n,i={};for(const a in r)(ct(r[a])||e.style&&ct(e.style[a])||Qm(a,n))&&(i[a]=r[a]);return i}function ag(n,e){const r=$c(n,e);for(const i in n)if(ct(n[i])||ct(e[i])){const a=wi.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=n[i]}return r}function Bc(n,e,r,i={},a={}){return typeof e=="function"&&(e=e(r!==void 0?r:n.custom,i,a)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(r!==void 0?r:n.custom,i,a)),e}function Uc(n){const e=L.useRef(null);return e.current===null&&(e.current=n()),e.current}const ta=n=>Array.isArray(n),Zw=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),ex=n=>ta(n)?n[n.length-1]||0:n;function Qo(n){const e=ct(n)?n.get():n;return Zw(e)?e.toValue():e}function tx({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:r},i,a,l){const u={latestValues:nx(i,a,l,n),renderState:e()};return r&&(u.mount=d=>r(i,d,u)),u}const lg=n=>(e,r)=>{const i=L.useContext(fa),a=L.useContext(pa),l=()=>tx(n,e,i,a);return r?l():Uc(l)};function nx(n,e,r,i){const a={},l=i(n,{});for(const _ in l)a[_]=Qo(l[_]);let{initial:u,animate:d}=n;const h=va(n),p=Gm(n);e&&p&&!h&&n.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let g=r?r.initial===!1:!1;g=g||u===!1;const v=g?d:u;return v&&typeof v!="boolean"&&!ya(v)&&(Array.isArray(v)?v:[v]).forEach(x=>{const S=Bc(n,x);if(!S)return;const{transitionEnd:k,transition:j,...I}=S;for(const A in I){let C=I[A];if(Array.isArray(C)){const z=g?C.length-1:0;C=C[z]}C!==null&&(a[A]=C)}for(const A in k)a[A]=k[A]}),a}const Be=n=>n;class vp{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const r=this.order.indexOf(e);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function rx(n){let e=new vp,r=new vp,i=0,a=!1,l=!1;const u=new WeakSet,d={schedule:(h,p=!1,g=!1)=>{const v=g&&a,_=v?e:r;return p&&u.add(h),_.add(h)&&v&&a&&(i=e.order.length),h},cancel:h=>{r.remove(h),u.delete(h)},process:h=>{if(a){l=!0;return}if(a=!0,[e,r]=[r,e],r.clear(),i=e.order.length,i)for(let p=0;p<i;p++){const g=e.order[p];g(h),u.has(g)&&(d.schedule(g),n())}a=!1,l&&(l=!1,d.process(h))}};return d}const Mo=["prepare","read","update","preRender","render","postRender"],sx=40;function ix(n,e){let r=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=Mo.reduce((v,_)=>(v[_]=rx(()=>r=!0),v),{}),u=v=>l[v].process(a),d=()=>{const v=performance.now();r=!1,a.delta=i?1e3/60:Math.max(Math.min(v-a.timestamp,sx),1),a.timestamp=v,a.isProcessing=!0,Mo.forEach(u),a.isProcessing=!1,r&&e&&(i=!1,n(d))},h=()=>{r=!0,i=!0,a.isProcessing||n(d)};return{schedule:Mo.reduce((v,_)=>{const x=l[_];return v[_]=(S,k=!1,j=!1)=>(r||h(),x.schedule(S,k,j)),v},{}),cancel:v=>Mo.forEach(_=>l[_].cancel(v)),state:a,steps:l}}const{schedule:Ee,cancel:nn,state:lt,steps:Pu}=ix(typeof requestAnimationFrame<"u"?requestAnimationFrame:Be,!0),ox={useVisualState:lg({scrapeMotionValuesFromProps:ag,createRenderState:rg,onMount:(n,e,{renderState:r,latestValues:i})=>{Ee.read(()=>{try{r.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),Ee.render(()=>{Lc(r,i,{enableHardwareAcceleration:!1},Vc(e.tagName),n.transformTemplate),og(e,r)})}})},ax={useVisualState:lg({scrapeMotionValuesFromProps:$c,createRenderState:zc})};function lx(n,{forwardMotionProps:e=!1},r,i){return{...Dc(n)?ox:ax,preloadedFeatures:r,useRender:Xw(e),createVisualElement:i,Component:n}}function pn(n,e,r,i={passive:!0}){return n.addEventListener(e,r,i),()=>n.removeEventListener(e,r)}const ug=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function xa(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const ux=n=>e=>ug(e)&&n(e,xa(e));function mn(n,e,r,i){return pn(n,e,ux(r),i)}const cx=(n,e)=>r=>e(n(r)),$n=(...n)=>n.reduce(cx);function cg(n){let e=null;return()=>{const r=()=>{e=null};return e===null?(e=n,r):!1}}const wp=cg("dragHorizontal"),xp=cg("dragVertical");function dg(n){let e=!1;if(n==="y")e=xp();else if(n==="x")e=wp();else{const r=wp(),i=xp();r&&i?e=()=>{r(),i()}:(r&&r(),i&&i())}return e}function hg(){const n=dg(!0);return n?(n(),!1):!0}class Wn{constructor(e){this.isMounted=!1,this.node=e}update(){}}function _p(n,e){const r="pointer"+(e?"enter":"leave"),i="onHover"+(e?"Start":"End"),a=(l,u)=>{if(l.pointerType==="touch"||hg())return;const d=n.getProps();n.animationState&&d.whileHover&&n.animationState.setActive("whileHover",e),d[i]&&Ee.update(()=>d[i](l,u))};return mn(n.current,r,a,{passive:!n.getProps()[i]})}class dx extends Wn{mount(){this.unmount=$n(_p(this.node,!0),_p(this.node,!1))}unmount(){}}class hx extends Wn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$n(pn(this.node.current,"focus",()=>this.onFocus()),pn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const fg=(n,e)=>e?n===e?!0:fg(n,e.parentElement):!1;function Cu(n,e){if(!e)return;const r=new PointerEvent("pointer"+n);e(r,xa(r))}class fx extends Wn{constructor(){super(...arguments),this.removeStartListeners=Be,this.removeEndListeners=Be,this.removeAccessibleListeners=Be,this.startPointerPress=(e,r)=>{if(this.isPressing)return;this.removeEndListeners();const i=this.node.getProps(),l=mn(window,"pointerup",(d,h)=>{if(!this.checkPressEnd())return;const{onTap:p,onTapCancel:g,globalTapTarget:v}=this.node.getProps();Ee.update(()=>{!v&&!fg(this.node.current,d.target)?g&&g(d,h):p&&p(d,h)})},{passive:!(i.onTap||i.onPointerUp)}),u=mn(window,"pointercancel",(d,h)=>this.cancelPress(d,h),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=$n(l,u),this.startPress(e,r)},this.startAccessiblePress=()=>{const e=l=>{if(l.key!=="Enter"||this.isPressing)return;const u=d=>{d.key!=="Enter"||!this.checkPressEnd()||Cu("up",(h,p)=>{const{onTap:g}=this.node.getProps();g&&Ee.update(()=>g(h,p))})};this.removeEndListeners(),this.removeEndListeners=pn(this.node.current,"keyup",u),Cu("down",(d,h)=>{this.startPress(d,h)})},r=pn(this.node.current,"keydown",e),i=()=>{this.isPressing&&Cu("cancel",(l,u)=>this.cancelPress(l,u))},a=pn(this.node.current,"blur",i);this.removeAccessibleListeners=$n(r,a)}}startPress(e,r){this.isPressing=!0;const{onTapStart:i,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&Ee.update(()=>i(e,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!hg()}cancelPress(e,r){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&Ee.update(()=>i(e,r))}mount(){const e=this.node.getProps(),r=mn(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=pn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=$n(r,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const ec=new WeakMap,Ou=new WeakMap,px=n=>{const e=ec.get(n.target);e&&e(n)},mx=n=>{n.forEach(px)};function gx({root:n,...e}){const r=n||document;Ou.has(r)||Ou.set(r,{});const i=Ou.get(r),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(mx,{root:n,...e})),i[a]}function yx(n,e,r){const i=gx(e);return ec.set(n,r),i.observe(n),()=>{ec.delete(n),i.unobserve(n)}}const vx={some:0,all:1};class wx extends Wn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:i,amount:a="some",once:l}=e,u={root:r?r.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:vx[a]},d=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),_=p?g:v;_&&_(h)};return yx(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(xx(e,r))&&this.startObserver()}unmount(){}}function xx({viewport:n={}},{viewport:e={}}={}){return r=>n[r]!==e[r]}const _x={inView:{Feature:wx},tap:{Feature:fx},focus:{Feature:hx},hover:{Feature:dx}};function pg(n,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==n.length)return!1;for(let i=0;i<r;i++)if(e[i]!==n[i])return!1;return!0}function bx(n){const e={};return n.values.forEach((r,i)=>e[i]=r.get()),e}function Sx(n){const e={};return n.values.forEach((r,i)=>e[i]=r.getVelocity()),e}function _a(n,e,r){const i=n.getProps();return Bc(i,e,r!==void 0?r:i.custom,bx(n),Sx(n))}let Fc=Be;const vr=n=>n*1e3,gn=n=>n/1e3,kx={current:!1},mg=n=>Array.isArray(n)&&typeof n[0]=="number";function gg(n){return!!(!n||typeof n=="string"&&yg[n]||mg(n)||Array.isArray(n)&&n.every(gg))}const ni=([n,e,r,i])=>`cubic-bezier(${n}, ${e}, ${r}, ${i})`,yg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ni([0,.65,.55,1]),circOut:ni([.55,0,1,.45]),backIn:ni([.31,.01,.66,-.59]),backOut:ni([.33,1.53,.69,.99])};function vg(n){if(n)return mg(n)?ni(n):Array.isArray(n)?n.map(vg):yg[n]}function Ex(n,e,r,{delay:i=0,duration:a,repeat:l=0,repeatType:u="loop",ease:d,times:h}={}){const p={[e]:r};h&&(p.offset=h);const g=vg(d);return Array.isArray(g)&&(p.easing=g),n.animate(p,{delay:i,duration:a,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"})}function jx(n,{repeat:e,repeatType:r="loop"}){const i=e&&r!=="loop"&&e%2===1?0:n.length-1;return n[i]}const wg=(n,e,r)=>(((1-3*r+3*e)*n+(3*r-6*e))*n+3*e)*n,Tx=1e-7,Px=12;function Cx(n,e,r,i,a){let l,u,d=0;do u=e+(r-e)/2,l=wg(u,i,a)-n,l>0?r=u:e=u;while(Math.abs(l)>Tx&&++d<Px);return u}function bi(n,e,r,i){if(n===e&&r===i)return Be;const a=l=>Cx(l,0,1,n,r);return l=>l===0||l===1?l:wg(a(l),e,i)}const Ox=bi(.42,0,1,1),Ax=bi(0,0,.58,1),xg=bi(.42,0,.58,1),Rx=n=>Array.isArray(n)&&typeof n[0]!="number",_g=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,bg=n=>e=>1-n(1-e),Wc=n=>1-Math.sin(Math.acos(n)),Sg=bg(Wc),Nx=_g(Wc),kg=bi(.33,1.53,.69,.99),Hc=bg(kg),Ix=_g(Hc),Dx=n=>(n*=2)<1?.5*Hc(n):.5*(2-Math.pow(2,-10*(n-1))),Mx={linear:Be,easeIn:Ox,easeInOut:xg,easeOut:Ax,circIn:Wc,circInOut:Nx,circOut:Sg,backIn:Hc,backInOut:Ix,backOut:kg,anticipate:Dx},bp=n=>{if(Array.isArray(n)){Fc(n.length===4);const[e,r,i,a]=n;return bi(e,r,i,a)}else if(typeof n=="string")return Mx[n];return n},qc=(n,e)=>r=>!!(xi(r)&&Lw.test(r)&&r.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(r,e)),Eg=(n,e,r)=>i=>{if(!xi(i))return i;const[a,l,u,d]=i.match(wa);return{[n]:parseFloat(a),[e]:parseFloat(l),[r]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},zx=n=>Un(0,255,n),Au={..._r,transform:n=>Math.round(zx(n))},gr={test:qc("rgb","red"),parse:Eg("red","green","blue"),transform:({red:n,green:e,blue:r,alpha:i=1})=>"rgba("+Au.transform(n)+", "+Au.transform(e)+", "+Au.transform(r)+", "+ii(si.transform(i))+")"};function Lx(n){let e="",r="",i="",a="";return n.length>5?(e=n.substring(1,3),r=n.substring(3,5),i=n.substring(5,7),a=n.substring(7,9)):(e=n.substring(1,2),r=n.substring(2,3),i=n.substring(3,4),a=n.substring(4,5),e+=e,r+=r,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const tc={test:qc("#"),parse:Lx,transform:gr.transform},ns={test:qc("hsl","hue"),parse:Eg("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:r,alpha:i=1})=>"hsla("+Math.round(n)+", "+tn.transform(ii(e))+", "+tn.transform(ii(r))+", "+ii(si.transform(i))+")"},ft={test:n=>gr.test(n)||tc.test(n)||ns.test(n),parse:n=>gr.test(n)?gr.parse(n):ns.test(n)?ns.parse(n):tc.parse(n),transform:n=>xi(n)?n:n.hasOwnProperty("red")?gr.transform(n):ns.transform(n)},ze=(n,e,r)=>-r*n+r*e+n;function Ru(n,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?n+(e-n)*6*r:r<1/2?e:r<2/3?n+(e-n)*(2/3-r)*6:n}function Vx({hue:n,saturation:e,lightness:r,alpha:i}){n/=360,e/=100,r/=100;let a=0,l=0,u=0;if(!e)a=l=u=r;else{const d=r<.5?r*(1+e):r+e-r*e,h=2*r-d;a=Ru(h,d,n+1/3),l=Ru(h,d,n),u=Ru(h,d,n-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}const Nu=(n,e,r)=>{const i=n*n;return Math.sqrt(Math.max(0,r*(e*e-i)+i))},$x=[tc,gr,ns],Bx=n=>$x.find(e=>e.test(n));function Sp(n){const e=Bx(n);let r=e.parse(n);return e===ns&&(r=Vx(r)),r}const jg=(n,e)=>{const r=Sp(n),i=Sp(e),a={...r};return l=>(a.red=Nu(r.red,i.red,l),a.green=Nu(r.green,i.green,l),a.blue=Nu(r.blue,i.blue,l),a.alpha=ze(r.alpha,i.alpha,l),gr.transform(a))};function Ux(n){var e,r;return isNaN(n)&&xi(n)&&(((e=n.match(wa))===null||e===void 0?void 0:e.length)||0)+(((r=n.match(Zm))===null||r===void 0?void 0:r.length)||0)>0}const Tg={regex:Mw,countKey:"Vars",token:"${v}",parse:Be},Pg={regex:Zm,countKey:"Colors",token:"${c}",parse:ft.parse},Cg={regex:wa,countKey:"Numbers",token:"${n}",parse:_r.parse};function Iu(n,{regex:e,countKey:r,token:i,parse:a}){const l=n.tokenised.match(e);l&&(n["num"+r]=l.length,n.tokenised=n.tokenised.replace(e,i),n.values.push(...l.map(a)))}function na(n){const e=n.toString(),r={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&Iu(r,Tg),Iu(r,Pg),Iu(r,Cg),r}function Og(n){return na(n).values}function Ag(n){const{values:e,numColors:r,numVars:i,tokenised:a}=na(n),l=e.length;return u=>{let d=a;for(let h=0;h<l;h++)h<i?d=d.replace(Tg.token,u[h]):h<i+r?d=d.replace(Pg.token,ft.transform(u[h])):d=d.replace(Cg.token,ii(u[h]));return d}}const Fx=n=>typeof n=="number"?0:n;function Wx(n){const e=Og(n);return Ag(n)(e.map(Fx))}const Fn={test:Ux,parse:Og,createTransformer:Ag,getAnimatableNone:Wx},Rg=(n,e)=>r=>`${r>0?e:n}`;function Ng(n,e){return typeof n=="number"?r=>ze(n,e,r):ft.test(n)?jg(n,e):n.startsWith("var(")?Rg(n,e):Dg(n,e)}const Ig=(n,e)=>{const r=[...n],i=r.length,a=n.map((l,u)=>Ng(l,e[u]));return l=>{for(let u=0;u<i;u++)r[u]=a[u](l);return r}},Hx=(n,e)=>{const r={...n,...e},i={};for(const a in r)n[a]!==void 0&&e[a]!==void 0&&(i[a]=Ng(n[a],e[a]));return a=>{for(const l in i)r[l]=i[l](a);return r}},Dg=(n,e)=>{const r=Fn.createTransformer(e),i=na(n),a=na(e);return i.numVars===a.numVars&&i.numColors===a.numColors&&i.numNumbers>=a.numNumbers?$n(Ig(i.values,a.values),r):Rg(n,e)},fi=(n,e,r)=>{const i=e-n;return i===0?1:(r-n)/i},kp=(n,e)=>r=>ze(n,e,r);function qx(n){return typeof n=="number"?kp:typeof n=="string"?ft.test(n)?jg:Dg:Array.isArray(n)?Ig:typeof n=="object"?Hx:kp}function Kx(n,e,r){const i=[],a=r||qx(n[0]),l=n.length-1;for(let u=0;u<l;u++){let d=a(n[u],n[u+1]);if(e){const h=Array.isArray(e)?e[u]||Be:e;d=$n(h,d)}i.push(d)}return i}function Mg(n,e,{clamp:r=!0,ease:i,mixer:a}={}){const l=n.length;if(Fc(l===e.length),l===1)return()=>e[0];n[0]>n[l-1]&&(n=[...n].reverse(),e=[...e].reverse());const u=Kx(e,i,a),d=u.length,h=p=>{let g=0;if(d>1)for(;g<n.length-2&&!(p<n[g+1]);g++);const v=fi(n[g],n[g+1],p);return u[g](v)};return r?p=>h(Un(n[0],n[l-1],p)):h}function Gx(n,e){const r=n[n.length-1];for(let i=1;i<=e;i++){const a=fi(0,e,i);n.push(ze(r,1,a))}}function Jx(n){const e=[0];return Gx(e,n.length-1),e}function Qx(n,e){return n.map(r=>r*e)}function Yx(n,e){return n.map(()=>e||xg).splice(0,n.length-1)}function ra({duration:n=300,keyframes:e,times:r,ease:i="easeInOut"}){const a=Rx(i)?i.map(bp):bp(i),l={done:!1,value:e[0]},u=Qx(r&&r.length===e.length?r:Jx(e),n),d=Mg(u,e,{ease:Array.isArray(a)?a:Yx(e,a)});return{calculatedDuration:n,next:h=>(l.value=d(h),l.done=h>=n,l)}}function zg(n,e){return e?n*(1e3/e):0}const Xx=5;function Lg(n,e,r){const i=Math.max(e-Xx,0);return zg(r-n(i),e-i)}const Du=.001,Zx=.01,e1=10,t1=.05,n1=1;function r1({duration:n=800,bounce:e=.25,velocity:r=0,mass:i=1}){let a,l,u=1-e;u=Un(t1,n1,u),n=Un(Zx,e1,gn(n)),u<1?(a=p=>{const g=p*u,v=g*n,_=g-r,x=nc(p,u),S=Math.exp(-v);return Du-_/x*S},l=p=>{const v=p*u*n,_=v*r+r,x=Math.pow(u,2)*Math.pow(p,2)*n,S=Math.exp(-v),k=nc(Math.pow(p,2),u);return(-a(p)+Du>0?-1:1)*((_-x)*S)/k}):(a=p=>{const g=Math.exp(-p*n),v=(p-r)*n+1;return-Du+g*v},l=p=>{const g=Math.exp(-p*n),v=(r-p)*(n*n);return g*v});const d=5/n,h=i1(a,l,d);if(n=vr(n),isNaN(h))return{stiffness:100,damping:10,duration:n};{const p=Math.pow(h,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:n}}}const s1=12;function i1(n,e,r){let i=r;for(let a=1;a<s1;a++)i=i-n(i)/e(i);return i}function nc(n,e){return n*Math.sqrt(1-e*e)}const o1=["duration","bounce"],a1=["stiffness","damping","mass"];function Ep(n,e){return e.some(r=>n[r]!==void 0)}function l1(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!Ep(n,a1)&&Ep(n,o1)){const r=r1(n);e={...e,...r,mass:1},e.isResolvedFromDuration=!0}return e}function Vg({keyframes:n,restDelta:e,restSpeed:r,...i}){const a=n[0],l=n[n.length-1],u={done:!1,value:a},{stiffness:d,damping:h,mass:p,duration:g,velocity:v,isResolvedFromDuration:_}=l1({...i,velocity:-gn(i.velocity||0)}),x=v||0,S=h/(2*Math.sqrt(d*p)),k=l-a,j=gn(Math.sqrt(d/p)),I=Math.abs(k)<5;r||(r=I?.01:2),e||(e=I?.005:.5);let A;if(S<1){const C=nc(j,S);A=z=>{const D=Math.exp(-S*j*z);return l-D*((x+S*j*k)/C*Math.sin(C*z)+k*Math.cos(C*z))}}else if(S===1)A=C=>l-Math.exp(-j*C)*(k+(x+j*k)*C);else{const C=j*Math.sqrt(S*S-1);A=z=>{const D=Math.exp(-S*j*z),M=Math.min(C*z,300);return l-D*((x+S*j*k)*Math.sinh(M)+C*k*Math.cosh(M))/C}}return{calculatedDuration:_&&g||null,next:C=>{const z=A(C);if(_)u.done=C>=g;else{let D=x;C!==0&&(S<1?D=Lg(A,C,z):D=0);const M=Math.abs(D)<=r,$=Math.abs(l-z)<=e;u.done=M&&$}return u.value=u.done?l:z,u}}}function jp({keyframes:n,velocity:e=0,power:r=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:h,restDelta:p=.5,restSpeed:g}){const v=n[0],_={done:!1,value:v},x=W=>d!==void 0&&W<d||h!==void 0&&W>h,S=W=>d===void 0?h:h===void 0||Math.abs(d-W)<Math.abs(h-W)?d:h;let k=r*e;const j=v+k,I=u===void 0?j:u(j);I!==j&&(k=I-v);const A=W=>-k*Math.exp(-W/i),C=W=>I+A(W),z=W=>{const ee=A(W),je=C(W);_.done=Math.abs(ee)<=p,_.value=_.done?I:je};let D,M;const $=W=>{x(_.value)&&(D=W,M=Vg({keyframes:[_.value,S(_.value)],velocity:Lg(C,W,_.value),damping:a,stiffness:l,restDelta:p,restSpeed:g}))};return $(0),{calculatedDuration:null,next:W=>{let ee=!1;return!M&&D===void 0&&(ee=!0,z(W),$(W)),D!==void 0&&W>D?M.next(W-D):(!ee&&z(W),_)}}}const u1=n=>{const e=({timestamp:r})=>n(r);return{start:()=>Ee.update(e,!0),stop:()=>nn(e),now:()=>lt.isProcessing?lt.timestamp:performance.now()}},Tp=2e4;function Pp(n){let e=0;const r=50;let i=n.next(e);for(;!i.done&&e<Tp;)e+=r,i=n.next(e);return e>=Tp?1/0:e}const c1={decay:jp,inertia:jp,tween:ra,keyframes:ra,spring:Vg};function sa({autoplay:n=!0,delay:e=0,driver:r=u1,keyframes:i,type:a="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:d="loop",onPlay:h,onStop:p,onComplete:g,onUpdate:v,..._}){let x=1,S=!1,k,j;const I=()=>{j=new Promise(T=>{k=T})};I();let A;const C=c1[a]||ra;let z;C!==ra&&typeof i[0]!="number"&&(z=Mg([0,100],i,{clamp:!1}),i=[0,100]);const D=C({..._,keyframes:i});let M;d==="mirror"&&(M=C({..._,keyframes:[...i].reverse(),velocity:-(_.velocity||0)}));let $="idle",W=null,ee=null,je=null;D.calculatedDuration===null&&l&&(D.calculatedDuration=Pp(D));const{calculatedDuration:qe}=D;let xe=1/0,ke=1/0;qe!==null&&(xe=qe+u,ke=xe*(l+1)-u);let fe=0;const Ae=T=>{if(ee===null)return;x>0&&(ee=Math.min(ee,T)),x<0&&(ee=Math.min(T-ke/x,ee)),W!==null?fe=W:fe=Math.round(T-ee)*x;const V=fe-e*(x>=0?1:-1),J=x>=0?V<0:V>ke;fe=Math.max(V,0),$==="finished"&&W===null&&(fe=ke);let Y=fe,le=D;if(l){const be=Math.min(fe,ke)/xe;let Qe=Math.floor(be),Pt=be%1;!Pt&&be>=1&&(Pt=1),Pt===1&&Qe--,Qe=Math.min(Qe,l+1),!!(Qe%2)&&(d==="reverse"?(Pt=1-Pt,u&&(Pt-=u/xe)):d==="mirror"&&(le=M)),Y=Un(0,1,Pt)*xe}const ne=J?{done:!1,value:i[0]}:le.next(Y);z&&(ne.value=z(ne.value));let{done:he}=ne;!J&&qe!==null&&(he=x>=0?fe>=ke:fe<=0);const ye=W===null&&($==="finished"||$==="running"&&he);return v&&v(ne.value),ye&&q(),ne},me=()=>{A&&A.stop(),A=void 0},ve=()=>{$="idle",me(),k(),I(),ee=je=null},q=()=>{$="finished",g&&g(),me(),k()},te=()=>{if(S)return;A||(A=r(Ae));const T=A.now();h&&h(),W!==null?ee=T-W:(!ee||$==="finished")&&(ee=T),$==="finished"&&I(),je=ee,W=null,$="running",A.start()};n&&te();const K={then(T,V){return j.then(T,V)},get time(){return gn(fe)},set time(T){T=vr(T),fe=T,W!==null||!A||x===0?W=T:ee=A.now()-T/x},get duration(){const T=D.calculatedDuration===null?Pp(D):D.calculatedDuration;return gn(T)},get speed(){return x},set speed(T){T===x||!A||(x=T,K.time=gn(fe))},get state(){return $},play:te,pause:()=>{$="paused",W=fe},stop:()=>{S=!0,$!=="idle"&&($="idle",p&&p(),ve())},cancel:()=>{je!==null&&Ae(je),ve()},complete:()=>{$="finished"},sample:T=>(ee=0,Ae(T))};return K}function d1(n){let e;return()=>(e===void 0&&(e=n()),e)}const h1=d1(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),f1=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),zo=10,p1=2e4,m1=(n,e)=>e.type==="spring"||n==="backgroundColor"||!gg(e.ease);function g1(n,e,{onUpdate:r,onComplete:i,...a}){if(!(h1()&&f1.has(e)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let u=!1,d,h,p=!1;const g=()=>{h=new Promise(C=>{d=C})};g();let{keyframes:v,duration:_=300,ease:x,times:S}=a;if(m1(e,a)){const C=sa({...a,repeat:0,delay:0});let z={done:!1,value:v[0]};const D=[];let M=0;for(;!z.done&&M<p1;)z=C.sample(M),D.push(z.value),M+=zo;S=void 0,v=D,_=M-zo,x="linear"}const k=Ex(n.owner.current,e,v,{...a,duration:_,ease:x,times:S}),j=()=>{p=!1,k.cancel()},I=()=>{p=!0,Ee.update(j),d(),g()};return k.onfinish=()=>{p||(n.set(jx(v,a)),i&&i(),I())},{then(C,z){return h.then(C,z)},attachTimeline(C){return k.timeline=C,k.onfinish=null,Be},get time(){return gn(k.currentTime||0)},set time(C){k.currentTime=vr(C)},get speed(){return k.playbackRate},set speed(C){k.playbackRate=C},get duration(){return gn(_)},play:()=>{u||(k.play(),nn(j))},pause:()=>k.pause(),stop:()=>{if(u=!0,k.playState==="idle")return;const{currentTime:C}=k;if(C){const z=sa({...a,autoplay:!1});n.setWithVelocity(z.sample(C-zo).value,z.sample(C).value,zo)}I()},complete:()=>{p||k.finish()},cancel:I}}function y1({keyframes:n,delay:e,onUpdate:r,onComplete:i}){const a=()=>(r&&r(n[n.length-1]),i&&i(),{time:0,speed:1,duration:0,play:Be,pause:Be,stop:Be,then:l=>(l(),Promise.resolve()),cancel:Be,complete:Be});return e?sa({keyframes:[0,1],duration:0,delay:e,onComplete:a}):a()}const v1={type:"spring",stiffness:500,damping:25,restSpeed:10},w1=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),x1={type:"keyframes",duration:.8},_1={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},b1=(n,{keyframes:e})=>e.length>2?x1:xr.has(n)?n.startsWith("scale")?w1(e[1]):v1:_1,rc=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Fn.test(e)||e==="0")&&!e.startsWith("url(")),S1=new Set(["brightness","contrast","saturate","opacity"]);function k1(n){const[e,r]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=r.match(wa)||[];if(!i)return n;const a=r.replace(i,"");let l=S1.has(e)?1:0;return i!==r&&(l*=100),e+"("+l+a+")"}const E1=/([a-z-]*)\(.*?\)/g,sc={...Fn,getAnimatableNone:n=>{const e=n.match(E1);return e?e.map(k1).join(" "):n}},j1={...eg,color:ft,backgroundColor:ft,outlineColor:ft,fill:ft,stroke:ft,borderColor:ft,borderTopColor:ft,borderRightColor:ft,borderBottomColor:ft,borderLeftColor:ft,filter:sc,WebkitFilter:sc},Kc=n=>j1[n];function $g(n,e){let r=Kc(n);return r!==sc&&(r=Fn),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const Bg=n=>/^0[^.\s]+$/.test(n);function T1(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||Bg(n)}function P1(n,e,r,i){const a=rc(e,r);let l;Array.isArray(r)?l=[...r]:l=[null,r];const u=i.from!==void 0?i.from:n.get();let d;const h=[];for(let p=0;p<l.length;p++)l[p]===null&&(l[p]=p===0?u:l[p-1]),T1(l[p])&&h.push(p),typeof l[p]=="string"&&l[p]!=="none"&&l[p]!=="0"&&(d=l[p]);if(a&&h.length&&d)for(let p=0;p<h.length;p++){const g=h[p];l[g]=$g(e,d)}return l}function C1({when:n,delay:e,delayChildren:r,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:d,from:h,elapsed:p,...g}){return!!Object.keys(g).length}function Gc(n,e){return n[e]||n.default||n}const O1={skipAnimations:!1},Jc=(n,e,r,i={})=>a=>{const l=Gc(i,n)||{},u=l.delay||i.delay||0;let{elapsed:d=0}=i;d=d-vr(u);const h=P1(e,n,r,l),p=h[0],g=h[h.length-1],v=rc(n,p),_=rc(n,g);let x={keyframes:h,velocity:e.getVelocity(),ease:"easeOut",...l,delay:-d,onUpdate:S=>{e.set(S),l.onUpdate&&l.onUpdate(S)},onComplete:()=>{a(),l.onComplete&&l.onComplete()}};if(C1(l)||(x={...x,...b1(n,x)}),x.duration&&(x.duration=vr(x.duration)),x.repeatDelay&&(x.repeatDelay=vr(x.repeatDelay)),!v||!_||kx.current||l.type===!1||O1.skipAnimations)return y1(x);if(!i.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const S=g1(e,n,x);if(S)return S}return sa(x)};function ia(n){return!!(ct(n)&&n.add)}const Ug=n=>/^\-?\d*\.?\d+$/.test(n);function Qc(n,e){n.indexOf(e)===-1&&n.push(e)}function Yc(n,e){const r=n.indexOf(e);r>-1&&n.splice(r,1)}class Xc{constructor(){this.subscriptions=[]}add(e){return Qc(this.subscriptions,e),()=>Yc(this.subscriptions,e)}notify(e,r,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,r,i);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,r,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const A1=n=>!isNaN(parseFloat(n));class R1{constructor(e,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,a=!0)=>{this.prev=this.current,this.current=i;const{delta:l,timestamp:u}=lt;this.lastUpdated!==u&&(this.timeDelta=l,this.lastUpdated=u,Ee.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ee.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=A1(this.current),this.owner=r.owner}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new Xc);const i=this.events[e].add(r);return e==="change"?()=>{i(),Ee.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,i){this.set(r),this.prev=e,this.timeDelta=i}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?zg(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function wr(n,e){return new R1(n,e)}const Fg=n=>e=>e.test(n),N1={test:n=>n==="auto",parse:n=>n},Wg=[_r,ce,tn,zn,$w,Vw,N1],Xs=n=>Wg.find(Fg(n)),I1=[...Wg,ft,Fn],D1=n=>I1.find(Fg(n));function M1(n,e,r){n.hasValue(e)?n.getValue(e).set(r):n.addValue(e,wr(r))}function z1(n,e){const r=_a(n,e);let{transitionEnd:i={},transition:a={},...l}=r?n.makeTargetAnimatable(r,!1):{};l={...l,...i};for(const u in l){const d=ex(l[u]);M1(n,u,d)}}function L1(n,e,r){var i,a;const l=Object.keys(e).filter(d=>!n.hasValue(d)),u=l.length;if(u)for(let d=0;d<u;d++){const h=l[d],p=e[h];let g=null;Array.isArray(p)&&(g=p[0]),g===null&&(g=(a=(i=r[h])!==null&&i!==void 0?i:n.readValue(h))!==null&&a!==void 0?a:e[h]),g!=null&&(typeof g=="string"&&(Ug(g)||Bg(g))?g=parseFloat(g):!D1(g)&&Fn.test(p)&&(g=$g(h,p)),n.addValue(h,wr(g,{owner:n})),r[h]===void 0&&(r[h]=g),g!==null&&n.setBaseTarget(h,g))}}function V1(n,e){return e?(e[n]||e.default||e).from:void 0}function $1(n,e,r){const i={};for(const a in n){const l=V1(a,e);if(l!==void 0)i[a]=l;else{const u=r.getValue(a);u&&(i[a]=u.get())}}return i}function B1({protectedKeys:n,needsAnimating:e},r){const i=n.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,i}function U1(n,e){const r=n.get();if(Array.isArray(e)){for(let i=0;i<e.length;i++)if(e[i]!==r)return!0}else return r!==e}function Hg(n,e,{delay:r=0,transitionOverride:i,type:a}={}){let{transition:l=n.getDefaultTransition(),transitionEnd:u,...d}=n.makeTargetAnimatable(e);const h=n.getValue("willChange");i&&(l=i);const p=[],g=a&&n.animationState&&n.animationState.getState()[a];for(const v in d){const _=n.getValue(v),x=d[v];if(!_||x===void 0||g&&B1(g,v))continue;const S={delay:r,elapsed:0,...Gc(l||{},v)};if(window.HandoffAppearAnimations){const I=n.getProps()[Km];if(I){const A=window.HandoffAppearAnimations(I,v,_,Ee);A!==null&&(S.elapsed=A,S.isHandoff=!0)}}let k=!S.isHandoff&&!U1(_,x);if(S.type==="spring"&&(_.getVelocity()||S.velocity)&&(k=!1),_.animation&&(k=!1),k)continue;_.start(Jc(v,_,x,n.shouldReduceMotion&&xr.has(v)?{type:!1}:S));const j=_.animation;ia(h)&&(h.add(v),j.then(()=>h.remove(v))),p.push(j)}return u&&Promise.all(p).then(()=>{u&&z1(n,u)}),p}function ic(n,e,r={}){const i=_a(n,e,r.custom);let{transition:a=n.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(a=r.transitionOverride);const l=i?()=>Promise.all(Hg(n,i,r)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:v}=a;return F1(n,e,p+h,g,v,r)}:()=>Promise.resolve(),{when:d}=a;if(d){const[h,p]=d==="beforeChildren"?[l,u]:[u,l];return h().then(()=>p())}else return Promise.all([l(),u(r.delay)])}function F1(n,e,r=0,i=0,a=1,l){const u=[],d=(n.variantChildren.size-1)*i,h=a===1?(p=0)=>p*i:(p=0)=>d-p*i;return Array.from(n.variantChildren).sort(W1).forEach((p,g)=>{p.notify("AnimationStart",e),u.push(ic(p,e,{...l,delay:r+h(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(u)}function W1(n,e){return n.sortNodePosition(e)}function H1(n,e,r={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>ic(n,l,r));i=Promise.all(a)}else if(typeof e=="string")i=ic(n,e,r);else{const a=typeof e=="function"?_a(n,e,r.custom):e;i=Promise.all(Hg(n,a,r))}return i.then(()=>n.notify("AnimationComplete",e))}const q1=[...Rc].reverse(),K1=Rc.length;function G1(n){return e=>Promise.all(e.map(({animation:r,options:i})=>H1(n,r,i)))}function J1(n){let e=G1(n);const r=Y1();let i=!0;const a=(h,p)=>{const g=_a(n,p);if(g){const{transition:v,transitionEnd:_,...x}=g;h={...h,...x,..._}}return h};function l(h){e=h(n)}function u(h,p){const g=n.getProps(),v=n.getVariantContext(!0)||{},_=[],x=new Set;let S={},k=1/0;for(let I=0;I<K1;I++){const A=q1[I],C=r[A],z=g[A]!==void 0?g[A]:v[A],D=di(z),M=A===p?C.isActive:null;M===!1&&(k=I);let $=z===v[A]&&z!==g[A]&&D;if($&&i&&n.manuallyAnimateOnMount&&($=!1),C.protectedKeys={...S},!C.isActive&&M===null||!z&&!C.prevProp||ya(z)||typeof z=="boolean")continue;let ee=Q1(C.prevProp,z)||A===p&&C.isActive&&!$&&D||I>k&&D,je=!1;const qe=Array.isArray(z)?z:[z];let xe=qe.reduce(a,{});M===!1&&(xe={});const{prevResolvedValues:ke={}}=C,fe={...ke,...xe},Ae=me=>{ee=!0,x.has(me)&&(je=!0,x.delete(me)),C.needsAnimating[me]=!0};for(const me in fe){const ve=xe[me],q=ke[me];if(S.hasOwnProperty(me))continue;let te=!1;ta(ve)&&ta(q)?te=!pg(ve,q):te=ve!==q,te?ve!==void 0?Ae(me):x.add(me):ve!==void 0&&x.has(me)?Ae(me):C.protectedKeys[me]=!0}C.prevProp=z,C.prevResolvedValues=xe,C.isActive&&(S={...S,...xe}),i&&n.blockInitialAnimation&&(ee=!1),ee&&(!$||je)&&_.push(...qe.map(me=>({animation:me,options:{type:A,...h}})))}if(x.size){const I={};x.forEach(A=>{const C=n.getBaseTarget(A);C!==void 0&&(I[A]=C)}),_.push({animation:I})}let j=!!_.length;return i&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(j=!1),i=!1,j?e(_):Promise.resolve()}function d(h,p,g){var v;if(r[h].isActive===p)return Promise.resolve();(v=n.variantChildren)===null||v===void 0||v.forEach(x=>{var S;return(S=x.animationState)===null||S===void 0?void 0:S.setActive(h,p)}),r[h].isActive=p;const _=u(g,h);for(const x in r)r[x].protectedKeys={};return _}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>r}}function Q1(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!pg(e,n):!1}function ir(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Y1(){return{animate:ir(!0),whileInView:ir(),whileHover:ir(),whileTap:ir(),whileDrag:ir(),whileFocus:ir(),exit:ir()}}class X1 extends Wn{constructor(e){super(e),e.animationState||(e.animationState=J1(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),ya(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let Z1=0;class e_ extends Wn{constructor(){super(...arguments),this.id=Z1++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r,custom:i}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===a)return;const l=this.node.animationState.setActive("exit",!e,{custom:i??this.node.getProps().custom});r&&!e&&l.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const t_={animation:{Feature:X1},exit:{Feature:e_}},Cp=(n,e)=>Math.abs(n-e);function n_(n,e){const r=Cp(n.x,e.x),i=Cp(n.y,e.y);return Math.sqrt(r**2+i**2)}class qg{constructor(e,r,{transformPagePoint:i,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=zu(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,x=n_(v.offset,{x:0,y:0})>=3;if(!_&&!x)return;const{point:S}=v,{timestamp:k}=lt;this.history.push({...S,timestamp:k});const{onStart:j,onMove:I}=this.handlers;_||(j&&j(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),I&&I(this.lastMoveEvent,v)},this.handlePointerMove=(v,_)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Mu(_,this.transformPagePoint),Ee.update(this.updatePoint,!0)},this.handlePointerUp=(v,_)=>{this.end();const{onEnd:x,onSessionEnd:S,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=zu(v.type==="pointercancel"?this.lastMoveEventInfo:Mu(_,this.transformPagePoint),this.history);this.startEvent&&x&&x(v,j),S&&S(v,j)},!ug(e))return;this.dragSnapToOrigin=l,this.handlers=r,this.transformPagePoint=i,this.contextWindow=a||window;const u=xa(e),d=Mu(u,this.transformPagePoint),{point:h}=d,{timestamp:p}=lt;this.history=[{...h,timestamp:p}];const{onSessionStart:g}=r;g&&g(e,zu(d,this.history)),this.removeListeners=$n(mn(this.contextWindow,"pointermove",this.handlePointerMove),mn(this.contextWindow,"pointerup",this.handlePointerUp),mn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),nn(this.updatePoint)}}function Mu(n,e){return e?{point:e(n.point)}:n}function Op(n,e){return{x:n.x-e.x,y:n.y-e.y}}function zu({point:n},e){return{point:n,delta:Op(n,Kg(e)),offset:Op(n,r_(e)),velocity:s_(e,.1)}}function r_(n){return n[0]}function Kg(n){return n[n.length-1]}function s_(n,e){if(n.length<2)return{x:0,y:0};let r=n.length-1,i=null;const a=Kg(n);for(;r>=0&&(i=n[r],!(a.timestamp-i.timestamp>vr(e)));)r--;if(!i)return{x:0,y:0};const l=gn(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function Tt(n){return n.max-n.min}function oc(n,e=0,r=.01){return Math.abs(n-e)<=r}function Ap(n,e,r,i=.5){n.origin=i,n.originPoint=ze(e.min,e.max,n.origin),n.scale=Tt(r)/Tt(e),(oc(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=ze(r.min,r.max,n.origin)-n.originPoint,(oc(n.translate)||isNaN(n.translate))&&(n.translate=0)}function oi(n,e,r,i){Ap(n.x,e.x,r.x,i?i.originX:void 0),Ap(n.y,e.y,r.y,i?i.originY:void 0)}function Rp(n,e,r){n.min=r.min+e.min,n.max=n.min+Tt(e)}function i_(n,e,r){Rp(n.x,e.x,r.x),Rp(n.y,e.y,r.y)}function Np(n,e,r){n.min=e.min-r.min,n.max=n.min+Tt(e)}function ai(n,e,r){Np(n.x,e.x,r.x),Np(n.y,e.y,r.y)}function o_(n,{min:e,max:r},i){return e!==void 0&&n<e?n=i?ze(e,n,i.min):Math.max(n,e):r!==void 0&&n>r&&(n=i?ze(r,n,i.max):Math.min(n,r)),n}function Ip(n,e,r){return{min:e!==void 0?n.min+e:void 0,max:r!==void 0?n.max+r-(n.max-n.min):void 0}}function a_(n,{top:e,left:r,bottom:i,right:a}){return{x:Ip(n.x,r,a),y:Ip(n.y,e,i)}}function Dp(n,e){let r=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([r,i]=[i,r]),{min:r,max:i}}function l_(n,e){return{x:Dp(n.x,e.x),y:Dp(n.y,e.y)}}function u_(n,e){let r=.5;const i=Tt(n),a=Tt(e);return a>i?r=fi(e.min,e.max-i,n.min):i>a&&(r=fi(n.min,n.max-a,e.min)),Un(0,1,r)}function c_(n,e){const r={};return e.min!==void 0&&(r.min=e.min-n.min),e.max!==void 0&&(r.max=e.max-n.min),r}const ac=.35;function d_(n=ac){return n===!1?n=0:n===!0&&(n=ac),{x:Mp(n,"left","right"),y:Mp(n,"top","bottom")}}function Mp(n,e,r){return{min:zp(n,e),max:zp(n,r)}}function zp(n,e){return typeof n=="number"?n:n[e]||0}const Lp=()=>({translate:0,scale:1,origin:0,originPoint:0}),rs=()=>({x:Lp(),y:Lp()}),Vp=()=>({min:0,max:0}),We=()=>({x:Vp(),y:Vp()});function Mt(n){return[n("x"),n("y")]}function Gg({top:n,left:e,right:r,bottom:i}){return{x:{min:e,max:r},y:{min:n,max:i}}}function h_({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function f_(n,e){if(!e)return n;const r=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:r.y,left:r.x,bottom:i.y,right:i.x}}function Lu(n){return n===void 0||n===1}function lc({scale:n,scaleX:e,scaleY:r}){return!Lu(n)||!Lu(e)||!Lu(r)}function ur(n){return lc(n)||Jg(n)||n.z||n.rotate||n.rotateX||n.rotateY}function Jg(n){return $p(n.x)||$p(n.y)}function $p(n){return n&&n!=="0%"}function oa(n,e,r){const i=n-r,a=e*i;return r+a}function Bp(n,e,r,i,a){return a!==void 0&&(n=oa(n,a,i)),oa(n,r,i)+e}function uc(n,e=0,r=1,i,a){n.min=Bp(n.min,e,r,i,a),n.max=Bp(n.max,e,r,i,a)}function Qg(n,{x:e,y:r}){uc(n.x,e.translate,e.scale,e.originPoint),uc(n.y,r.translate,r.scale,r.originPoint)}function p_(n,e,r,i=!1){const a=r.length;if(!a)return;e.x=e.y=1;let l,u;for(let d=0;d<a;d++){l=r[d],u=l.projectionDelta;const h=l.instance;h&&h.style&&h.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ss(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,Qg(n,u)),i&&ur(l.latestValues)&&ss(n,l.latestValues))}e.x=Up(e.x),e.y=Up(e.y)}function Up(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function Ln(n,e){n.min=n.min+e,n.max=n.max+e}function Fp(n,e,[r,i,a]){const l=e[a]!==void 0?e[a]:.5,u=ze(n.min,n.max,l);uc(n,e[r],e[i],u,e.scale)}const m_=["x","scaleX","originX"],g_=["y","scaleY","originY"];function ss(n,e){Fp(n.x,e,m_),Fp(n.y,e,g_)}function Yg(n,e){return Gg(f_(n.getBoundingClientRect(),e))}function y_(n,e,r){const i=Yg(n,r),{scroll:a}=e;return a&&(Ln(i.x,a.offset.x),Ln(i.y,a.offset.y)),i}const Xg=({current:n})=>n?n.ownerDocument.defaultView:null,v_=new WeakMap;class w_{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=We(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(xa(g,"page").point)},l=(g,v)=>{const{drag:_,dragPropagation:x,onDragStart:S}=this.getProps();if(_&&!x&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=dg(_),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Mt(j=>{let I=this.getAxisMotionValue(j).get()||0;if(tn.test(I)){const{projection:A}=this.visualElement;if(A&&A.layout){const C=A.layout.layoutBox[j];C&&(I=Tt(C)*(parseFloat(I)/100))}}this.originPoint[j]=I}),S&&Ee.update(()=>S(g,v),!1,!0);const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},u=(g,v)=>{const{dragPropagation:_,dragDirectionLock:x,onDirectionLock:S,onDrag:k}=this.getProps();if(!_&&!this.openGlobalLock)return;const{offset:j}=v;if(x&&this.currentDirection===null){this.currentDirection=x_(j),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",v.point,j),this.updateAxis("y",v.point,j),this.visualElement.render(),k&&k(g,v)},d=(g,v)=>this.stop(g,v),h=()=>Mt(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new qg(e,{onSessionStart:a,onStart:l,onMove:u,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:Xg(this.visualElement)})}stop(e,r){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&Ee.update(()=>l(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,i){const{drag:a}=this.getProps();if(!i||!Lo(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=o_(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:i}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;r&&ts(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=a_(a.layoutBox,r):this.constraints=!1,this.elastic=d_(i),l!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Mt(u=>{this.getAxisMotionValue(u)&&(this.constraints[u]=c_(a.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!ts(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=y_(i,a.root,this.visualElement.getTransformPagePoint());let u=l_(a.layout.layoutBox,l);if(r){const d=r(h_(u));this.hasMutatedConstraints=!!d,d&&(u=Gg(d))}return u}startAnimation(e){const{drag:r,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},p=Mt(g=>{if(!Lo(g,r,this.currentDirection))return;let v=h&&h[g]||{};u&&(v={min:0,max:0});const _=a?200:1e6,x=a?40:1e7,S={type:"inertia",velocity:i?e[g]:0,bounceStiffness:_,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(g,S)});return Promise.all(p).then(d)}startAxisValueAnimation(e,r){const i=this.getAxisMotionValue(e);return i.start(Jc(e,i,0,r))}stopAnimation(){Mt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Mt(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r="_drag"+e.toUpperCase(),i=this.visualElement.getProps(),a=i[r];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Mt(r=>{const{drag:i}=this.getProps();if(!Lo(r,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(r);if(a&&a.layout){const{min:u,max:d}=a.layout.layoutBox[r];l.set(e[r]-ze(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!ts(r)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Mt(u=>{const d=this.getAxisMotionValue(u);if(d){const h=d.get();a[u]=u_({min:h,max:h},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Mt(u=>{if(!Lo(u,e,null))return;const d=this.getAxisMotionValue(u),{min:h,max:p}=this.constraints[u];d.set(ze(h,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;v_.set(this.visualElement,this);const e=this.visualElement.current,r=mn(e,"pointerdown",h=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();ts(h)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),i();const u=pn(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(Mt(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=h[g].translate,v.set(v.get()+h[g].translate))}),this.visualElement.render())}));return()=>{u(),r(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=ac,dragMomentum:d=!0}=e;return{...e,drag:r,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function Lo(n,e,r){return(e===!0||e===n)&&(r===null||r===n)}function x_(n,e=10){let r=null;return Math.abs(n.y)>e?r="y":Math.abs(n.x)>e&&(r="x"),r}class __ extends Wn{constructor(e){super(e),this.removeGroupControls=Be,this.removeListeners=Be,this.controls=new w_(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Be}unmount(){this.removeGroupControls(),this.removeListeners()}}const Wp=n=>(e,r)=>{n&&Ee.update(()=>n(e,r))};class b_ extends Wn{constructor(){super(...arguments),this.removePointerDownListener=Be}onPointerDown(e){this.session=new qg(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Xg(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:Wp(e),onStart:Wp(r),onMove:i,onEnd:(l,u)=>{delete this.session,a&&Ee.update(()=>a(l,u))}}}mount(){this.removePointerDownListener=mn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function S_(){const n=L.useContext(pa);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:i}=n,a=L.useId();return L.useEffect(()=>i(a),[]),!e&&r?[!1,()=>r&&r(a)]:[!0]}const Yo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Hp(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Zs={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(ce.test(n))n=parseFloat(n);else return n;const r=Hp(n,e.target.x),i=Hp(n,e.target.y);return`${r}% ${i}%`}},k_={correct:(n,{treeScale:e,projectionDelta:r})=>{const i=n,a=Fn.parse(n);if(a.length>5)return i;const l=Fn.createTransformer(n),u=typeof a[0]!="number"?1:0,d=r.x.scale*e.x,h=r.y.scale*e.y;a[0+u]/=d,a[1+u]/=h;const p=ze(d,h,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}};class E_ extends ha.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;Rw(j_),l&&(r.group&&r.group.add(l),i&&i.register&&a&&i.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Yo.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:i,drag:a,isPresent:l}=this.props,u=i.projection;return u&&(u.isPresent=l,a||e.layoutDependency!==r||r===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Ee.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:i}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Zg(n){const[e,r]=S_(),i=L.useContext(Ic);return ha.createElement(E_,{...n,layoutGroup:i,switchLayoutGroup:L.useContext(Jm),isPresent:e,safeToRemove:r})}const j_={borderRadius:{...Zs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zs,borderTopRightRadius:Zs,borderBottomLeftRadius:Zs,borderBottomRightRadius:Zs,boxShadow:k_},ey=["TopLeft","TopRight","BottomLeft","BottomRight"],T_=ey.length,qp=n=>typeof n=="string"?parseFloat(n):n,Kp=n=>typeof n=="number"||ce.test(n);function P_(n,e,r,i,a,l){a?(n.opacity=ze(0,r.opacity!==void 0?r.opacity:1,C_(i)),n.opacityExit=ze(e.opacity!==void 0?e.opacity:1,0,O_(i))):l&&(n.opacity=ze(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,i));for(let u=0;u<T_;u++){const d=`border${ey[u]}Radius`;let h=Gp(e,d),p=Gp(r,d);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||Kp(h)===Kp(p)?(n[d]=Math.max(ze(qp(h),qp(p),i),0),(tn.test(p)||tn.test(h))&&(n[d]+="%")):n[d]=p}(e.rotate||r.rotate)&&(n.rotate=ze(e.rotate||0,r.rotate||0,i))}function Gp(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const C_=ty(0,.5,Sg),O_=ty(.5,.95,Be);function ty(n,e,r){return i=>i<n?0:i>e?1:r(fi(n,e,i))}function Jp(n,e){n.min=e.min,n.max=e.max}function Dt(n,e){Jp(n.x,e.x),Jp(n.y,e.y)}function Qp(n,e,r,i,a){return n-=e,n=oa(n,1/r,i),a!==void 0&&(n=oa(n,1/a,i)),n}function A_(n,e=0,r=1,i=.5,a,l=n,u=n){if(tn.test(e)&&(e=parseFloat(e),e=ze(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=ze(l.min,l.max,i);n===l&&(d-=e),n.min=Qp(n.min,e,r,d,a),n.max=Qp(n.max,e,r,d,a)}function Yp(n,e,[r,i,a],l,u){A_(n,e[r],e[i],e[a],e.scale,l,u)}const R_=["x","scaleX","originX"],N_=["y","scaleY","originY"];function Xp(n,e,r,i){Yp(n.x,e,R_,r?r.x:void 0,i?i.x:void 0),Yp(n.y,e,N_,r?r.y:void 0,i?i.y:void 0)}function Zp(n){return n.translate===0&&n.scale===1}function ny(n){return Zp(n.x)&&Zp(n.y)}function I_(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function ry(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function em(n){return Tt(n.x)/Tt(n.y)}class D_{constructor(){this.members=[]}add(e){Qc(this.members,e),e.scheduleRender()}remove(e){if(Yc(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(a=>e===a);if(r===0)return!1;let i;for(let a=r;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,r){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,r&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:i}=e;r.onExitComplete&&r.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function tm(n,e,r){let i="";const a=n.x.translate/e.x,l=n.y.translate/e.y;if((a||l)&&(i=`translate3d(${a}px, ${l}px, 0) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),r){const{rotate:h,rotateX:p,rotateY:g}=r;h&&(i+=`rotate(${h}deg) `),p&&(i+=`rotateX(${p}deg) `),g&&(i+=`rotateY(${g}deg) `)}const u=n.x.scale*e.x,d=n.y.scale*e.y;return(u!==1||d!==1)&&(i+=`scale(${u}, ${d})`),i||"none"}const M_=(n,e)=>n.depth-e.depth;class z_{constructor(){this.children=[],this.isDirty=!1}add(e){Qc(this.children,e),this.isDirty=!0}remove(e){Yc(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(M_),this.isDirty=!1,this.children.forEach(e)}}function L_(n,e){const r=performance.now(),i=({timestamp:a})=>{const l=a-r;l>=e&&(nn(i),n(l-e))};return Ee.read(i,!0),()=>nn(i)}function V_(n){window.MotionDebug&&window.MotionDebug.record(n)}function $_(n){return n instanceof SVGElement&&n.tagName!=="svg"}function B_(n,e,r){const i=ct(n)?n:wr(n);return i.start(Jc("",i,e,r)),i.animation}const nm=["","X","Y","Z"],U_={visibility:"hidden"},rm=1e3;let F_=0;const cr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function sy({attachResizeListener:n,defaultParent:e,measureScroll:r,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},d=e?.()){this.id=F_++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,cr.totalNodes=cr.resolvedTargetDeltas=cr.recalculatedProjection=0,this.nodes.forEach(q_),this.nodes.forEach(Y_),this.nodes.forEach(X_),this.nodes.forEach(K_),V_(cr)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new z_)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Xc),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const h=this.eventHandlers.get(u);h&&h.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=$_(u),this.instance=u;const{layoutId:h,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(p||h)&&(this.isLayoutDirty=!0),n){let v;const _=()=>this.root.updateBlockedByResize=!1;n(u,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=L_(_,250),Yo.hasAnimatedSinceResize&&(Yo.hasAnimatedSinceResize=!1,this.nodes.forEach(im))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:_,hasRelativeTargetChanged:x,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||g.getDefaultTransition()||rb,{onLayoutAnimationStart:j,onLayoutAnimationComplete:I}=g.getProps(),A=!this.targetLayout||!ry(this.targetLayout,S)||x,C=!_&&x;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||C||_&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,C);const z={...Gc(k,"layout"),onPlay:j,onComplete:I};(g.shouldReduceMotion||this.options.layoutRoot)&&(z.delay=0,z.type=!1),this.startAnimation(z)}else _||im(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,nn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Z_),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sm);return}this.isUpdating||this.nodes.forEach(J_),this.isUpdating=!1,this.nodes.forEach(Q_),this.nodes.forEach(W_),this.nodes.forEach(H_),this.clearAllSnapshots();const d=performance.now();lt.delta=Un(0,1e3/60,d-lt.timestamp),lt.timestamp=d,lt.isProcessing=!0,Pu.update.process(lt),Pu.preRender.process(lt),Pu.render.process(lt),lt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(G_),this.sharedNodes.forEach(eb)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ee.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ee.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=We(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&(this.scroll={animationId:this.root.animationId,phase:u,isRoot:i(this.instance),offset:r(this.instance)})}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform,d=this.projectionDelta&&!ny(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;u&&(d||ur(this.latestValues)||g)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return u&&(h=this.removeTransform(h)),sb(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return We();const d=u.measureViewportBox(),{scroll:h}=this.root;return h&&(Ln(d.x,h.offset.x),Ln(d.y,h.offset.y)),d}removeElementScroll(u){const d=We();Dt(d,u);for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:g,options:v}=p;if(p!==this.root&&g&&v.layoutScroll){if(g.isRoot){Dt(d,u);const{scroll:_}=this.root;_&&(Ln(d.x,-_.offset.x),Ln(d.y,-_.offset.y))}Ln(d.x,g.offset.x),Ln(d.y,g.offset.y)}}return d}applyTransform(u,d=!1){const h=We();Dt(h,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&ss(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),ur(g.latestValues)&&ss(h,g.latestValues)}return ur(this.latestValues)&&ss(h,this.latestValues),h}removeTransform(u){const d=We();Dt(d,u);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!ur(p.latestValues))continue;lc(p.latestValues)&&p.updateSnapshot();const g=We(),v=p.measurePageBox();Dt(g,v),Xp(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return ur(this.latestValues)&&Xp(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==lt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var d;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==h;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:v,layoutId:_}=this.options;if(!(!this.layout||!(v||_))){if(this.resolvedRelativeTargetAt=lt.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=We(),this.relativeTargetOrigin=We(),ai(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Dt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=We(),this.targetWithTransforms=We()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),i_(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Dt(this.target,this.layout.layoutBox),Qg(this.target,this.targetDelta)):Dt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=We(),this.relativeTargetOrigin=We(),ai(this.relativeTargetOrigin,this.target,x.target),Dt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}cr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||lc(this.parent.latestValues)||Jg(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const d=this.getLead(),h=!!this.resumingFrom||this!==d;let p=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(p=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===lt.timestamp&&(p=!1),p)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Dt(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,x=this.treeScale.y;p_(this.layoutCorrected,this.treeScale,this.path,h),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox);const{target:S}=d;if(!S){this.projectionTransform&&(this.projectionDelta=rs(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=rs(),this.projectionDeltaWithTransform=rs());const k=this.projectionTransform;oi(this.projectionDelta,this.layoutCorrected,S,this.latestValues),this.projectionTransform=tm(this.projectionDelta,this.treeScale),(this.projectionTransform!==k||this.treeScale.x!==_||this.treeScale.y!==x)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),cr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(u,d=!1){const h=this.snapshot,p=h?h.latestValues:{},g={...this.latestValues},v=rs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const _=We(),x=h?h.source:void 0,S=this.layout?this.layout.source:void 0,k=x!==S,j=this.getStack(),I=!j||j.members.length<=1,A=!!(k&&!I&&this.options.crossfade===!0&&!this.path.some(nb));this.animationProgress=0;let C;this.mixTargetDelta=z=>{const D=z/1e3;om(v.x,u.x,D),om(v.y,u.y,D),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ai(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),tb(this.relativeTarget,this.relativeTargetOrigin,_,D),C&&I_(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=We()),Dt(C,this.relativeTarget)),k&&(this.animationValues=g,P_(g,p,this.latestValues,D,A,I)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(nn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ee.update(()=>{Yo.hasAnimatedSinceResize=!0,this.currentAnimation=B_(0,rm,{...u,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(rm),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:h,layout:p,latestValues:g}=u;if(!(!d||!h||!p)){if(this!==u&&this.layout&&p&&iy(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||We();const v=Tt(this.layout.layoutBox.x);h.x.min=u.target.x.min,h.x.max=h.x.min+v;const _=Tt(this.layout.layoutBox.y);h.y.min=u.target.y.min,h.y.max=h.y.min+_}Dt(d,h),ss(d,g),oi(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new D_),this.sharedNodes.get(u).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:d}=this.options;return d?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:d}=this.options;return d?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:h}=u;if((h.rotate||h.rotateX||h.rotateY||h.rotateZ)&&(d=!0),!d)return;const p={};for(let g=0;g<nm.length;g++){const v="rotate"+nm[g];h[v]&&(p[v]=h[v],u.setStaticValue(v,0))}u.render();for(const g in p)u.setStaticValue(g,p[g]);u.scheduleRender()}getProjectionStyles(u){var d,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return U_;const p={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Qo(u?.pointerEvents)||"",p.transform=g?g(this.latestValues,""):"none",p;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const k={};return this.options.layoutId&&(k.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,k.pointerEvents=Qo(u?.pointerEvents)||""),this.hasProjected&&!ur(this.latestValues)&&(k.transform=g?g({},""):"none",this.hasProjected=!1),k}const _=v.animationValues||v.latestValues;this.applyTransformsToTarget(),p.transform=tm(this.projectionDeltaWithTransform,this.treeScale,_),g&&(p.transform=g(_,p.transform));const{x,y:S}=this.projectionDelta;p.transformOrigin=`${x.origin*100}% ${S.origin*100}% 0`,v.animationValues?p.opacity=v===this?(h=(d=_.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:p.opacity=v===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const k in Zo){if(_[k]===void 0)continue;const{correct:j,applyTo:I}=Zo[k],A=p.transform==="none"?_[k]:j(_[k],v);if(I){const C=I.length;for(let z=0;z<C;z++)p[I[z]]=A}else p[k]=A}return this.options.layoutId&&(p.pointerEvents=v===this?Qo(u?.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var d;return(d=u.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(sm),this.root.sharedNodes.clear()}}}function W_(n){n.updateLayout()}function H_(n){var e;const r=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&r&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:a}=n.layout,{animationType:l}=n.options,u=r.source!==n.layout.source;l==="size"?Mt(v=>{const _=u?r.measuredBox[v]:r.layoutBox[v],x=Tt(_);_.min=i[v].min,_.max=_.min+x}):iy(l,r.layoutBox,i)&&Mt(v=>{const _=u?r.measuredBox[v]:r.layoutBox[v],x=Tt(i[v]);_.max=_.min+x,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[v].max=n.relativeTarget[v].min+x)});const d=rs();oi(d,i,r.layoutBox);const h=rs();u?oi(h,n.applyTransform(a,!0),r.measuredBox):oi(h,i,r.layoutBox);const p=!ny(d);let g=!1;if(!n.resumeFrom){const v=n.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:_,layout:x}=v;if(_&&x){const S=We();ai(S,r.layoutBox,_.layoutBox);const k=We();ai(k,i,x.layoutBox),ry(S,k)||(g=!0),v.options.layoutRoot&&(n.relativeTarget=k,n.relativeTargetOrigin=S,n.relativeParent=v)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:r,delta:h,layoutDelta:d,hasLayoutChanged:p,hasRelativeTargetChanged:g})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function q_(n){cr.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function K_(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function G_(n){n.clearSnapshot()}function sm(n){n.clearMeasurements()}function J_(n){n.isLayoutDirty=!1}function Q_(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function im(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function Y_(n){n.resolveTargetDelta()}function X_(n){n.calcProjection()}function Z_(n){n.resetRotation()}function eb(n){n.removeLeadSnapshot()}function om(n,e,r){n.translate=ze(e.translate,0,r),n.scale=ze(e.scale,1,r),n.origin=e.origin,n.originPoint=e.originPoint}function am(n,e,r,i){n.min=ze(e.min,r.min,i),n.max=ze(e.max,r.max,i)}function tb(n,e,r,i){am(n.x,e.x,r.x,i),am(n.y,e.y,r.y,i)}function nb(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const rb={duration:.45,ease:[.4,0,.1,1]},lm=n=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(n),um=lm("applewebkit/")&&!lm("chrome/")?Math.round:Be;function cm(n){n.min=um(n.min),n.max=um(n.max)}function sb(n){cm(n.x),cm(n.y)}function iy(n,e,r){return n==="position"||n==="preserve-aspect"&&!oc(em(e),em(r),.2)}const ib=sy({attachResizeListener:(n,e)=>pn(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Vu={current:void 0},oy=sy({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Vu.current){const n=new ib({});n.mount(window),n.setOptions({layoutScroll:!0}),Vu.current=n}return Vu.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),ob={pan:{Feature:b_},drag:{Feature:__,ProjectionNode:oy,MeasureLayout:Zg}},ab=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function lb(n){const e=ab.exec(n);if(!e)return[,];const[,r,i]=e;return[r,i]}function cc(n,e,r=1){const[i,a]=lb(n);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const u=l.trim();return Ug(u)?parseFloat(u):u}else return Zu(a)?cc(a,e,r+1):a}function ub(n,{...e},r){const i=n.current;if(!(i instanceof Element))return{target:e,transitionEnd:r};r&&(r={...r}),n.values.forEach(a=>{const l=a.get();if(!Zu(l))return;const u=cc(l,i);u&&a.set(u)});for(const a in e){const l=e[a];if(!Zu(l))continue;const u=cc(l,i);u&&(e[a]=u,r||(r={}),r[a]===void 0&&(r[a]=l))}return{target:e,transitionEnd:r}}const cb=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),ay=n=>cb.has(n),db=n=>Object.keys(n).some(ay),dm=n=>n===_r||n===ce,hm=(n,e)=>parseFloat(n.split(", ")[e]),fm=(n,e)=>(r,{transform:i})=>{if(i==="none"||!i)return 0;const a=i.match(/^matrix3d\((.+)\)$/);if(a)return hm(a[1],e);{const l=i.match(/^matrix\((.+)\)$/);return l?hm(l[1],n):0}},hb=new Set(["x","y","z"]),fb=wi.filter(n=>!hb.has(n));function pb(n){const e=[];return fb.forEach(r=>{const i=n.getValue(r);i!==void 0&&(e.push([r,i.get()]),i.set(r.startsWith("scale")?1:0))}),e.length&&n.render(),e}const os={width:({x:n},{paddingLeft:e="0",paddingRight:r="0"})=>n.max-n.min-parseFloat(e)-parseFloat(r),height:({y:n},{paddingTop:e="0",paddingBottom:r="0"})=>n.max-n.min-parseFloat(e)-parseFloat(r),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:fm(4,13),y:fm(5,14)};os.translateX=os.x;os.translateY=os.y;const mb=(n,e,r)=>{const i=e.measureViewportBox(),a=e.current,l=getComputedStyle(a),{display:u}=l,d={};u==="none"&&e.setStaticValue("display",n.display||"block"),r.forEach(p=>{d[p]=os[p](i,l)}),e.render();const h=e.measureViewportBox();return r.forEach(p=>{const g=e.getValue(p);g&&g.jump(d[p]),n[p]=os[p](h,l)}),n},gb=(n,e,r={},i={})=>{e={...e},i={...i};const a=Object.keys(e).filter(ay);let l=[],u=!1;const d=[];if(a.forEach(h=>{const p=n.getValue(h);if(!n.hasValue(h))return;let g=r[h],v=Xs(g);const _=e[h];let x;if(ta(_)){const S=_.length,k=_[0]===null?1:0;g=_[k],v=Xs(g);for(let j=k;j<S&&_[j]!==null;j++)x?Fc(Xs(_[j])===x):x=Xs(_[j])}else x=Xs(_);if(v!==x)if(dm(v)&&dm(x)){const S=p.get();typeof S=="string"&&p.set(parseFloat(S)),typeof _=="string"?e[h]=parseFloat(_):Array.isArray(_)&&x===ce&&(e[h]=_.map(parseFloat))}else v?.transform&&x?.transform&&(g===0||_===0)?g===0?p.set(x.transform(g)):e[h]=v.transform(_):(u||(l=pb(n),u=!0),d.push(h),i[h]=i[h]!==void 0?i[h]:e[h],p.jump(_))}),d.length){const h=d.indexOf("height")>=0?window.pageYOffset:null,p=mb(e,n,d);return l.length&&l.forEach(([g,v])=>{n.getValue(g).set(v)}),n.render(),ma&&h!==null&&window.scrollTo({top:h}),{target:p,transitionEnd:i}}else return{target:e,transitionEnd:i}};function yb(n,e,r,i){return db(e)?gb(n,e,r,i):{target:e,transitionEnd:i}}const vb=(n,e,r,i)=>{const a=ub(n,e,i);return e=a.target,i=a.transitionEnd,yb(n,e,r,i)},dc={current:null},ly={current:!1};function wb(){if(ly.current=!0,!!ma)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>dc.current=n.matches;n.addListener(e),e()}else dc.current=!1}function xb(n,e,r){const{willChange:i}=e;for(const a in e){const l=e[a],u=r[a];if(ct(l))n.addValue(a,l),ia(i)&&i.add(a);else if(ct(u))n.addValue(a,wr(l,{owner:n})),ia(i)&&i.remove(a);else if(u!==l)if(n.hasValue(a)){const d=n.getValue(a);!d.hasAnimated&&d.set(l)}else{const d=n.getStaticValue(a);n.addValue(a,wr(d!==void 0?d:l,{owner:n}))}}for(const a in r)e[a]===void 0&&n.removeValue(a);return e}const pm=new WeakMap,uy=Object.keys(hi),_b=uy.length,mm=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],bb=Nc.length;class Sb{constructor({parent:e,props:r,presenceContext:i,reducedMotionConfig:a,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ee.render(this.render,!1,!0);const{latestValues:d,renderState:h}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=r.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=r,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=u,this.isControllingVariants=va(r),this.isVariantNode=Gm(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(r,{});for(const v in g){const _=g[v];d[v]!==void 0&&ct(_)&&(_.set(d[v],!1),ia(p)&&p.add(v))}}scrapeMotionValuesFromProps(e,r){return{}}mount(e){this.current=e,pm.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),ly.current||wb(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:dc.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){pm.delete(this.current),this.projection&&this.projection.unmount(),nn(this.notifyUpdate),nn(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,r){const i=xr.has(e),a=r.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Ee.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),l=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{a(),l()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...r},i,a,l){let u,d;for(let h=0;h<_b;h++){const p=uy[h],{isEnabled:g,Feature:v,ProjectionNode:_,MeasureLayout:x}=hi[p];_&&(u=_),g(r)&&(!this.features[p]&&v&&(this.features[p]=new v(this)),x&&(d=x))}if((this.type==="html"||this.type==="svg")&&!this.projection&&u){this.projection=new u(this.latestValues,this.parent&&this.parent.projection);const{layoutId:h,layout:p,drag:g,dragConstraints:v,layoutScroll:_,layoutRoot:x}=r;this.projection.setOptions({layoutId:h,layout:p,alwaysMeasureLayout:!!g||v&&ts(v),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof p=="string"?p:"both",initialPromotionConfig:l,layoutScroll:_,layoutRoot:x})}return d}updateFeatures(){for(const e in this.features){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):We()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}makeTargetAnimatable(e,r=!0){return this.makeTargetAnimatableFromInstance(e,this.props,r)}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let i=0;i<mm.length;i++){const a=mm[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l=e["on"+a];l&&(this.propEventSubscriptions[a]=this.on(a,l))}this.prevMotionValues=xb(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const r={};for(let i=0;i<bb;i++){const a=Nc[i],l=this.props[a];(di(l)||l===!1)&&(r[a]=l)}return r}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){r!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,r)),this.values.set(e,r),this.latestValues[e]=r.get()}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&r!==void 0&&(i=wr(r,{owner:this}),this.addValue(e,i)),i}readValue(e){var r;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:i}=this.props,a=typeof i=="string"||typeof i=="object"?(r=Bc(this.props,i))===null||r===void 0?void 0:r[e]:void 0;if(i&&a!==void 0)return a;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!ct(l)?l:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new Xc),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class cy extends Sb{sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:i}){delete r[e],delete i[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:r,...i},{transformValues:a},l){let u=$1(i,e||{},this);if(a&&(r&&(r=a(r)),i&&(i=a(i)),u&&(u=a(u))),l){L1(this,i,u);const d=vb(this,i,u,r);r=d.transitionEnd,i=d.target}return{transition:e,transitionEnd:r,...i}}}function kb(n){return window.getComputedStyle(n)}class Eb extends cy{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,r){if(xr.has(r)){const i=Kc(r);return i&&i.default||0}else{const i=kb(e),a=(Xm(r)?i.getPropertyValue(r):i[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:r}){return Yg(e,r)}build(e,r,i,a){Mc(e,r,i,a.transformTemplate)}scrapeMotionValuesFromProps(e,r){return $c(e,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ct(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(e,r,i,a){sg(e,r,i,a)}}class jb extends cy{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(xr.has(r)){const i=Kc(r);return i&&i.default||0}return r=ig.has(r)?r:Ac(r),e.getAttribute(r)}measureInstanceViewportBox(){return We()}scrapeMotionValuesFromProps(e,r){return ag(e,r)}build(e,r,i,a){Lc(e,r,i,this.isSVGTag,a.transformTemplate)}renderInstance(e,r,i,a){og(e,r,i,a)}mount(e){this.isSVGTag=Vc(e.tagName),super.mount(e)}}const Tb=(n,e)=>Dc(n)?new jb(e,{enableHardwareAcceleration:!1}):new Eb(e,{enableHardwareAcceleration:!0}),Pb={layout:{ProjectionNode:oy,MeasureLayout:Zg}},Cb={...t_,..._x,...ob,...Pb},Lt=Ow((n,e)=>lx(n,e,Cb,Tb));function dy(){const n=L.useRef(!1);return ga(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function Ob(){const n=dy(),[e,r]=L.useState(0),i=L.useCallback(()=>{n.current&&r(e+1)},[e]);return[L.useCallback(()=>Ee.postRender(i),[i]),e]}class Ab extends L.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Rb({children:n,isPresent:e}){const r=L.useId(),i=L.useRef(null),a=L.useRef({width:0,height:0,top:0,left:0});return L.useInsertionEffect(()=>{const{width:l,height:u,top:d,left:h}=a.current;if(e||!i.current||!l||!u)return;i.current.dataset.motionPopId=r;const p=document.createElement("style");return document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            top: ${d}px !important;
            left: ${h}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[e]),L.createElement(Ab,{isPresent:e,childRef:i,sizeRef:a},L.cloneElement(n,{ref:i}))}const $u=({children:n,initial:e,isPresent:r,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:u})=>{const d=Uc(Nb),h=L.useId(),p=L.useMemo(()=>({id:h,initial:e,isPresent:r,custom:a,onExitComplete:g=>{d.set(g,!0);for(const v of d.values())if(!v)return;i&&i()},register:g=>(d.set(g,!1),()=>d.delete(g))}),l?void 0:[r]);return L.useMemo(()=>{d.forEach((g,v)=>d.set(v,!1))},[r]),L.useEffect(()=>{!r&&!d.size&&i&&i()},[r]),u==="popLayout"&&(n=L.createElement(Rb,{isPresent:r},n)),L.createElement(pa.Provider,{value:p},n)};function Nb(){return new Map}function Ib(n){return L.useEffect(()=>()=>n(),[])}const dr=n=>n.key||"";function Db(n,e){n.forEach(r=>{const i=dr(r);e.set(i,r)})}function Mb(n){const e=[];return L.Children.forEach(n,r=>{L.isValidElement(r)&&e.push(r)}),e}const Zc=({children:n,custom:e,initial:r=!0,onExitComplete:i,exitBeforeEnter:a,presenceAffectsLayout:l=!0,mode:u="sync"})=>{const d=L.useContext(Ic).forceRender||Ob()[0],h=dy(),p=Mb(n);let g=p;const v=L.useRef(new Map).current,_=L.useRef(g),x=L.useRef(new Map).current,S=L.useRef(!0);if(ga(()=>{S.current=!1,Db(p,x),_.current=g}),Ib(()=>{S.current=!0,x.clear(),v.clear()}),S.current)return L.createElement(L.Fragment,null,g.map(A=>L.createElement($u,{key:dr(A),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:l,mode:u},A)));g=[...g];const k=_.current.map(dr),j=p.map(dr),I=k.length;for(let A=0;A<I;A++){const C=k[A];j.indexOf(C)===-1&&!v.has(C)&&v.set(C,void 0)}return u==="wait"&&v.size&&(g=[]),v.forEach((A,C)=>{if(j.indexOf(C)!==-1)return;const z=x.get(C);if(!z)return;const D=k.indexOf(C);let M=A;if(!M){const $=()=>{v.delete(C);const W=Array.from(x.keys()).filter(ee=>!j.includes(ee));if(W.forEach(ee=>x.delete(ee)),_.current=p.filter(ee=>{const je=dr(ee);return je===C||W.includes(je)}),!v.size){if(h.current===!1)return;d(),i&&i()}};M=L.createElement($u,{key:dr(z),isPresent:!1,onExitComplete:$,custom:e,presenceAffectsLayout:l,mode:u},z),v.set(C,M)}g.splice(D,0,M)}),g=g.map(A=>{const C=A.key;return v.has(C)?A:L.createElement($u,{key:dr(A),isPresent:!0,presenceAffectsLayout:l,mode:u},A)}),L.createElement(L.Fragment,null,v.size?g:g.map(A=>L.cloneElement(A)))};function hc(n){const e=Uc(()=>wr(n)),{isStatic:r}=L.useContext(Oc);if(r){const[,i]=L.useState(n);L.useEffect(()=>e.on("change",i),[])}return e}function zb(n,e){const r=hc(e()),i=()=>r.set(e());return i(),ga(()=>{const a=()=>Ee.update(i,!1,!0),l=n.map(u=>u.on("change",a));return()=>{l.forEach(u=>u()),nn(i)}}),r}function Lb(n,...e){const r=n.length;function i(){let a="";for(let l=0;l<r;l++){a+=n[l];const u=e[l];u&&(a+=ct(u)?u.get():u)}return a}return zb(e.filter(ct),i)}var Vb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $b=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ge=(n,e)=>{const r=L.forwardRef(({color:i="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:u,children:d,...h},p)=>L.createElement("svg",{ref:p,...Vb,width:a,height:a,stroke:i,strokeWidth:u?Number(l)*24/Number(a):l,className:`lucide lucide-${$b(n)}`,...h},[...e.map(([g,v])=>L.createElement(g,v)),...(Array.isArray(d)?d:[d])||[]]));return r.displayName=`${n}`,r},Bb=ge("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Ub=ge("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Fb=ge("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),ba=ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Wb=ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Hb=ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),qb=ge("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Kb=ge("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Gb=ge("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),as=ge("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Jb=ge("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),Qb=ge("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),Yb=ge("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),hy=ge("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]),ed=ge("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Xb=ge("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),Zb=ge("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),eS=ge("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),Sa=ge("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),fy=ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),tS=ge("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),nS=ge("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),rS=ge("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),py=ge("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),sS=ge("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),iS=ge("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),ka=ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),oS=ge("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]),my=ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),aS=ge("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),td=ge("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),lS=ge("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Bn=ge("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),Bu=ge("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),uS=ge("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]),cS=ge("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),gy=ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function yy(n){var e,r,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(r=yy(n[e]))&&(i&&(i+=" "),i+=r)}else for(r in n)n[r]&&(i&&(i+=" "),i+=r);return i}function Ue(){for(var n,e,r=0,i="",a=arguments.length;r<a;r++)(n=arguments[r])&&(e=yy(n))&&(i&&(i+=" "),i+=e);return i}var fc=function(n,e){return fc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},fc(n,e)};function vy(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");fc(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var aa=function(){return aa=Object.assign||function(e){for(var r,i=1,a=arguments.length;i<a;i++){r=arguments[i];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},aa.apply(this,arguments)};function us(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(r[i[a]]=n[i[a]]);return r}function wy(n,e,r,i){var a=arguments.length,l=a<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,r):i,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(n,e,r,i);else for(var d=n.length-1;d>=0;d--)(u=n[d])&&(l=(a<3?u(l):a>3?u(e,r,l):u(e,r))||l);return a>3&&l&&Object.defineProperty(e,r,l),l}function xy(n,e){return function(r,i){e(r,i,n)}}function _y(n,e,r,i,a,l){function u(I){if(I!==void 0&&typeof I!="function")throw new TypeError("Function expected");return I}for(var d=i.kind,h=d==="getter"?"get":d==="setter"?"set":"value",p=!e&&n?i.static?n:n.prototype:null,g=e||(p?Object.getOwnPropertyDescriptor(p,i.name):{}),v,_=!1,x=r.length-1;x>=0;x--){var S={};for(var k in i)S[k]=k==="access"?{}:i[k];for(var k in i.access)S.access[k]=i.access[k];S.addInitializer=function(I){if(_)throw new TypeError("Cannot add initializers after decoration has completed");l.push(u(I||null))};var j=(0,r[x])(d==="accessor"?{get:g.get,set:g.set}:g[h],S);if(d==="accessor"){if(j===void 0)continue;if(j===null||typeof j!="object")throw new TypeError("Object expected");(v=u(j.get))&&(g.get=v),(v=u(j.set))&&(g.set=v),(v=u(j.init))&&a.unshift(v)}else(v=u(j))&&(d==="field"?a.unshift(v):g[h]=v)}p&&Object.defineProperty(p,i.name,g),_=!0}function by(n,e,r){for(var i=arguments.length>2,a=0;a<e.length;a++)r=i?e[a].call(n,r):e[a].call(n);return i?r:void 0}function Sy(n){return typeof n=="symbol"?n:"".concat(n)}function ky(n,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Ey(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function X(n,e,r,i){function a(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(g){try{p(i.next(g))}catch(v){u(v)}}function h(g){try{p(i.throw(g))}catch(v){u(v)}}function p(g){g.done?l(g.value):a(g.value).then(d,h)}p((i=i.apply(n,e||[])).next())})}function jy(n,e){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=d(0),u.throw=d(1),u.return=d(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(p){return function(g){return h([p,g])}}function h(p){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(r=0)),r;)try{if(i=1,a&&(l=p[0]&2?a.return:p[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,p[1])).done)return l;switch(a=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,a=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){r.label=p[1];break}if(p[0]===6&&r.label<l[1]){r.label=l[1],l=p;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(p);break}l[2]&&r.ops.pop(),r.trys.pop();continue}p=e.call(n,r)}catch(g){p=[6,g],a=0}finally{i=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var Ea=Object.create?(function(n,e,r,i){i===void 0&&(i=r);var a=Object.getOwnPropertyDescriptor(e,r);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(n,i,a)}):(function(n,e,r,i){i===void 0&&(i=r),n[i]=e[r]});function Ty(n,e){for(var r in n)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Ea(e,n,r)}function la(n){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&n[e],i=0;if(r)return r.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function nd(n,e){var r=typeof Symbol=="function"&&n[Symbol.iterator];if(!r)return n;var i=r.call(n),a,l=[],u;try{for(;(e===void 0||e-- >0)&&!(a=i.next()).done;)l.push(a.value)}catch(d){u={error:d}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(u)throw u.error}}return l}function Py(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(nd(arguments[e]));return n}function Cy(){for(var n=0,e=0,r=arguments.length;e<r;e++)n+=arguments[e].length;for(var i=Array(n),a=0,e=0;e<r;e++)for(var l=arguments[e],u=0,d=l.length;u<d;u++,a++)i[a]=l[u];return i}function Oy(n,e,r){if(r||arguments.length===2)for(var i=0,a=e.length,l;i<a;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return n.concat(l||Array.prototype.slice.call(e))}function ls(n){return this instanceof ls?(this.v=n,this):new ls(n)}function Ay(n,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(n,e||[]),a,l=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",u),a[Symbol.asyncIterator]=function(){return this},a;function u(x){return function(S){return Promise.resolve(S).then(x,v)}}function d(x,S){i[x]&&(a[x]=function(k){return new Promise(function(j,I){l.push([x,k,j,I])>1||h(x,k)})},S&&(a[x]=S(a[x])))}function h(x,S){try{p(i[x](S))}catch(k){_(l[0][3],k)}}function p(x){x.value instanceof ls?Promise.resolve(x.value.v).then(g,v):_(l[0][2],x)}function g(x){h("next",x)}function v(x){h("throw",x)}function _(x,S){x(S),l.shift(),l.length&&h(l[0][0],l[0][1])}}function Ry(n){var e,r;return e={},i("next"),i("throw",function(a){throw a}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(a,l){e[a]=n[a]?function(u){return(r=!r)?{value:ls(n[a](u)),done:!1}:l?l(u):u}:l}}function Ny(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],r;return e?e.call(n):(n=typeof la=="function"?la(n):n[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(l){r[l]=n[l]&&function(u){return new Promise(function(d,h){u=n[l](u),a(d,h,u.done,u.value)})}}function a(l,u,d,h){Promise.resolve(h).then(function(p){l({value:p,done:d})},u)}}function Iy(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}var dS=Object.create?(function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}):function(n,e){n.default=e},pc=function(n){return pc=Object.getOwnPropertyNames||function(e){var r=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[r.length]=i);return r},pc(n)};function Dy(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var r=pc(n),i=0;i<r.length;i++)r[i]!=="default"&&Ea(e,n,r[i]);return dS(e,n),e}function My(n){return n&&n.__esModule?n:{default:n}}function zy(n,e,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(n):i?i.value:e.get(n)}function Ly(n,e,r,i,a){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!a:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?a.call(n,r):a?a.value=r:e.set(n,r),r}function Vy(n,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?e===n:n.has(e)}function $y(n,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose],r&&(a=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");a&&(i=function(){try{a.call(this)}catch(l){return Promise.reject(l)}}),n.stack.push({value:e,dispose:i,async:r})}else r&&n.stack.push({async:!0});return e}var hS=typeof SuppressedError=="function"?SuppressedError:function(n,e,r){var i=new Error(r);return i.name="SuppressedError",i.error=n,i.suppressed=e,i};function By(n){function e(l){n.error=n.hasError?new hS(l,n.error,"An error was suppressed during disposal."):l,n.hasError=!0}var r,i=0;function a(){for(;r=n.stack.pop();)try{if(!r.async&&i===1)return i=0,n.stack.push(r),Promise.resolve().then(a);if(r.dispose){var l=r.dispose.call(r.value);if(r.async)return i|=2,Promise.resolve(l).then(a,function(u){return e(u),a()})}else i|=1}catch(u){e(u)}if(i===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return a()}function Uy(n,e){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,i,a,l,u){return i?e?".jsx":".js":a&&(!l||!u)?r:a+l+"."+u.toLowerCase()+"js"}):n}const fS={__extends:vy,__assign:aa,__rest:us,__decorate:wy,__param:xy,__esDecorate:_y,__runInitializers:by,__propKey:Sy,__setFunctionName:ky,__metadata:Ey,__awaiter:X,__generator:jy,__createBinding:Ea,__exportStar:Ty,__values:la,__read:nd,__spread:Py,__spreadArrays:Cy,__spreadArray:Oy,__await:ls,__asyncGenerator:Ay,__asyncDelegator:Ry,__asyncValues:Ny,__makeTemplateObject:Iy,__importStar:Dy,__importDefault:My,__classPrivateFieldGet:zy,__classPrivateFieldSet:Ly,__classPrivateFieldIn:Vy,__addDisposableResource:$y,__disposeResources:By,__rewriteRelativeImportExtension:Uy},pS=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:$y,get __assign(){return aa},__asyncDelegator:Ry,__asyncGenerator:Ay,__asyncValues:Ny,__await:ls,__awaiter:X,__classPrivateFieldGet:zy,__classPrivateFieldIn:Vy,__classPrivateFieldSet:Ly,__createBinding:Ea,__decorate:wy,__disposeResources:By,__esDecorate:_y,__exportStar:Ty,__extends:vy,__generator:jy,__importDefault:My,__importStar:Dy,__makeTemplateObject:Iy,__metadata:Ey,__param:xy,__propKey:Sy,__read:nd,__rest:us,__rewriteRelativeImportExtension:Uy,__runInitializers:by,__setFunctionName:ky,__spread:Py,__spreadArray:Oy,__spreadArrays:Cy,__values:la,default:fS},Symbol.toStringTag,{value:"Module"})),mS=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);class rd extends Error{constructor(e,r="FunctionsError",i){super(e),this.name=r,this.context=i}}class gS extends rd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class gm extends rd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ym extends rd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var mc;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(mc||(mc={}));class yS{constructor(e,{headers:r={},customFetch:i,region:a=mc.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=mS(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return X(this,arguments,void 0,function*(r,i={}){var a;let l,u;try{const{headers:d,method:h,body:p,signal:g,timeout:v}=i;let _={},{region:x}=i;x||(x=this.region);const S=new URL(`${this.url}/${r}`);x&&x!=="any"&&(_["x-region"]=x,S.searchParams.set("forceFunctionRegion",x));let k;p&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",k=p):typeof p=="string"?(_["Content-Type"]="text/plain",k=p):typeof FormData<"u"&&p instanceof FormData?k=p:(_["Content-Type"]="application/json",k=JSON.stringify(p)):k=p;let j=g;v&&(u=new AbortController,l=setTimeout(()=>u.abort(),v),g?(j=u.signal,g.addEventListener("abort",()=>u.abort())):j=u.signal);const I=yield this.fetch(S.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),d),body:k,signal:j}).catch(D=>{throw new gS(D)}),A=I.headers.get("x-relay-error");if(A&&A==="true")throw new gm(I);if(!I.ok)throw new ym(I);let C=((a=I.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),z;return C==="application/json"?z=yield I.json():C==="application/octet-stream"||C==="application/pdf"?z=yield I.blob():C==="text/event-stream"?z=I:C==="multipart/form-data"?z=yield I.formData():z=yield I.text(),{data:z,error:null,response:I}}catch(d){return{data:null,error:d,response:d instanceof ym||d instanceof gm?d.context:void 0}}finally{l&&clearTimeout(l)}})}}var at={};const cs=cw(pS);var Vo={},$o={},Bo={},Uo={},Fo={},Wo={},vm;function Fy(){if(vm)return Wo;vm=1,Object.defineProperty(Wo,"__esModule",{value:!0});class n extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Wo.default=n,Wo}var wm;function Wy(){if(wm)return Fo;wm=1,Object.defineProperty(Fo,"__esModule",{value:!0});const e=cs.__importDefault(Fy());class r{constructor(a){var l,u;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(l=a.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=a.signal,this.isMaybeSingle=(u=a.isMaybeSingle)!==null&&u!==void 0?u:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,l){return this.headers=new Headers(this.headers),this.headers.set(a,l),this}then(a,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var p,g,v,_;let x=null,S=null,k=null,j=h.status,I=h.statusText;if(h.ok){if(this.method!=="HEAD"){const D=await h.text();D===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?S=D:S=JSON.parse(D))}const C=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),z=(v=h.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");C&&z&&z.length>1&&(k=parseInt(z[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(x={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,k=null,j=406,I="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const C=await h.text();try{x=JSON.parse(C),Array.isArray(x)&&h.status===404&&(S=[],x=null,j=200,I="OK")}catch{h.status===404&&C===""?(j=204,I="No Content"):x={message:C}}if(x&&this.isMaybeSingle&&(!((_=x?.details)===null||_===void 0)&&_.includes("0 rows"))&&(x=null,j=200,I="OK"),x&&this.shouldThrowOnError)throw new e.default(x)}return{error:x,data:S,count:k,status:j,statusText:I}});return this.shouldThrowOnError||(d=d.catch(h=>{var p,g,v,_,x,S;let k="";const j=h?.cause;if(j){const I=(p=j?.message)!==null&&p!==void 0?p:"",A=(g=j?.code)!==null&&g!==void 0?g:"";k=`${(v=h?.name)!==null&&v!==void 0?v:"FetchError"}: ${h?.message}`,k+=`

Caused by: ${(_=j?.name)!==null&&_!==void 0?_:"Error"}: ${I}`,A&&(k+=` (${A})`),j?.stack&&(k+=`
${j.stack}`)}else k=(x=h?.stack)!==null&&x!==void 0?x:"";return{error:{message:`${(S=h?.name)!==null&&S!==void 0?S:"FetchError"}: ${h?.message}`,details:k,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(a,l)}returns(){return this}overrideTypes(){return this}}return Fo.default=r,Fo}var xm;function Hy(){if(xm)return Uo;xm=1,Object.defineProperty(Uo,"__esModule",{value:!0});const e=cs.__importDefault(Wy());class r extends e.default{select(a){let l=!1;const u=(a??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:l=!0,nullsFirst:u,foreignTable:d,referencedTable:h=d}={}){const p=h?`${h}.order`:"order",g=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${g?`${g},`:""}${a}.${l?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:l,referencedTable:u=l}={}){const d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${a}`),this}range(a,l,{foreignTable:u,referencedTable:d=u}={}){const h=typeof d>"u"?"offset":`${d}.offset`,p=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${a}`),this.url.searchParams.set(p,`${l-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:l=!1,settings:u=!1,buffers:d=!1,wal:h=!1,format:p="text"}={}){var g;const v=[a?"analyze":null,l?"verbose":null,u?"settings":null,d?"buffers":null,h?"wal":null].filter(Boolean).join("|"),_=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${_}"; options=${v};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Uo.default=r,Uo}var _m;function sd(){if(_m)return Bo;_m=1,Object.defineProperty(Bo,"__esModule",{value:!0});const e=cs.__importDefault(Hy()),r=new RegExp("[,()]");class i extends e.default{eq(l,u){return this.url.searchParams.append(l,`eq.${u}`),this}neq(l,u){return this.url.searchParams.append(l,`neq.${u}`),this}gt(l,u){return this.url.searchParams.append(l,`gt.${u}`),this}gte(l,u){return this.url.searchParams.append(l,`gte.${u}`),this}lt(l,u){return this.url.searchParams.append(l,`lt.${u}`),this}lte(l,u){return this.url.searchParams.append(l,`lte.${u}`),this}like(l,u){return this.url.searchParams.append(l,`like.${u}`),this}likeAllOf(l,u){return this.url.searchParams.append(l,`like(all).{${u.join(",")}}`),this}likeAnyOf(l,u){return this.url.searchParams.append(l,`like(any).{${u.join(",")}}`),this}ilike(l,u){return this.url.searchParams.append(l,`ilike.${u}`),this}ilikeAllOf(l,u){return this.url.searchParams.append(l,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(l,u){return this.url.searchParams.append(l,`ilike(any).{${u.join(",")}}`),this}regexMatch(l,u){return this.url.searchParams.append(l,`match.${u}`),this}regexIMatch(l,u){return this.url.searchParams.append(l,`imatch.${u}`),this}is(l,u){return this.url.searchParams.append(l,`is.${u}`),this}isDistinct(l,u){return this.url.searchParams.append(l,`isdistinct.${u}`),this}in(l,u){const d=Array.from(new Set(u)).map(h=>typeof h=="string"&&r.test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(l,`in.(${d})`),this}contains(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cs.{${u.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(u)}`),this}containedBy(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cd.{${u.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(u)}`),this}rangeGt(l,u){return this.url.searchParams.append(l,`sr.${u}`),this}rangeGte(l,u){return this.url.searchParams.append(l,`nxl.${u}`),this}rangeLt(l,u){return this.url.searchParams.append(l,`sl.${u}`),this}rangeLte(l,u){return this.url.searchParams.append(l,`nxr.${u}`),this}rangeAdjacent(l,u){return this.url.searchParams.append(l,`adj.${u}`),this}overlaps(l,u){return typeof u=="string"?this.url.searchParams.append(l,`ov.${u}`):this.url.searchParams.append(l,`ov.{${u.join(",")}}`),this}textSearch(l,u,{config:d,type:h}={}){let p="";h==="plain"?p="pl":h==="phrase"?p="ph":h==="websearch"&&(p="w");const g=d===void 0?"":`(${d})`;return this.url.searchParams.append(l,`${p}fts${g}.${u}`),this}match(l){return Object.entries(l).forEach(([u,d])=>{this.url.searchParams.append(u,`eq.${d}`)}),this}not(l,u,d){return this.url.searchParams.append(l,`not.${u}.${d}`),this}or(l,{foreignTable:u,referencedTable:d=u}={}){const h=d?`${d}.or`:"or";return this.url.searchParams.append(h,`(${l})`),this}filter(l,u,d){return this.url.searchParams.append(l,`${u}.${d}`),this}}return Bo.default=i,Bo}var bm;function qy(){if(bm)return $o;bm=1,Object.defineProperty($o,"__esModule",{value:!0});const e=cs.__importDefault(sd());class r{constructor(a,{headers:l={},schema:u,fetch:d}){this.url=a,this.headers=new Headers(l),this.schema=u,this.fetch=d}select(a,l){const{head:u=!1,count:d}=l??{},h=u?"HEAD":"GET";let p=!1;const g=(a??"*").split("").map(v=>/\s/.test(v)&&!p?"":(v==='"'&&(p=!p),v)).join("");return this.url.searchParams.set("select",g),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:l,defaultToNull:u=!0}={}){var d;const h="POST";if(l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const p=a.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(p.length>0){const g=[...new Set(p)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(a,{onConflict:l,ignoreDuplicates:u=!1,count:d,defaultToNull:h=!0}={}){var p;const g="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const v=a.reduce((_,x)=>_.concat(Object.keys(x)),[]);if(v.length>0){const _=[...new Set(v)].map(x=>`"${x}"`);this.url.searchParams.set("columns",_.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(a,{count:l}={}){var u;const d="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:a}={}){var l;const u="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return $o.default=r,$o}var Sm;function vS(){if(Sm)return Vo;Sm=1,Object.defineProperty(Vo,"__esModule",{value:!0});const n=cs,e=n.__importDefault(qy()),r=n.__importDefault(sd());class i{constructor(l,{headers:u={},schema:d,fetch:h}={}){this.url=l,this.headers=new Headers(u),this.schemaName=d,this.fetch=h}from(l){if(!l||typeof l!="string"||l.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const u=new URL(`${this.url}/${l}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new i(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:d=!1,get:h=!1,count:p}={}){var g;let v;const _=new URL(`${this.url}/rpc/${l}`);let x;d||h?(v=d?"HEAD":"GET",Object.entries(u).filter(([k,j])=>j!==void 0).map(([k,j])=>[k,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([k,j])=>{_.searchParams.append(k,j)})):(v="POST",x=u);const S=new Headers(this.headers);return p&&S.set("Prefer",`count=${p}`),new r.default({method:v,url:_,headers:S,schema:this.schemaName,body:x,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return Vo.default=i,Vo}var km;function wS(){if(km)return at;km=1,Object.defineProperty(at,"__esModule",{value:!0}),at.PostgrestError=at.PostgrestBuilder=at.PostgrestTransformBuilder=at.PostgrestFilterBuilder=at.PostgrestQueryBuilder=at.PostgrestClient=void 0;const n=cs,e=n.__importDefault(vS());at.PostgrestClient=e.default;const r=n.__importDefault(qy());at.PostgrestQueryBuilder=r.default;const i=n.__importDefault(sd());at.PostgrestFilterBuilder=i.default;const a=n.__importDefault(Hy());at.PostgrestTransformBuilder=a.default;const l=n.__importDefault(Wy());at.PostgrestBuilder=l.default;const u=n.__importDefault(Fy());return at.PostgrestError=u.default,at.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:l.default,PostgrestError:u.default},at}var Ky=wS();const Gy=Pc(Ky),xS=uw({__proto__:null,default:Gy},[Ky]),{PostgrestClient:_S,PostgrestQueryBuilder:lj,PostgrestFilterBuilder:uj,PostgrestTransformBuilder:cj,PostgrestBuilder:dj,PostgrestError:hj}=Gy||xS;class bS{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const i=r.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const i=this.getWebSocketConstructor();return new i(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const SS="2.86.0",kS=`realtime-js/${SS}`,Jy="1.0.0",ES="2.0.0",Em=Jy,gc=1e4,jS=1e3,TS=100;var fr;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(fr||(fr={}));var Je;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Je||(Je={}));var Gt;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Gt||(Gt={}));var yc;(function(n){n.websocket="websocket"})(yc||(yc={}));var pr;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(pr||(pr={}));class PS{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,i;const a=(i=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var r,i;const a=(i=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:{},u=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,r,i){var a,l;const u=e.topic,d=(a=e.ref)!==null&&a!==void 0?a:"",h=(l=e.join_ref)!==null&&l!==void 0?l:"",p=e.payload.event,g=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},v=Object.keys(g).length===0?"":JSON.stringify(g);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+d.length+u.length+p.length+v.length,x=new ArrayBuffer(this.HEADER_LENGTH+_);let S=new DataView(x),k=0;S.setUint8(k++,this.KINDS.userBroadcastPush),S.setUint8(k++,h.length),S.setUint8(k++,d.length),S.setUint8(k++,u.length),S.setUint8(k++,p.length),S.setUint8(k++,v.length),S.setUint8(k++,r),Array.from(h,I=>S.setUint8(k++,I.charCodeAt(0))),Array.from(d,I=>S.setUint8(k++,I.charCodeAt(0))),Array.from(u,I=>S.setUint8(k++,I.charCodeAt(0))),Array.from(p,I=>S.setUint8(k++,I.charCodeAt(0))),Array.from(v,I=>S.setUint8(k++,I.charCodeAt(0)));var j=new Uint8Array(x.byteLength+i.byteLength);return j.set(new Uint8Array(x),0),j.set(new Uint8Array(i),x.byteLength),j.buffer}decode(e,r){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return r(i)}if(typeof e=="string"){const i=JSON.parse(e),[a,l,u,d,h]=i;return r({join_ref:a,ref:l,topic:u,event:d,payload:h})}return r({})}_binaryDecode(e){const r=new DataView(e),i=r.getUint8(0),a=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,a)}}_decodeUserBroadcast(e,r,i){const a=r.getUint8(1),l=r.getUint8(2),u=r.getUint8(3),d=r.getUint8(4);let h=this.HEADER_LENGTH+4;const p=i.decode(e.slice(h,h+a));h=h+a;const g=i.decode(e.slice(h,h+l));h=h+l;const v=i.decode(e.slice(h,h+u));h=h+u;const _=e.slice(h,e.byteLength),x=d===this.JSON_ENCODING?JSON.parse(i.decode(_)):_,S={type:this.BROADCAST_EVENT,event:g,payload:x};return u>0&&(S.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([i])=>r.includes(i)))}}class Qy{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Pe;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Pe||(Pe={}));const jm=(n,e,r={})=>{var i;const a=(i=r.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=CS(u,n,e,a),l),{}):{}},CS=(n,e,r,i)=>{const a=e.find(d=>d.name===n),l=a?.type,u=r[n];return l&&!i.includes(l)?Yy(l,u):vc(u)},Yy=(n,e)=>{if(n.charAt(0)==="_"){const r=n.slice(1,n.length);return NS(e,r)}switch(n){case Pe.bool:return OS(e);case Pe.float4:case Pe.float8:case Pe.int2:case Pe.int4:case Pe.int8:case Pe.numeric:case Pe.oid:return AS(e);case Pe.json:case Pe.jsonb:return RS(e);case Pe.timestamp:return IS(e);case Pe.abstime:case Pe.date:case Pe.daterange:case Pe.int4range:case Pe.int8range:case Pe.money:case Pe.reltime:case Pe.text:case Pe.time:case Pe.timestamptz:case Pe.timetz:case Pe.tsrange:case Pe.tstzrange:return vc(e);default:return vc(e)}},vc=n=>n,OS=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},AS=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},RS=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},NS=(n,e)=>{if(typeof n!="string")return n;const r=n.length-1,i=n[r];if(n[0]==="{"&&i==="}"){let l;const u=n.slice(1,r);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(d=>Yy(e,d))}return n},IS=n=>typeof n=="string"?n.replace(" ","T"):n,Xy=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Uu{constructor(e,r,i={},a=gc){this.channel=e,this.event=r,this.payload=i,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var i;return this._hasReceived(e)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Tm;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Tm||(Tm={}));class li{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},a=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=li.syncState(this.state,a,l,u),this.pendingDiffs.forEach(h=>{this.state=li.syncDiff(this.state,h,l,u)}),this.pendingDiffs=[],d()}),this.channel._on(i.diff,{},a=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=li.syncDiff(this.state,a,l,u),d())}),this.onJoin((a,l,u)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:u})}),this.onLeave((a,l,u)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,i,a){const l=this.cloneDeep(e),u=this.transformState(r),d={},h={};return this.map(l,(p,g)=>{u[p]||(h[p]=g)}),this.map(u,(p,g)=>{const v=l[p];if(v){const _=g.map(j=>j.presence_ref),x=v.map(j=>j.presence_ref),S=g.filter(j=>x.indexOf(j.presence_ref)<0),k=v.filter(j=>_.indexOf(j.presence_ref)<0);S.length>0&&(d[p]=S),k.length>0&&(h[p]=k)}else d[p]=g}),this.syncDiff(l,{joins:d,leaves:h},i,a)}static syncDiff(e,r,i,a){const{joins:l,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),a||(a=()=>{}),this.map(l,(d,h)=>{var p;const g=(p=e[d])!==null&&p!==void 0?p:[];if(e[d]=this.cloneDeep(h),g.length>0){const v=e[d].map(x=>x.presence_ref),_=g.filter(x=>v.indexOf(x.presence_ref)<0);e[d].unshift(..._)}i(d,g,h)}),this.map(u,(d,h)=>{let p=e[d];if(!p)return;const g=h.map(v=>v.presence_ref);p=p.filter(v=>g.indexOf(v.presence_ref)<0),e[d]=p,a(d,p,h),p.length===0&&delete e[d]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(i=>r(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,i)=>{const a=e[i];return"metas"in a?r[i]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[i]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Pm;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Pm||(Pm={}));var ui;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(ui||(ui={}));var fn;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(fn||(fn={}));class id{constructor(e,r={config:{}},i){var a,l;if(this.topic=e,this.params=r,this.socket=i,this.bindings={},this.state=Je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Uu(this,Gt.join,this.params,this.timeout),this.rejoinTimer=new Qy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Je.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Gt.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new li(this),this.broadcastEndpointURL=Xy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var i,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Je.closed){const{config:{broadcast:u,presence:d,private:h}}=this.params,p=(a=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(x=>x.filter))!==null&&a!==void 0?a:[],g=!!this.bindings[ui.PRESENCE]&&this.bindings[ui.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,v={},_={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:g}),postgres_changes:p,private:h};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(x=>e?.(fn.CHANNEL_ERROR,x)),this._onClose(()=>e?.(fn.CLOSED)),this.updateJoinPayload(Object.assign({config:_},v)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var S;if(this.socket.setAuth(),x===void 0){e?.(fn.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,j=(S=k?.length)!==null&&S!==void 0?S:0,I=[];for(let A=0;A<j;A++){const C=k[A],{filter:{event:z,schema:D,table:M,filter:$}}=C,W=x&&x[A];if(W&&W.event===z&&W.schema===D&&W.table===M&&W.filter===$)I.push(Object.assign(Object.assign({},C),{id:W.id}));else{this.unsubscribe(),this.state=Je.errored,e?.(fn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=I,e&&e(fn.SUBSCRIBED);return}}).receive("error",x=>{this.state=Je.errored,e?.(fn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{e?.(fn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,i){return this.state===Je.joined&&e===ui.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,i)}async httpSend(e,r,i={}){var a;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(a=i.timeout)!==null&&a!==void 0?a:this.timeout);if(d.status===202)return{success:!0};let h=d.statusText;try{const p=await d.json();h=p.error||p.message||h}catch{}return Promise.reject(new Error(h))}async send(e,r={}){var i,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((a=p.body)===null||a===void 0?void 0:a.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,d,h;const p=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),p.receive("ok",()=>l("ok")),p.receive("error",()=>l("error")),p.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Je.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Gt.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(a=>{i=new Uu(this,Gt.leave,{},e),i.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Je.closed,this.bindings={}}async _fetchWithTimeout(e,r,i){const a=new AbortController,l=setTimeout(()=>a.abort(),i),u=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(l),u}_push(e,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Uu(this,e,r,i);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>TS){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,i){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,i){var a,l;const u=e.toLocaleLowerCase(),{close:d,error:h,leave:p,join:g}=Gt;if(i&&[d,h,p,g].indexOf(u)>=0&&i!==this._joinRef())return;let _=this._onMessage(u,r,i);if(r&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(x=>{var S,k,j;return((S=x.filter)===null||S===void 0?void 0:S.event)==="*"||((j=(k=x.filter)===null||k===void 0?void 0:k.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===u}).map(x=>x.callback(_,i)):(l=this.bindings[u])===null||l===void 0||l.filter(x=>{var S,k,j,I,A,C;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in x){const z=x.id,D=(S=x.filter)===null||S===void 0?void 0:S.event;return z&&((k=r.ids)===null||k===void 0?void 0:k.includes(z))&&(D==="*"||D?.toLocaleLowerCase()===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const z=(A=(I=x?.filter)===null||I===void 0?void 0:I.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return z==="*"||z===((C=r?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===u}).map(x=>{if(typeof _=="object"&&"ids"in _){const S=_.data,{schema:k,table:j,commit_timestamp:I,type:A,errors:C}=S;_=Object.assign(Object.assign({},{schema:k,table:j,commit_timestamp:I,eventType:A,new:{},old:{},errors:C}),this._getPayloadRecords(S))}x.callback(_,i)})}_isClosed(){return this.state===Je.closed}_isJoined(){return this.state===Je.joined}_isJoining(){return this.state===Je.joining}_isLeaving(){return this.state===Je.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,i){const a=e.toLocaleLowerCase(),l={type:a,filter:r,callback:i};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,r){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&id.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const i in e)if(e[i]!==r[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Gt.close,{},e)}_onError(e){this._on(Gt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Je.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=jm(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=jm(e.columns,e.old_record)),r}}const Fu=()=>{},Ho={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},DS=[1e3,2e3,5e3,1e4],MS=1e4,zS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class LS{constructor(e,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=gc,this.transport=null,this.heartbeatIntervalMs=Ho.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Fu,this.ref=0,this.reconnectTimer=null,this.vsn=Em,this.logger=Fu,this.conn=null,this.sendBuffer=[],this.serializer=new PS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...l)=>a(...l):(...l)=>fetch(...l),!(!((i=r?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${yc.websocket}`,this.httpEndpoint=Xy(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=bS.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,i){this.logger(e,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case fr.connecting:return pr.Connecting;case fr.open:return pr.Open;case fr.closing:return pr.Closing;default:return pr.Closed}}isConnected(){return this.connectionState()===pr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const i=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===i);if(a)return a;{const l=new id(`realtime:${e}`,r,this);return this.channels.push(l),l}}push(e){const{topic:r,event:i,payload:a,ref:l}=e,u=()=>{this.encode(e,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${r} ${i} (${l})`,a),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(jS,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ho.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:a,payload:l,ref:u}=r,d=u?`(${u})`:"",h=l.status||"";this.log("receive",`${h} ${i} ${a} ${d}`.trim(),l),this.channels.filter(p=>p._isMember(i)).forEach(p=>p._trigger(a,l,u)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===fr.open||this.conn.readyState===fr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Gt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const i=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${i}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const i=new Blob([zS],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:kS};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(Gt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Qy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ho.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,i,a,l,u,d,h,p,g,v,_,x;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:gc,this.heartbeatIntervalMs=(a=e?.heartbeatIntervalMs)!==null&&a!==void 0?a:Ho.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:Fu,this.vsn=(h=e?.vsn)!==null&&h!==void 0?h:Em,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e?.reconnectAfterMs)!==null&&p!==void 0?p:(S=>DS[S-1]||MS),this.vsn){case Jy:this.encode=(g=e?.encode)!==null&&g!==void 0?g:((S,k)=>k(JSON.stringify(S))),this.decode=(v=e?.decode)!==null&&v!==void 0?v:((S,k)=>k(JSON.parse(S)));break;case ES:this.encode=(_=e?.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(x=e?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class ja extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Me(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class VS extends ja{constructor(e,r,i){super(e),this.name="StorageApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class wc extends ja{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const od=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),$S=()=>Response,xc=n=>{if(Array.isArray(n))return n.map(r=>xc(r));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([r,i])=>{const a=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=xc(i)}),e},BS=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},US=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n),Wu=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},FS=(n,e,r)=>X(void 0,void 0,void 0,function*(){const i=yield $S();n instanceof i&&!r?.noResolveJson?n.json().then(a=>{const l=n.status||500,u=a?.statusCode||l+"";e(new VS(Wu(a),l,u))}).catch(a=>{e(new wc(Wu(a),a))}):e(new wc(Wu(n),n))}),WS=(n,e,r,i)=>{const a={method:n,headers:e?.headers||{}};return n==="GET"||!i?a:(BS(i)?(a.headers=Object.assign({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(i)):a.body=i,e?.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),r))};function Si(n,e,r,i,a,l){return X(this,void 0,void 0,function*(){return new Promise((u,d)=>{n(r,WS(e,i,a,l)).then(h=>{if(!h.ok)throw h;return i?.noResolveJson?h:h.json()}).then(h=>u(h)).catch(h=>FS(h,d,i))})})}function pi(n,e,r,i){return X(this,void 0,void 0,function*(){return Si(n,"GET",e,r,i)})}function Kt(n,e,r,i,a){return X(this,void 0,void 0,function*(){return Si(n,"POST",e,i,a,r)})}function _c(n,e,r,i,a){return X(this,void 0,void 0,function*(){return Si(n,"PUT",e,i,a,r)})}function HS(n,e,r,i){return X(this,void 0,void 0,function*(){return Si(n,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),i)})}function ad(n,e,r,i,a){return X(this,void 0,void 0,function*(){return Si(n,"DELETE",e,i,a,r)})}class qS{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return X(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Me(e))return{data:null,error:e};throw e}})}}var Zy;class KS{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Zy]="BlobDownloadBuilder",this.promise=null}asStream(){return new qS(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return X(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Me(e))return{data:null,error:e};throw e}})}}Zy=Symbol.toStringTag;const GS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Cm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class JS{constructor(e,r={},i,a){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=i,this.fetch=od(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,i,a){return X(this,void 0,void 0,function*(){try{let l;const u=Object.assign(Object.assign({},Cm),a);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),h&&l.append("metadata",this.encodeMetadata(h)),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),h&&!l.has("metadata")&&l.append("metadata",this.encodeMetadata(h))):(l=i,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,h&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(h))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),a?.headers&&(d=Object.assign(Object.assign({},d),a.headers));const p=this._removeEmptyFolders(r),g=this._getFinalPath(p),v=yield(e=="PUT"?_c:Kt)(this.fetch,`${this.url}/object/${g}`,l,Object.assign({headers:d},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:v.Id,fullPath:v.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Me(l))return{data:null,error:l};throw l}})}upload(e,r,i){return X(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,i)})}uploadToSignedUrl(e,r,i,a){return X(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),u=this._getFinalPath(l),d=new URL(this.url+`/object/upload/sign/${u}`);d.searchParams.set("token",r);try{let h;const p=Object.assign({upsert:Cm.upsert},a),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&i instanceof Blob?(h=new FormData,h.append("cacheControl",p.cacheControl),h.append("",i)):typeof FormData<"u"&&i instanceof FormData?(h=i,h.append("cacheControl",p.cacheControl)):(h=i,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType);const v=yield _c(this.fetch,d.toString(),h,{headers:g});return{data:{path:l,fullPath:v.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(Me(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,r){return X(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const a=Object.assign({},this.headers);r?.upsert&&(a["x-upsert"]="true");const l=yield Kt(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:a}),u=new URL(this.url+l.url),d=u.searchParams.get("token");if(!d)throw new ja("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:d},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Me(i))return{data:null,error:i};throw i}})}update(e,r,i){return X(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,i)})}move(e,r,i){return X(this,void 0,void 0,function*(){try{return{data:yield Kt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Me(a))return{data:null,error:a};throw a}})}copy(e,r,i){return X(this,void 0,void 0,function*(){try{return{data:{path:(yield Kt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Me(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,i){return X(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),l=yield Kt(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const u=i?.download?`&download=${i.download===!0?"":i.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Me(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,i){return X(this,void 0,void 0,function*(){try{const a=yield Kt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),l=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:a.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${l}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Me(a))return{data:null,error:a};throw a}})}download(e,r){const a=typeof r?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(r?.transform||{}),u=l?`?${l}`:"",d=this._getFinalPath(e),h=()=>pi(this.fetch,`${this.url}/${a}/${d}${u}`,{headers:this.headers,noResolveJson:!0});return new KS(h,this.shouldThrowOnError)}info(e){return X(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const i=yield pi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:xc(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Me(i))return{data:null,error:i};throw i}})}exists(e){return X(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield HS(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Me(i)&&i instanceof wc){const a=i.originalError;if([400,404].includes(a?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,r){const i=this._getFinalPath(e),a=[],l=r?.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&a.push(l);const d=typeof r?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(r?.transform||{});h!==""&&a.push(h);let p=a.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${i}${p}`)}}}remove(e){return X(this,void 0,void 0,function*(){try{return{data:yield ad(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}list(e,r,i){return X(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},GS),r),{prefix:e||""});return{data:yield Kt(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},i),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Me(a))return{data:null,error:a};throw a}})}listV2(e,r){return X(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield Kt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Me(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const e0="2.86.0",t0={"X-Client-Info":`storage-js/${e0}`};class QS{constructor(e,r={},i,a){this.shouldThrowOnError=!1;const l=new URL(e);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},t0),r),this.fetch=od(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return X(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield pi(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}getBucket(e){return X(this,void 0,void 0,function*(){try{return{data:yield pi(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}createBucket(e){return X(this,arguments,void 0,function*(r,i={public:!1}){try{return{data:yield Kt(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Me(a))return{data:null,error:a};throw a}})}updateBucket(e,r){return X(this,void 0,void 0,function*(){try{return{data:yield _c(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Me(i))return{data:null,error:i};throw i}})}emptyBucket(e){return X(this,void 0,void 0,function*(){try{return{data:yield Kt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}deleteBucket(e){return X(this,void 0,void 0,function*(){try{return{data:yield ad(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var mi=class extends Error{constructor(n,e){super(n),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function YS(n,e,r){const i=new URL(e,n);if(r)for(const[a,l]of Object.entries(r))l!==void 0&&i.searchParams.set(a,l);return i.toString()}async function XS(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function ZS(n){const e=n.fetchImpl??globalThis.fetch;return{async request({method:r,path:i,query:a,body:l,headers:u}){const d=YS(n.baseUrl,i,a),h=await XS(n.auth),p=await e(d,{method:r,headers:{...l?{"Content-Type":"application/json"}:{},...h,...u},body:l?JSON.stringify(l):void 0}),g=await p.text(),v=(p.headers.get("content-type")||"").includes("application/json"),_=v&&g?JSON.parse(g):g;if(!p.ok){const x=v?_:void 0,S=x?.error;throw new mi(S?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:S?.type,icebergCode:S?.code,details:x})}return{status:p.status,headers:p.headers,data:_}}}}function qo(n){return n.join("")}var ek=class{constructor(n,e=""){this.client=n,this.prefix=e}async listNamespaces(n){const e=n?{parent:qo(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(n,e){const r={namespace:n.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${qo(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qo(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${qo(n.namespace)}`}),!0}catch(e){if(e instanceof mi&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(n,e){try{return await this.createNamespace(n,e)}catch(r){if(r instanceof mi&&r.status===409)return;throw r}}};function Kr(n){return n.join("")}var tk=class{constructor(n,e="",r){this.client=n,this.prefix=e,this.accessDelegation=r}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Kr(n.namespace)}/tables`})).data.identifiers}async createTable(n,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Kr(n.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(n,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Kr(n.namespace)}/tables/${n.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(n,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Kr(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(n){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Kr(n.namespace)}/tables/${n.name}`,headers:e})).data.metadata}async tableExists(n){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Kr(n.namespace)}/tables/${n.name}`,headers:e}),!0}catch(r){if(r instanceof mi&&r.status===404)return!1;throw r}}async createTableIfNotExists(n,e){try{return await this.createTable(n,e)}catch(r){if(r instanceof mi&&r.status===409)return await this.loadTable({namespace:n.namespace,name:e.name});throw r}}},nk=class{constructor(n){let e="v1";n.catalogName&&(e+=`/${n.catalogName}`);const r=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=ZS({baseUrl:r,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=n.accessDelegation?.join(","),this.namespaceOps=new ek(this.client,e),this.tableOps=new tk(this.client,e,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,e){return this.namespaceOps.createNamespace(n,e)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,e){return this.tableOps.createTable(n,e)}async updateTable(n,e){return this.tableOps.updateTable(n,e)}async dropTable(n,e){await this.tableOps.dropTable(n,e)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,e){return this.namespaceOps.createNamespaceIfNotExists(n,e)}async createTableIfNotExists(n,e){return this.tableOps.createTableIfNotExists(n,e)}};class rk{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},t0),r),this.fetch=od(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return X(this,void 0,void 0,function*(){try{return{data:yield Kt(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}listBuckets(e){return X(this,void 0,void 0,function*(){try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const i=r.toString(),a=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield pi(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}deleteBucket(e){return X(this,void 0,void 0,function*(){try{return{data:yield ad(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Me(r))return{data:null,error:r};throw r}})}from(e){if(!US(e))throw new ja("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new nk({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>X(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const ld={"X-Client-Info":`storage-js/${e0}`,"Content-Type":"application/json"};class n0 extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Et(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}class Hu extends n0{constructor(e,r,i){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class sk extends n0{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var Om;(function(n){n.InternalError="InternalError",n.S3VectorConflictException="S3VectorConflictException",n.S3VectorNotFoundException="S3VectorNotFoundException",n.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",n.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",n.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Om||(Om={}));const ud=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),ik=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Am=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),ok=(n,e,r)=>X(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!r?.noResolveJson){const a=n.status||500,l=n;if(typeof l.json=="function")l.json().then(u=>{const d=u?.statusCode||u?.code||a+"";e(new Hu(Am(u),a,d))}).catch(()=>{const u=a+"",d=l.statusText||`HTTP ${a} error`;e(new Hu(d,a,u))});else{const u=a+"",d=l.statusText||`HTTP ${a} error`;e(new Hu(d,a,u))}}else e(new sk(Am(n),n))}),ak=(n,e,r,i)=>{const a={method:n,headers:e?.headers||{}};return i?(ik(i)?(a.headers=Object.assign({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(i)):a.body=i,Object.assign(Object.assign({},a),r)):a};function lk(n,e,r,i,a,l){return X(this,void 0,void 0,function*(){return new Promise((u,d)=>{n(r,ak(e,i,a,l)).then(h=>{if(!h.ok)throw h;if(i?.noResolveJson)return h;const p=h.headers.get("content-type");return!p||!p.includes("application/json")?{}:h.json()}).then(h=>u(h)).catch(h=>ok(h,d,i))})})}function jt(n,e,r,i,a){return X(this,void 0,void 0,function*(){return lk(n,"POST",e,i,a,r)})}class uk{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ld),r),this.fetch=ud(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return X(this,void 0,void 0,function*(){try{return{data:(yield jt(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}})}getIndex(e,r){return X(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Et(i))return{data:null,error:i};throw i}})}listIndexes(e){return X(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return X(this,void 0,void 0,function*(){try{return{data:(yield jt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Et(i))return{data:null,error:i};throw i}})}}class ck{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ld),r),this.fetch=ud(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return X(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield jt(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}})}getVectors(e){return X(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}})}listVectors(e){return X(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield jt(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}})}queryVectors(e){return X(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}})}deleteVectors(e){return X(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield jt(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}})}}class dk{constructor(e,r={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ld),r),this.fetch=ud(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return X(this,void 0,void 0,function*(){try{return{data:(yield jt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}})}getBucket(e){return X(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}})}listBuckets(){return X(this,arguments,void 0,function*(e={}){try{return{data:yield jt(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}})}deleteBucket(e){return X(this,void 0,void 0,function*(){try{return{data:(yield jt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Et(r))return{data:null,error:r};throw r}})}}class hk extends dk{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new fk(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return X(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return X(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return X(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return X(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class fk extends uk{constructor(e,r,i,a){super(e,r,a),this.vectorBucketName=i}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return X(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return X(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return X(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return X(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new pk(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class pk extends ck{constructor(e,r,i,a,l){super(e,r,l),this.vectorBucketName=i,this.indexName=a}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return X(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return X(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return X(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return X(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return X(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class mk extends QS{constructor(e,r={},i,a){super(e,r,i,a)}from(e){return new JS(this.url,this.headers,e,this.fetch)}get vectors(){return new hk(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new rk(this.url+"/iceberg",this.headers,this.fetch)}}const gk="2.86.0";let ri="";typeof Deno<"u"?ri="deno":typeof document<"u"?ri="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ri="react-native":ri="node";const yk={"X-Client-Info":`supabase-js-${ri}/${gk}`},vk={headers:yk},wk={schema:"public"},xk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_k={},bk=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),Sk=()=>Headers,kk=(n,e,r)=>{const i=bk(r),a=Sk();return async(l,u)=>{var d;const h=(d=await e())!==null&&d!==void 0?d:n;let p=new a(u?.headers);return p.has("apikey")||p.set("apikey",n),p.has("Authorization")||p.set("Authorization",`Bearer ${h}`),i(l,Object.assign(Object.assign({},u),{headers:p}))}};function Ek(n){return n.endsWith("/")?n:n+"/"}function jk(n,e){var r,i;const{db:a,auth:l,realtime:u,global:d}=n,{db:h,auth:p,realtime:g,global:v}=e,_={db:Object.assign(Object.assign({},h),a),auth:Object.assign(Object.assign({},p),l),realtime:Object.assign(Object.assign({},g),u),storage:{},global:Object.assign(Object.assign(Object.assign({},v),d),{headers:Object.assign(Object.assign({},(r=v?.headers)!==null&&r!==void 0?r:{}),(i=d?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return n.accessToken?_.accessToken=n.accessToken:delete _.accessToken,_}function Tk(n){const e=n?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ek(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const r0="2.86.0",Zr=30*1e3,bc=3,qu=bc*Zr,Pk="http://localhost:9999",Ck="supabase.auth.token",Ok={"X-Client-Info":`gotrue-js/${r0}`},Sc="X-Supabase-Api-Version",s0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ak=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Rk=600*1e3;class gi extends Error{constructor(e,r,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function ie(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class Nk extends gi{constructor(e,r,i){super(e,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function Ik(n){return ie(n)&&n.name==="AuthApiError"}class mr extends gi{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Hn extends gi{constructor(e,r,i,a){super(e,i,a),this.name=r,this.status=i}}class kt extends Hn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Dk(n){return ie(n)&&n.name==="AuthSessionMissingError"}class Gr extends Hn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ko extends Hn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Go extends Hn{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Mk(n){return ie(n)&&n.name==="AuthImplicitGrantRedirectError"}class Rm extends Hn{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kc extends Hn{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Ku(n){return ie(n)&&n.name==="AuthRetryableFetchError"}class Nm extends Hn{constructor(e,r,i){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class Ec extends Hn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ua="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Im=` 	
\r=`.split(""),zk=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<Im.length;e+=1)n[Im[e].charCodeAt(0)]=-2;for(let e=0;e<ua.length;e+=1)n[ua[e].charCodeAt(0)]=e;return n})();function Dm(n,e,r){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(ua[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(ua[i]),e.queuedBits-=6}}function i0(n,e,r){const i=zk[n];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Mm(n){const e=[],r=u=>{e.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=u=>{$k(u,i,r)};for(let u=0;u<n.length;u+=1)i0(n.charCodeAt(u),a,l);return e.join("")}function Lk(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function Vk(n,e){for(let r=0;r<n.length;r+=1){let i=n.charCodeAt(r);if(i>55295&&i<=56319){const a=(i-55296)*1024&65535;i=(n.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}Lk(i,e)}}function $k(n,e,r){if(e.utf8seq===0){if(n<=127){r(n);return}for(let i=1;i<6;i+=1)if((n>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function is(n){const e=[],r={queue:0,queuedBits:0},i=a=>{e.push(a)};for(let a=0;a<n.length;a+=1)i0(n.charCodeAt(a),r,i);return new Uint8Array(e)}function Bk(n){const e=[];return Vk(n,r=>e.push(r)),new Uint8Array(e)}function yr(n){const e=[],r={queue:0,queuedBits:0},i=a=>{e.push(a)};return n.forEach(a=>Dm(a,r,i)),Dm(null,r,i),e.join("")}function Uk(n){return Math.round(Date.now()/1e3)+n}function Fk(){return Symbol("auth-callback")}const nt=()=>typeof window<"u"&&typeof document<"u",or={tested:!1,writable:!1},o0=()=>{if(!nt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(or.tested)return or.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),or.tested=!0,or.writable=!0}catch{or.tested=!0,or.writable=!1}return or.writable};function Wk(n){const e={},r=new URL(n);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return r.searchParams.forEach((i,a)=>{e[a]=i}),e}const a0=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),Hk=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",es=async(n,e,r)=>{await n.setItem(e,JSON.stringify(r))},ar=async(n,e)=>{const r=await n.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Mn=async(n,e)=>{await n.removeItem(e)};class Ta{constructor(){this.promise=new Ta.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Ta.promiseConstructor=Promise;function Gu(n){const e=n.split(".");if(e.length!==3)throw new Ec("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!Ak.test(e[i]))throw new Ec("JWT not in base64url format");return{header:JSON.parse(Mm(e[0])),payload:JSON.parse(Mm(e[1])),signature:is(e[2]),raw:{header:e[0],payload:e[1]}}}async function qk(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function Kk(n,e){return new Promise((i,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await n(l);if(!e(l,null,u)){i(u);return}}catch(u){if(!e(l,u)){a(u);return}}})()})}function Gk(n){return("0"+n.toString(16)).substr(-2)}function Jk(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let a="";for(let l=0;l<56;l++)a+=r.charAt(Math.floor(Math.random()*i));return a}return crypto.getRandomValues(e),Array.from(e,Gk).join("")}async function Qk(n){const r=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(i);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function Yk(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const r=await Qk(n);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Jr(n,e,r=!1){const i=Jk();let a=i;r&&(a+="/PASSWORD_RECOVERY"),await es(n,`${e}-code-verifier`,a);const l=await Yk(i);return[l,i===l?"plain":"s256"]}const Xk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Zk(n){const e=n.headers.get(Sc);if(!e||!e.match(Xk))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function e2(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function t2(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const n2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qr(n){if(!n2.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ju(){const n={};return new Proxy(n,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function r2(n,e){return new Proxy(n,{get:(r,i,a)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,i,a)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,i,a)}})}function zm(n){return JSON.parse(JSON.stringify(n))}const hr=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),s2=[502,503,504];async function Lm(n){var e;if(!Hk(n))throw new kc(hr(n),0);if(s2.includes(n.status))throw new kc(hr(n),n.status);let r;try{r=await n.json()}catch(l){throw new mr(hr(l),l)}let i;const a=Zk(n);if(a&&a.getTime()>=s0["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new Nm(hr(r),n.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new kt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new Nm(hr(r),n.status,r.weak_password.reasons);throw new Nk(hr(r),n.status||500,i)}const i2=(n,e,r,i)=>{const a={method:n,headers:e?.headers||{}};return n==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),a.body=JSON.stringify(i),Object.assign(Object.assign({},a),r))};async function ue(n,e,r,i){var a;const l=Object.assign({},i?.headers);l[Sc]||(l[Sc]=s0["2024-01-01"].name),i?.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const u=(a=i?.query)!==null&&a!==void 0?a:{};i?.redirectTo&&(u.redirect_to=i.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await o2(n,e,r+d,{headers:l,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(h):{data:Object.assign({},h),error:null}}async function o2(n,e,r,i,a,l){const u=i2(e,i,a,l);let d;try{d=await n(r,Object.assign({},u))}catch(h){throw console.error(h),new kc(hr(h),0)}if(d.ok||await Lm(d),i?.noResolveJson)return d;try{return await d.json()}catch(h){await Lm(h)}}function qt(n){var e;let r=null;u2(n)&&(r=Object.assign({},n),n.expires_at||(r.expires_at=Uk(n.expires_in)));const i=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:r,user:i},error:null}}function Vm(n){const e=qt(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Vn(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function a2(n){return{data:n,error:null}}function l2(n){const{action_link:e,email_otp:r,hashed_token:i,redirect_to:a,verification_type:l}=n,u=us(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:r,hashed_token:i,redirect_to:a,verification_type:l},h=Object.assign({},u);return{data:{properties:d,user:h},error:null}}function $m(n){return n}function u2(n){return n.access_token&&n.refresh_token&&n.expires_in}const Qu=["global","local","others"];class c2{constructor({url:e="",headers:r={},fetch:i}){this.url=e,this.headers=r,this.fetch=a0(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Qu[0]){if(Qu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Qu.join(", ")}`);try{return await ue(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ie(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,r={}){try{return await ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Vn})}catch(i){if(ie(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:r}=e,i=us(e,["options"]),a=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(a.new_email=i?.newEmail,delete a.newEmail),await ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:l2,redirectTo:r?.redirectTo})}catch(r){if(ie(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ue(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Vn})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,i,a,l,u,d,h;try{const p={nextPage:null,lastPage:0,total:0},g=await ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(l=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:$m});if(g.error)throw g.error;const v=await g.json(),_=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,x=(h=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return x.length>0&&(x.forEach(S=>{const k=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(S.split(";")[1].split("=")[1]);p[`${j}Page`]=k}),p.total=parseInt(_)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(ie(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){Qr(e);try{return await ue(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Vn})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Qr(e);try{return await ue(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Vn})}catch(i){if(ie(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,r=!1){Qr(e);try{return await ue(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Vn})}catch(i){if(ie(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Qr(e.userId);try{const{data:r,error:i}=await ue(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:i}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Qr(e.userId),Qr(e.id);try{return{data:await ue(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,i,a,l,u,d,h;try{const p={nextPage:null,lastPage:0,total:0},g=await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(l=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:$m});if(g.error)throw g.error;const v=await g.json(),_=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,x=(h=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return x.length>0&&(x.forEach(S=>{const k=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(S.split(";")[1].split("=")[1]);p[`${j}Page`]=k}),p.total=parseInt(_)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(ie(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await ue(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ie(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await ue(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}}function Bm(n={}){return{getItem:e=>n[e]||null,setItem:(e,r)=>{n[e]=r},removeItem:e=>{delete n[e]}}}const Yr={debug:!!(globalThis&&o0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class l0 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class d2 extends l0{}async function h2(n,e,r){Yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Yr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async a=>{if(a){Yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,a.name);try{return await r()}finally{Yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,a.name)}}else{if(e===0)throw Yr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new d2(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Yr.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function f2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function u0(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function p2(n){return parseInt(n,16)}function m2(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function g2(n){var e;const{chainId:r,domain:i,expirationTime:a,issuedAt:l=new Date,nonce:u,notBefore:d,requestId:h,resources:p,scheme:g,uri:v,version:_}=n;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const x=u0(n.address),S=g?`${g}://${i}`:i,k=n.statement?`${n.statement}
`:"",j=`${S} wants you to sign in with your Ethereum account:
${x}

${k}`;let I=`URI: ${v}
Version: ${_}
Chain ID: ${r}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(a&&(I+=`
Expiration Time: ${a.toISOString()}`),d&&(I+=`
Not Before: ${d.toISOString()}`),h&&(I+=`
Request ID: ${h}`),p){let A=`
Resources:`;for(const C of p){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);A+=`
- ${C}`}I+=A}return`${j}
${I}`}class He extends Error{constructor({message:e,code:r,cause:i,name:a}){var l;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(l=a??(i instanceof Error?i.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class ca extends He{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function y2({error:n,options:e}){var r,i,a;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new He({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new He({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new He({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new He({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new He({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new He({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new He({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new He({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const u=window.location.hostname;if(c0(u)){if(l.rp.id!==u)return new He({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new He({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new He({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new He({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new He({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function v2({error:n,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new He({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new He({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const i=window.location.hostname;if(c0(i)){if(r.rpId!==i)return new He({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new He({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new He({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new He({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class w2{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const x2=new w2;function _2(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:r,excludeCredentials:i}=n,a=us(n,["challenge","user","excludeCredentials"]),l=is(e).buffer,u=Object.assign(Object.assign({},r),{id:is(r.id).buffer}),d=Object.assign(Object.assign({},a),{challenge:l,user:u});if(i&&i.length>0){d.excludeCredentials=new Array(i.length);for(let h=0;h<i.length;h++){const p=i[h];d.excludeCredentials[h]=Object.assign(Object.assign({},p),{id:is(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return d}function b2(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:r}=n,i=us(n,["challenge","allowCredentials"]),a=is(e).buffer,l=Object.assign(Object.assign({},i),{challenge:a});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const d=r[u];l.allowCredentials[u]=Object.assign(Object.assign({},d),{id:is(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function S2(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const r=n;return{id:n.id,rawId:n.id,response:{attestationObject:yr(new Uint8Array(n.response.attestationObject)),clientDataJSON:yr(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function k2(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const r=n,i=n.getClientExtensionResults(),a=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:yr(new Uint8Array(a.authenticatorData)),clientDataJSON:yr(new Uint8Array(a.clientDataJSON)),signature:yr(new Uint8Array(a.signature)),userHandle:a.userHandle?yr(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function c0(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function Um(){var n,e;return!!(nt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function E2(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ca("Browser returned unexpected credential type",e)}:{data:null,error:new ca("Empty credential response",e)}}catch(e){return{data:null,error:y2({error:e,options:n})}}}async function j2(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ca("Browser returned unexpected credential type",e)}:{data:null,error:new ca("Empty credential response",e)}}catch(e){return{data:null,error:v2({error:e,options:n})}}}const T2={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},P2={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function da(...n){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),i={};for(const a of n)if(a)for(const l in a){const u=a[l];if(u!==void 0)if(Array.isArray(u))i[l]=u;else if(r(u))i[l]=u;else if(e(u)){const d=i[l];e(d)?i[l]=da(d,u):i[l]=da(u)}else i[l]=u}return i}function C2(n,e){return da(T2,n,e||{})}function O2(n,e){return da(P2,n,e||{})}class A2{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:i,signal:a},l){try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!u)return{data:null,error:d};const h=a??x2.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${i}`),p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=C2(u.webauthn.credential_options.publicKey,l?.create),{data:g,error:v}=await E2({publicKey:p,signal:h});return g?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}case"request":{const p=O2(u.webauthn.credential_options.publicKey,l?.request),{data:g,error:v}=await j2(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:h}));return g?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}}}catch(u){return ie(u)?{data:null,error:u}:{data:null,error:new mr("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:r,webauthn:i}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!r)return{data:null,error:new gi("rpId is required for WebAuthn authentication")};try{if(!Um())return{data:null,error:new mr("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:i},signal:a},{request:l});if(!u)return{data:null,error:d};const{webauthn:h}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:h.type,rpId:r,rpOrigins:i,credential_response:h.credential_response}})}catch(u){return ie(u)?{data:null,error:u}:{data:null,error:new mr("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!r)return{data:null,error:new gi("rpId is required for WebAuthn registration")};try{if(!Um())return{data:null,error:new mr("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(g=>{var v;return(v=g.data)===null||v===void 0?void 0:v.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===e&&_.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:d};const{data:h,error:p}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:r,rpOrigins:i},signal:a},{create:l});return h?this._verify({factorId:u.id,challengeId:h.challengeId,webauthn:{rpId:r,rpOrigins:i,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:p}}catch(u){return ie(u)?{data:null,error:u}:{data:null,error:new mr("Unexpected error in register",u)}}}}f2();const R2={url:Pk,storageKey:Ck,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ok,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Fm(n,e,r){return await r()}const Xr={};class yi{get jwks(){var e,r;return(r=(e=Xr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Xr[this.storageKey]=Object.assign(Object.assign({},Xr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Xr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Xr[this.storageKey]=Object.assign(Object.assign({},Xr[this.storageKey]),{cachedAt:e})}constructor(e){var r,i,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},R2),e);if(this.storageKey=l.storageKey,this.instanceID=(r=yi.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,yi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&nt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new c2({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=a0(l.fetch),this.lock=l.lock||Fm,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:nt()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=h2:this.lock=Fm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new A2(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:o0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Bm(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Bm(this.memoryStorage)),nt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${r0}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},i="none";if(nt()&&(r=Wk(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce")),nt()&&this.detectSessionInUrl&&i!=="none"){const{data:a,error:l}=await this._getSessionFromURL(r,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),Mk(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:d}=a;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ie(r)?this._returnResult({error:r}):this._returnResult({error:new mr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,i,a;try{const l=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(a=e?.options)===null||a===void 0?void 0:a.captchaToken}},xform:qt}),{data:u,error:d}=l;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const h=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(l){if(ie(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var r,i,a;try{let l;if("email"in e){const{email:g,password:v,options:_}=e;let x=null,S=null;this.flowType==="pkce"&&([x,S]=await Jr(this.storage,this.storageKey)),l=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:g,password:v,data:(r=_?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:x,code_challenge_method:S},xform:qt})}else if("phone"in e){const{phone:g,password:v,options:_}=e;l=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:v,data:(i=_?.data)!==null&&i!==void 0?i:{},channel:(a=_?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:qt})}else throw new Ko("You must provide either an email or phone number and a password");const{data:u,error:d}=l;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const h=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(l){if(ie(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let r;if("email"in e){const{email:l,password:u,options:d}=e;r=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Vm})}else if("phone"in e){const{phone:l,password:u,options:d}=e;r=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Vm})}else throw new Ko("You must provide either an email or phone number and a password");const{data:i,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!i||!i.session||!i.user){const l=new Gr;return this._returnResult({data:{user:null,session:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:a})}catch(r){if(ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,i,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,i,a,l,u,d,h,p,g,v,_;let x,S;if("message"in e)x=e.message,S=e.signature;else{const{chain:k,wallet:j,statement:I,options:A}=e;let C;if(nt())if(typeof j=="object")C=j;else{const ee=window;if("ethereum"in ee&&typeof ee.ethereum=="object"&&"request"in ee.ethereum&&typeof ee.ethereum.request=="function")C=ee.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=j}const z=new URL((r=A?.url)!==null&&r!==void 0?r:window.location.href),D=await C.request({method:"eth_requestAccounts"}).then(ee=>ee).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=u0(D[0]);let $=(i=A?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!$){const ee=await C.request({method:"eth_chainId"});$=p2(ee)}const W={domain:z.host,address:M,statement:I,uri:z.href,version:"1",chainId:$,nonce:(a=A?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(u=(l=A?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(d=A?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=A?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(p=A?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(g=A?.signInWithEthereum)===null||g===void 0?void 0:g.resources};x=g2(W),S=await C.request({method:"personal_sign",params:[m2(x),M]})}try{const{data:k,error:j}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:S},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:qt});if(j)throw j;if(!k||!k.session||!k.user){const I=new Gr;return this._returnResult({data:{user:null,session:null},error:I})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:j})}catch(k){if(ie(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(e){var r,i,a,l,u,d,h,p,g,v,_,x;let S,k;if("message"in e)S=e.message,k=e.signature;else{const{chain:j,wallet:I,statement:A,options:C}=e;let z;if(nt())if(typeof I=="object")z=I;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))z=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof I!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=I}const D=new URL((r=C?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in z&&z.signIn){const M=await z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),A?{statement:A}:null));let $;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")$=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)$=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)S=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),k=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in z)||typeof z.signMessage!="function"||!("publicKey"in z)||typeof z!="object"||!z.publicKey||!("toBase58"in z.publicKey)||typeof z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${D.host} wants you to sign in with your Solana account:`,z.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(a=(i=C?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=C?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((u=C?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((d=C?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((h=C?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((p=C?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((v=(g=C?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||v===void 0)&&v.length?["Resources",...C.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const M=await z.signMessage(new TextEncoder().encode(S),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=M}}try{const{data:j,error:I}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:yr(k)},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:qt});if(I)throw I;if(!j||!j.session||!j.user){const A=new Gr;return this._returnResult({data:{user:null,session:null},error:A})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:I})}catch(j){if(ie(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(e){const r=await ar(this.storage,`${this.storageKey}-code-verifier`),[i,a]=(r??"").split("/");try{const{data:l,error:u}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:qt});if(await Mn(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const d=new Gr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:u})}catch(l){if(ie(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:r,provider:i,token:a,access_token:l,nonce:u}=e,d=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:a,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:qt}),{data:h,error:p}=d;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!h||!h.session||!h.user){const g=new Gr;return this._returnResult({data:{user:null,session:null},error:g})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:p})}catch(r){if(ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,i,a,l,u;try{if("email"in e){const{email:d,options:h}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Jr(this.storage,this.storageKey));const{error:v}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=h?.data)!==null&&r!==void 0?r:{},create_user:(i=h?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in e){const{phone:d,options:h}=e,{data:p,error:g}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(a=h?.data)!==null&&a!==void 0?a:{},create_user:(l=h?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(u=h?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:g})}throw new Ko("You must provide either an email or phone number.")}catch(d){if(ie(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var r,i;try{let a,l;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,l=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:d}=await ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:qt});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,p=u.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(a){if(ie(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var r,i,a,l,u;try{let d=null,h=null;this.flowType==="pkce"&&([d,h]=await Jr(this.storage,this.storageKey));const p=await ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((a=e?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:a2});return!((l=p.data)===null||l===void 0)&&l.url&&nt()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(d){if(ie(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new kt;const{error:a}=await ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(ie(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:i,type:a,options:l}=e,{error:u}=await ue(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:i,type:a,options:l}=e,{data:u,error:d}=await ue(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:a,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new Ko("You must provide either an email or phone number and a type")}catch(r){if(ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ar(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<qu:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const u=await ar(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=Ju()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=r2(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Vn}):await this._useSession(async r=>{var i,a,l;const{data:u,error:d}=r;if(d)throw d;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new kt}:await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:Vn})})}catch(r){if(ie(r))return Dk(r)&&(await this._removeSession(),await Mn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async i=>{const{data:a,error:l}=i;if(l)throw l;if(!a.session)throw new kt;const u=a.session;let d=null,h=null;this.flowType==="pkce"&&e.email!=null&&([d,h]=await Jr(this.storage,this.storageKey));const{data:p,error:g}=await ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:h}),jwt:u.access_token,xform:Vn});if(g)throw g;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(i){if(ie(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new kt;const r=Date.now()/1e3;let i=r,a=!0,l=null;const{payload:u}=Gu(e.access_token);if(u.exp&&(i=u.exp,a=i<=r),a){const{data:d,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(r){if(ie(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var i;if(!e){const{data:u,error:d}=r;if(d)throw d;e=(i=u.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new kt;const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!nt())throw new Go("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Go(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Rm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Go("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Rm("No code detected.");const{data:A,error:C}=await this._exchangeCodeForSession(e.code);if(C)throw C;const z=new URL(window.location.href);return z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",z.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:a,access_token:l,refresh_token:u,expires_in:d,expires_at:h,token_type:p}=e;if(!l||!d||!u||!p)throw new Go("No session defined in URL");const g=Math.round(Date.now()/1e3),v=parseInt(d);let _=g+v;h&&(_=parseInt(h));const x=_-g;x*1e3<=Zr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${v}s`);const S=_-v;g-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,_,g):g-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,_,g);const{data:k,error:j}=await this._getUser(l);if(j)throw j;const I={provider_token:i,provider_refresh_token:a,access_token:l,expires_in:v,expires_at:_,refresh_token:u,token_type:p,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:I,redirectType:e.type},error:null})}catch(i){if(ie(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ar(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:a,error:l}=r;if(l)return this._returnResult({error:l});const u=(i=a.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:d}=await this.admin.signOut(u,e);if(d&&!(Ik(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await Mn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=Fk(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async r=>{var i,a;try{const{data:{session:l},error:u}=r;if(u)throw u;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,r={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=await Jr(this.storage,this.storageKey,!0));try{return await ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:i,error:a}=await this._useSession(async l=>{var u,d,h,p,g;const{data:v,error:_}=l;if(_)throw _;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await ue(this.fetch,"GET",x,{headers:this.headers,jwt:(g=(p=v.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(a)throw a;return nt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:e.provider,url:i?.url},error:null})}catch(i){if(ie(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var i;try{const{error:a,data:{session:l}}=r;if(a)throw a;const{options:u,provider:d,token:h,access_token:p,nonce:g}=e,v=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=l?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:d,id_token:h,access_token:p,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:qt}),{data:_,error:x}=v;return x?this._returnResult({data:{user:null,session:null},error:x}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new Gr}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:x}))}catch(a){if(ie(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var i,a;const{data:l,error:u}=r;if(u)throw u;return await ue(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await Kk(async a=>(a>0&&await qk(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:qt})),(a,l)=>{const u=200*Math.pow(2,a);return l&&Ku(l)&&Date.now()+u-i<Zr})}catch(i){if(this._debug(r,"error",i),ie(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),nt()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const a=await ar(this.storage,this.storageKey);if(a&&this.userStorage){let u=await ar(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:a.user},await es(this.userStorage,this.storageKey+"-user",u)),a.user=(e=u?.user)!==null&&e!==void 0?e:Ju()}else if(a&&!a.user&&!a.user){const u=await ar(this.storage,this.storageKey+"-user");u&&u?.user?(a.user=u.user,await Mn(this.storage,this.storageKey+"-user"),await es(this.storage,this.storageKey,a)):a.user=Ju()}if(this._debug(i,"session from storage",a),!this._isValidSession(a)){this._debug(i,"session is not valid"),a!==null&&await this._removeSession();return}const l=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<qu;if(this._debug(i,`session has${l?"":" not"} expired with margin of ${qu}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:u}=await this._callRefreshToken(a.refresh_token);u&&(console.error(u),Ku(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(a.access_token);!d&&u?.user?(a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(i,"error",a),console.error(a);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var r,i;if(!e)throw new kt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ta;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new kt;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(a,"error",l),ie(l)){const u={data:null,error:l};return Ku(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,i=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,r)}catch(h){l.push(h)}});if(await Promise.all(u),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await es(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const l=zm(a);await es(this.storage,this.storageKey,l)}else{const a=zm(r);await es(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Mn(this.storage,this.storageKey),await Mn(this.storage,this.storageKey+"-code-verifier"),await Mn(this.storage,this.storageKey+"-user"),this.userStorage&&await Mn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&nt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Zr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((i.expires_at*1e3-e)/Zr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Zr}ms, refresh threshold is ${bc} ticks`),a<=bc&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof l0)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!nt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,i){const a=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&a.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,u]=await Jr(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});a.push(d.toString())}if(i?.queryParams){const l=new URLSearchParams(i.queryParams);a.push(l.toString())}return i?.skipBrowserRedirect&&a.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var i;const{data:a,error:l}=r;return l?this._returnResult({data:null,error:l}):await ue(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var i,a;const{data:l,error:u}=r;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:p}=await ue(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&h.type==="totp"&&(!((a=h?.totp)===null||a===void 0)&&a.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:a,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?S2(e.webauthn.credential_response):k2(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:h}=await ue(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:h}))})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:a,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=await ue(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});if(u.error)return u;const{data:d}=u;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:_2(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:b2(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const a={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=r?.factors)!==null&&e!==void 0?e:[])a.all.push(l),l.status==="verified"&&a[l.factor_type].push(l);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:i},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Gu(i.access_token);let u=null;l.aal&&(u=l.aal);let d=u;((r=(e=i.user.factors)===null||e===void 0?void 0:e.filter(g=>g.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const p=l.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;return a?this._returnResult({data:null,error:a}):i?await ue(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new kt})})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async i=>{const{data:{session:a},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new kt});const u=await ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&nt()&&!r?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(i){if(ie(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,r){try{return await this._useSession(async i=>{const{data:{session:a},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new kt});const u=await ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&nt()&&!r?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(i){if(ie(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:i}=e;return i?this._returnResult({data:null,error:i}):r?await ue(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new kt})})}catch(e){if(ie(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;return a?this._returnResult({data:null,error:a}):i?(await ue(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new kt})})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let i=r.keys.find(d=>d.kid===e);if(i)return i;const a=Date.now();if(i=this.jwks.keys.find(d=>d.kid===e),i&&this.jwks_cached_at+Rk>a)return i;const{data:l,error:u}=await ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,i=l.keys.find(d=>d.kid===e),!i)?null:i}async getClaims(e,r={}){try{let i=e;if(!i){const{data:x,error:S}=await this.getSession();if(S||!x.session)return this._returnResult({data:null,error:S});i=x.session.access_token}const{header:a,payload:l,signature:u,raw:{header:d,payload:h}}=Gu(i);r?.allowExpired||e2(l.exp);const p=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!p){const{error:x}=await this.getUser(i);if(x)throw x;return{data:{claims:l,header:a,signature:u},error:null}}const g=t2(a.alg),v=await crypto.subtle.importKey("jwk",p,g,!0,["verify"]);if(!await crypto.subtle.verify(g,v,u,Bk(`${d}.${h}`)))throw new Ec("Invalid JWT signature");return{data:{claims:l,header:a,signature:u},error:null}}catch(i){if(ie(i))return this._returnResult({data:null,error:i});throw i}}}yi.nextInstanceID={};const N2=yi;class I2 extends N2{constructor(e){super(e)}}class D2{constructor(e,r,i){var a,l,u;this.supabaseUrl=e,this.supabaseKey=r;const d=Tk(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,p={db:wk,realtime:_k,auth:Object.assign(Object.assign({},xk),{storageKey:h}),global:vk},g=jk(i??{},p);this.storageKey=(a=g.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=g.global.headers)!==null&&l!==void 0?l:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(v,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=g.auth)!==null&&u!==void 0?u:{},this.headers,g.global.fetch),this.fetch=kk(r,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&this.accessToken().then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new _S(new URL("rest/v1",d).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new mk(this.storageUrl.href,this.headers,this.fetch,i?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new yS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,i)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(r=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:i,storage:a,userStorage:l,storageKey:u,flowType:d,lock:h,debug:p,throwOnError:g},v,_){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new I2({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),v),storageKey:u,autoRefreshToken:e,persistSession:r,detectSessionInUrl:i,storage:a,userStorage:l,flowType:d,lock:h,debug:p,throwOnError:g,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new LS(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,i)=>{this._handleTokenChanged(r,"CLIENT",i?.access_token)})}_handleTokenChanged(e,r,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const M2=(n,e,r)=>new D2(n,e,r);function z2(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}z2()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const L2="https://itvwrrsaigfejbooewjb.supabase.co",V2="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";let zt=null;zt=M2(L2,V2);const ci={signInWithGoogle:async()=>{if(zt){const{data:n,error:e}=await zt.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});if(e)throw e;return n}else{await new Promise(e=>setTimeout(e,1e3));const n={id:"user-mock",email:"demo@ejemplo.com",user_metadata:{full_name:"Usuario Demo",avatar_url:"https://api.dicebear.com/7.x/avataaars/svg?seed=Felix"}};return localStorage.setItem("notion_mock_user",JSON.stringify(n)),{user:n}}},signInWithPassword:async(n,e)=>{if(zt){const{data:r,error:i}=await zt.auth.signInWithPassword({email:n,password:e});if(i)throw i;return r}else{if(await new Promise(r=>setTimeout(r,800)),n==="demo@ejemplo.com"&&e==="demo"){const r={id:"user-mock",email:"demo@ejemplo.com",user_metadata:{full_name:"Usuario Demo"}};return localStorage.setItem("notion_mock_user",JSON.stringify(r)),{user:r}}throw new Error("Credenciales invlidas (Mock: usa demo@ejemplo.com / demo)")}},signUp:async(n,e)=>{if(zt){const{data:r,error:i}=await zt.auth.signUp({email:n,password:e});if(i)throw i;return r}else throw new Error("El registro requiere conexin real a Supabase.")},logout:async()=>(zt?await zt.auth.signOut():localStorage.removeItem("notion_mock_user"),!0)},vi={STORAGE_KEYS:["notion_v82_ws","notion_v82_profile","notion_v82_themes","notion_v82_fonts","notion_v82_active_id","notion_v82_active_theme"],saveBackup:n=>{if(!n)return;const e={};vi.STORAGE_KEYS.forEach(i=>{const a=localStorage.getItem(i);a&&(e[i]=JSON.parse(a))});const r=`notion_backup_${n}`;localStorage.setItem(r,JSON.stringify(e)),console.log(`[Backup] Saved data for ${n} to ${r}`)},restoreBackup:n=>{if(!n)return!1;const e=`notion_backup_${n}`,r=localStorage.getItem(e);if(r){const i=JSON.parse(r);return Object.keys(i).forEach(a=>{localStorage.setItem(a,JSON.stringify(i[a]))}),console.log(`[Backup] Restored data for ${n}`),!0}return!1},clearLocalData:()=>{vi.STORAGE_KEYS.forEach(n=>localStorage.removeItem(n)),console.log("[Backup] Local data cleared")}},De={generateId:()=>Math.random().toString(36).substr(2,9),getRandomColor:()=>["from-indigo-500 to-purple-500","from-pink-500 to-rose-500","from-emerald-500 to-teal-500","from-blue-500 to-cyan-500","from-orange-500 to-amber-500"][Math.floor(Math.random()*5)],delay:n=>new Promise(e=>setTimeout(e,n))},$2=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],B2=[{id:"red",name:"Rojo",color:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},{id:"orange",name:"Naranja",color:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"},{id:"blue",name:"Azul",color:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"},{id:"beige",name:"Beige",color:"linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)"},{id:"teal",name:"Verde azulado",color:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)"},{id:"pink",name:"Rosa",color:"linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%)"},{id:"orange-red",name:"Naranja rojizo",color:"linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)"},{id:"purple",name:"Morado",color:"linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%)"}],U2=["https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800","https://images.unsplash.com/photo-1497493292307-31c376b6e479?w=800","https://images.unsplash.com/photo-1451187580459-43490279c0fa?w=800","https://images.unsplash.com/photo-1419242902214-272b3f66ee7a?w=800"],d0={id:"default",name:"Original",author:"System",colors:{bg:"#ffffff",text:"#37352f",sidebar:"#F7F7F5"}},Jo={workspaces:[{id:"ws-demo",name:"Fixius Workspace",initial:"F",color:"from-indigo-500 to-purple-500",email:"user@example.com",pages:[]}],profile:{name:"Usuario Fixius",email:"usuario@ejemplo.com",bio:"Productivity enthusiast.",avatar:null},themes:[d0],fonts:[]},lr=(n,e)=>{const[r,i]=L.useState(()=>{try{return JSON.parse(window.localStorage.getItem(n))||e}catch{return e}}),a=L.useCallback(l=>{i(u=>{const d=l instanceof Function?l(u):l;return window.localStorage.setItem(n,JSON.stringify(d)),d})},[n]);return[r,a]},F2=()=>{const[n,e]=lr("notion_v82_ws",Jo.workspaces),[r,i]=lr("notion_v82_profile",Jo.profile),[a,l]=lr("notion_v82_themes",Jo.themes),[u,d]=lr("notion_v82_fonts",Jo.fonts),[h,p]=lr("notion_v82_active_id","ws-demo"),[g,v]=L.useState(null),[_,x]=lr("notion_v82_active_theme","default"),[S,k]=lr("notion_v82_active_font","sans"),j=L.useMemo(()=>{const D=n.find(M=>M.id===h);return D||(n.length>0?(p(n[0].id),n[0]):null)},[n,h]),I=L.useMemo(()=>j?.pages.find(D=>D.id===g),[j,g]),A=L.useMemo(()=>a.find(D=>D.id===_)||d0,[a,_]),C=L.useMemo(()=>u.find(D=>D.id===S)||{id:"sans",name:"Sans Serif",value:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif'},[u,S]);L.useEffect(()=>{window.appState={workspaces:n,userProfile:r,themes:a,fonts:u,activeWorkspaceId:h,activePageId:g,activeThemeId:_}},[n,r,a,u,h,g,_]),L.useEffect(()=>{const D=document.getElementById("theme-stylesheet");if(A&&A.type==="css"&&A.url)if(D)D.href=A.url;else{const M=document.createElement("link");M.id="theme-stylesheet",M.rel="stylesheet",M.href=A.url,document.head.appendChild(M)}else D&&D.remove()},[A]),L.useEffect(()=>{document.documentElement.style.setProperty("--font-main",C?.value||"ui-sans-serif, system-ui, sans-serif")},[C]);const z={setActiveWorkspaceId:p,setActivePageId:v,setUserProfile:i,setActiveThemeId:x,addWorkspace:D=>{const M={id:De.generateId(),name:D,initial:D[0].toUpperCase(),color:De.getRandomColor(),email:r.email,pages:[{id:De.generateId(),title:"Bienvenida",icon:"",cover:null,comments:[],inInbox:!1,isFavorite:!1,isDeleted:!1,isGenerating:!1,parentId:null,updatedAt:new Date().toISOString(),blocks:[{id:De.generateId(),type:"h1",content:"Bienvenida"},{id:De.generateId(),type:"p",content:"Este es tu nuevo espacio de trabajo."}]},{id:De.generateId(),title:"Tareas",icon:"",cover:null,comments:[],inInbox:!1,isFavorite:!1,isDeleted:!1,isGenerating:!1,parentId:null,updatedAt:new Date().toISOString(),blocks:[{id:De.generateId(),type:"h1",content:"Lista de Tareas"},{id:De.generateId(),type:"todo",content:"Revisar documentacin",checked:!1},{id:De.generateId(),type:"todo",content:"Configurar perfil",checked:!1}]}]};e($=>[...$,M]),p(M.id)},removeWorkspace:D=>{if(n.length<=1)return!1;const M=n.filter($=>$.id!==D);return e(M),h===D&&p(M[0].id),!0},addPage:(D={})=>{if(!j)return;const M={id:De.generateId(),title:"",icon:null,cover:null,comments:[],inInbox:!1,isFavorite:!1,isDeleted:!1,isGenerating:!1,parentId:null,updatedAt:new Date().toISOString(),blocks:[],...D},$={...j,pages:[...j.pages,M]};return e(n.map(W=>W.id===h?$:W)),M.id},movePage:(D,M)=>{if(!j||D===M)return;const $=j.pages.map(W=>W.id===D?{...W,parentId:M}:W);e(n.map(W=>W.id===h?{...j,pages:$}:W))},duplicatePage:D=>{if(!j)return;const M=j.pages.find(ee=>ee.id===D);if(!M)return;const $={...M,id:De.generateId(),title:`${M.title} (Copia)`,updatedAt:new Date().toISOString(),blocks:M.blocks.map(ee=>({...ee,id:De.generateId()}))},W={...j,pages:[...j.pages,$]};e(n.map(ee=>ee.id===h?W:ee))},updatePage:(D,M)=>e($=>$.map(W=>W.id===h?{...W,pages:W.pages.map(ee=>ee.id===D?{...ee,...M}:ee)}:W)),deletePage:D=>{e(M=>M.map($=>{if($.id!==h)return $;const W=(xe,ke)=>{const fe=ke.filter(me=>me.parentId===xe);let Ae=[...fe];return fe.forEach(me=>{Ae=[...Ae,...W(me.id,ke)]}),Ae},ee=W(D,$.pages),je=[D,...ee.map(xe=>xe.id)],qe=$.pages.map(xe=>je.includes(xe.id)?{...xe,isDeleted:!0,deletedAt:new Date().toISOString()}:xe);return{...$,pages:qe}})),g===D&&v(null)},restorePage:D=>{e(M=>M.map($=>$.id===h?{...$,pages:$.pages.map(W=>W.id===D?{...W,isDeleted:!1,deletedAt:null}:W)}:$))},permanentDeletePage:D=>{e(M=>M.map($=>$.id===h?{...$,pages:$.pages.filter(W=>W.id!==D)}:$))},updateBlock:(D,M)=>I&&z.updatePage(g,{blocks:I.blocks.map($=>$.id===D?{...$,...M}:$)}),addBlock:(D,M)=>I&&z.updatePage(g,{blocks:[...I.blocks.slice(0,D),{id:De.generateId(),type:"p",content:"",...M},...I.blocks.slice(D)]}),deleteBlock:D=>I&&z.updatePage(g,{blocks:[...I.blocks.slice(0,D),...I.blocks.slice(D+1)]}),addTheme:D=>{D.name&&l(M=>M.find(W=>W.id===D.id)?M.map(W=>W.id===D.id?D:W):[...M,D])},removeTheme:D=>{D!=="default"&&(l(M=>M.filter($=>$.id!==D)),_===D&&x("default"))},addFont:D=>{D.name&&d(M=>M.find(W=>W.id===D.id)?M:[...M,D])},removeFont:D=>{d(M=>M.filter($=>$.id!==D))},addComment:D=>{if(!I)return;const M={id:De.generateId(),author:r.name,avatar:r.avatar,text:D,createdAt:new Date().toISOString()},$=I.comments||[];z.updatePage(g,{comments:[...$,M]})},emptyInbox:()=>{e(D=>D.map(M=>M.id!==h?M:{...M,pages:M.pages.filter($=>!$.inInbox)}))},emptyTrash:()=>{e(D=>D.map(M=>M.id!==h?M:{...M,pages:M.pages.filter($=>!$.isDeleted)}))},setWorkspaces:e,setUserProfile:i,setThemes:l,setFonts:d,setActiveWorkspaceId:p,setActiveThemeId:x};return{workspaces:n,userProfile:r,activeWorkspace:j,activeWorkspaceId:h,activePage:I,activePageId:g,themes:a,activeTheme:A,activeThemeId:_,fonts:u,activeFont:C,activeFontId:S,actions:z,utils:De,setWorkspaces:e,setUserProfile:i,setThemes:l,setFonts:d,setActiveWorkspaceId:p,setActiveThemeId:x,setActiveFontId:k}};function W2({onLoginSuccess:n}){const[e,r]=L.useState(""),[i,a]=L.useState(""),[l,u]=L.useState(!1),[d,h]=L.useState(!1),[p,g]=L.useState(""),v=async x=>{x.preventDefault(),h(!0),g("");try{let S;l?(S=await ci.signUp(e,i),S?.user&&(alert("Registro exitoso. Por favor verifica tu correo electrnico (si usas Supabase real) o inicia sesin."),u(!1))):(S=await ci.signInWithPassword(e,i),S?.user&&n(S.user))}catch(S){g(S.message||"Error en la autenticacin")}finally{h(!1)}},_=async()=>{try{h(!0);const x=await ci.signInWithGoogle();x?.user&&n(x.user)}catch(x){g(x.message),h(!1)}};return y.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 bg-gradient-to-b from-white to-zinc-50",children:y.jsxs("div",{className:"max-w-md w-full space-y-8",children:[y.jsxs("div",{className:"text-center space-y-4",children:[y.jsxs(Lt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-indigo-50 text-indigo-600 text-sm font-medium border border-indigo-100 mx-auto",children:[y.jsx(td,{size:14}),y.jsx("span",{children:"Nueva Arquitectura V82"})]}),y.jsxs("h1",{className:"text-4xl font-bold tracking-tight text-zinc-900",children:["Bienvenido a ",y.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-500 to-purple-600",children:"Fixius"})]}),y.jsx("p",{className:"text-zinc-500",children:"Tu espacio de trabajo, reimaginado."})]}),y.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl border border-zinc-100",children:[y.jsxs("form",{onSubmit:v,className:"space-y-4",children:[p&&y.jsxs("div",{className:"p-3 bg-red-50 text-red-600 text-sm rounded-lg flex items-center gap-2",children:[y.jsx(ed,{size:16})," ",p]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-sm font-medium text-zinc-700",children:"Correo electrnico"}),y.jsx("input",{type:"email",required:!0,value:e,onChange:x=>r(x.target.value),className:"w-full p-2.5 border border-zinc-200 rounded-lg outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all",placeholder:"nombre@ejemplo.com"})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-sm font-medium text-zinc-700",children:"Contrasea"}),y.jsx("input",{type:"password",required:!0,value:i,onChange:x=>a(x.target.value),className:"w-full p-2.5 border border-zinc-200 rounded-lg outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all",placeholder:""})]}),y.jsx("button",{type:"submit",disabled:d,className:"w-full py-2.5 bg-zinc-900 text-white rounded-lg font-medium hover:bg-black transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:d?y.jsx(Sa,{className:"animate-spin",size:18}):l?"Crear cuenta":"Iniciar Sesin"})]}),y.jsxs("div",{className:"relative my-6",children:[y.jsx("div",{className:"absolute inset-0 flex items-center",children:y.jsx("div",{className:"w-full border-t border-zinc-200"})}),y.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:y.jsx("span",{className:"bg-white px-2 text-zinc-400",children:"O contina con"})})]}),y.jsxs("button",{onClick:_,disabled:d,className:"w-full py-2.5 bg-white border border-zinc-200 text-zinc-700 rounded-lg font-medium hover:bg-zinc-50 transition-all flex items-center justify-center gap-2",children:[y.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),y.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),y.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),y.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google"]}),y.jsxs("div",{className:"mt-6 text-center text-sm",children:[y.jsx("span",{className:"text-zinc-500",children:l?"Ya tienes cuenta?":"No tienes cuenta?"}),y.jsx("button",{onClick:()=>u(!l),className:"ml-1 font-medium text-indigo-600 hover:text-indigo-500",children:l?"Inicia sesin":"Regstrate"})]})]})]})})}const jc=({page:n,depth:e=0,actions:r,ui:i,setUi:a,activePageId:l,allPages:u,onContextMenu:d})=>{const[h,p]=L.useState(!0),g=u.some(x=>x.parentId===n.id&&!x.isDeleted&&!x.inInbox),v=u.filter(x=>x.parentId===n.id&&!x.isDeleted&&!x.inInbox),_=x=>{x.preventDefault(),x.stopPropagation();const S=x.dataTransfer.getData("text/plain");S!==n.id&&r.movePage(S,n.id)};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:Ue("group flex items-center gap-1 p-1 rounded-md hover:bg-[rgba(0,0,0,0.05)] cursor-pointer min-h-[1.75rem] relative select-none",l===n.id?"bg-[rgba(0,0,0,0.05)] font-medium":"opacity-80"),style:{paddingLeft:`${e*.75+.5}rem`},onClick:()=>{r.setActivePageId(n.id),a(x=>({...x,currentView:"page"})),i.isMobile&&a(x=>({...x,sidebarOpen:!1}))},draggable:!0,onDragStart:x=>x.dataTransfer.setData("text/plain",n.id),onDragOver:x=>x.preventDefault(),onDrop:_,children:[y.jsx("div",{className:"flex items-center justify-center w-4 h-4 shrink-0 hover:bg-zinc-200 rounded transition-colors",onClick:x=>{x.stopPropagation(),p(!h)},children:g&&y.jsx(Hb,{size:12,className:Ue("transition-transform",h&&"rotate-90")})}),y.jsx("span",{className:"text-lg leading-none w-4 text-center shrink-0 flex items-center justify-center",children:n.isGenerating?y.jsx(Sa,{className:"animate-spin text-indigo-500",size:14}):n.icon||y.jsx(as,{size:16})}),y.jsx("span",{className:Ue("text-sm truncate flex-1",n.isGenerating&&"italic text-zinc-400"),children:n.title||"Sin ttulo"}),y.jsxs("div",{className:"flex items-center opacity-0 group-hover:opacity-100 transition-opacity absolute right-1 bg-[var(--sidebar-bg)] shadow-sm rounded",children:[y.jsx("button",{onClick:x=>{x.stopPropagation(),d(n.id,x)},className:"p-0.5 hover:bg-zinc-200 rounded text-zinc-500",children:y.jsx(py,{size:14})}),y.jsx("button",{onClick:x=>{x.stopPropagation(),r.addPage({parentId:n.id,type:"database",icon:""}),p(!0)},className:"p-0.5 hover:bg-zinc-200 rounded text-zinc-500",title:"Nueva Base de Datos",children:y.jsx(qb,{size:14})}),y.jsx("button",{onClick:x=>{x.stopPropagation(),r.addPage({parentId:n.id}),p(!0)},className:"p-0.5 hover:bg-zinc-200 rounded text-zinc-500",title:"Nueva Pgina",children:y.jsx(ka,{size:14})})]})]}),h&&v.map(x=>y.jsx(jc,{page:x,depth:e+1,actions:r,ui:i,setUi:a,activePageId:l,allPages:u,onContextMenu:d},x.id))]})},H2=({ui:n,setUi:e,activeWorkspace:r,activeWorkspaceId:i,activePageId:a,actions:l,userProfile:u,workspaces:d,handleContextMenu:h})=>y.jsx(Zc,{mode:"wait",children:n.sidebarOpen&&y.jsxs(Lt.aside,{initial:{x:-300,opacity:0},animate:{x:0,opacity:1},exit:{x:-300,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"h-full border-r border-zinc-200 flex flex-col shrink-0 bg-[var(--sidebar-bg)] z-40 absolute md:relative shadow-xl md:shadow-none",style:{width:"var(--sidebar-width)"},children:[y.jsxs("div",{className:"p-3 hover:bg-zinc-200/50 transition-colors cursor-pointer m-2 rounded-lg flex items-center gap-2 group",onClick:()=>e(p=>({...p,modals:{...p.modals,workspaceMenu:!0}})),children:[y.jsx("div",{className:`w-6 h-6 rounded bg-gradient-to-br ${r?.color||"from-gray-500 to-gray-600"} flex items-center justify-center text-white text-xs font-bold shadow-sm`,children:r?.initial||"W"}),y.jsx("span",{className:"font-medium text-sm truncate flex-1",children:r?.name||"Workspace"}),y.jsx("div",{className:"w-4 h-4 flex items-center justify-center text-zinc-400 group-hover:text-zinc-600",children:y.jsx(Wb,{size:12})})]}),y.jsxs("div",{className:"px-2 mb-2 space-y-0.5",children:[y.jsxs("div",{onClick:()=>e(p=>({...p,modals:{...p.modals,search:!0}})),className:"flex items-center gap-2 px-3 py-1.5 text-sm text-zinc-500 hover:bg-zinc-200/50 rounded-md cursor-pointer group",children:[y.jsx(my,{size:14})," ",y.jsx("span",{className:"flex-1",children:"Buscar"})," ",y.jsx("span",{className:"text-xs border border-zinc-300 rounded px-1 opacity-0 group-hover:opacity-100 transition-opacity",children:"Ctrl+K"})]}),y.jsxs("div",{onClick:()=>e(p=>({...p,modals:{...p.modals,ai:!0}})),className:"flex items-center gap-2 px-3 py-1.5 text-sm text-zinc-500 hover:bg-zinc-200/50 rounded-md cursor-pointer",children:[y.jsx(td,{size:14})," ",y.jsx("span",{children:"Fixius AI"})]}),y.jsxs("div",{onClick:()=>e(p=>({...p,currentView:"home"})),className:"flex items-center gap-2 px-3 py-1.5 text-sm text-zinc-500 hover:bg-zinc-200/50 rounded-md cursor-pointer",children:[y.jsx(Xb,{size:14})," ",y.jsx("span",{children:"Inicio"})]}),y.jsxs("div",{onClick:()=>e(p=>({...p,currentView:"inbox"})),className:"flex items-center gap-2 px-3 py-1.5 text-sm text-zinc-500 hover:bg-zinc-200/50 rounded-md cursor-pointer",children:[y.jsx(hy,{size:14})," ",y.jsx("span",{children:"Bandeja"})]}),y.jsxs("div",{onClick:()=>e(p=>({...p,currentView:"settings"})),className:"flex items-center gap-2 px-3 py-1.5 text-sm text-zinc-500 hover:bg-zinc-200/50 rounded-md cursor-pointer",children:[y.jsx(aS,{size:14})," ",y.jsx("span",{children:"Configuracin"})]})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto fancy-scroll px-2 pb-4",children:[r?.pages.some(p=>p.isFavorite&&!p.isDeleted)&&y.jsxs("div",{className:"mb-2",children:[y.jsx("div",{className:"px-3 py-1 text-xs font-semibold text-zinc-400 uppercase tracking-wider mb-1 flex items-center justify-between group cursor-pointer hover:bg-zinc-200/30 rounded",onClick:()=>e(p=>({...p,favoritesOpen:!p.favoritesOpen})),children:y.jsx("span",{children:"Favoritos"})}),n.favoritesOpen!==!1&&y.jsx("div",{children:r.pages.filter(p=>p.isFavorite&&!p.isDeleted).map(p=>y.jsx(jc,{page:p,actions:l,ui:n,setUi:e,activePageId:a,allPages:r.pages,onContextMenu:h},p.id))})]}),y.jsxs("div",{className:"mb-4",children:[y.jsxs("div",{className:"px-3 py-1 text-xs font-semibold text-zinc-400 uppercase tracking-wider mb-1 flex items-center justify-between group cursor-pointer hover:bg-zinc-200/30 rounded",onClick:()=>e(p=>({...p,pagesOpen:!p.pagesOpen})),children:[y.jsx("span",{children:"Pginas"}),y.jsx("div",{onClick:p=>{p.stopPropagation(),l.addPage()},className:"opacity-0 group-hover:opacity-100 hover:bg-zinc-300 rounded p-0.5 transition-all",children:y.jsx(ka,{size:12})})]}),n.pagesOpen!==!1&&y.jsx("div",{children:r?.pages.filter(p=>!p.parentId&&!p.isDeleted&&!p.inInbox&&!p.isFavorite).map(p=>y.jsx(jc,{page:p,actions:l,ui:n,setUi:e,activePageId:a,allPages:r.pages,onContextMenu:h},p.id))})]})]}),y.jsxs("div",{className:"p-2 border-t border-zinc-200 space-y-0.5",children:[y.jsxs("div",{onClick:()=>e(p=>({...p,modals:{...p.modals,marketplace:!0}})),className:"flex items-center gap-2 px-3 py-2 text-sm text-zinc-500 hover:bg-zinc-200/50 rounded-md cursor-pointer",children:[y.jsx(sS,{size:14})," ",y.jsx("span",{children:"Marketplace"})]}),y.jsxs("div",{onClick:()=>e(p=>({...p,currentView:"trash"})),className:"flex items-center gap-2 px-3 py-2 text-sm text-zinc-500 hover:bg-zinc-200/50 rounded-md cursor-pointer",children:[y.jsx(Bn,{size:14})," ",y.jsx("span",{children:"Papelera"})]})]})]})});function q2({children:n,className:e="",onClick:r}){const i=hc(0),a=hc(0);function l({currentTarget:u,clientX:d,clientY:h}){const{left:p,top:g}=u.getBoundingClientRect();i.set(d-p),a.set(h-g)}return y.jsxs("div",{className:Ue("group relative border border-zinc-200 bg-white overflow-hidden rounded-xl",e),onMouseMove:l,onClick:r,children:[y.jsx(Lt.div,{className:"pointer-events-none absolute -inset-px rounded-xl opacity-0 transition duration-300 group-hover:opacity-100",style:{background:Lb`radial-gradient(650px circle at ${i}px ${a}px, rgba(79, 70, 229, 0.1), transparent 80%)`}}),y.jsx("div",{className:"relative h-full",children:n})]})}const ds=({isOpen:n,onClose:e,title:r,children:i,transparent:a=!1,className:l="max-w-lg"})=>n?y.jsx(Zc,{children:n&&y.jsxs(y.Fragment,{children:[y.jsx(Lt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-[60]"}),y.jsxs(Lt.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:Ue("fixed inset-0 m-auto h-fit max-h-[85vh] z-[70] w-full rounded-xl shadow-2xl overflow-hidden flex flex-col",a?"bg-transparent shadow-none":"bg-white border border-zinc-200",l),children:[r&&y.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-zinc-100 shrink-0 bg-white",children:[y.jsx("h2",{className:"text-sm font-semibold text-zinc-700",children:r}),y.jsx("button",{onClick:e,className:"p-1 hover:bg-zinc-100 rounded text-zinc-400 hover:text-zinc-600 transition-colors",children:y.jsx(gy,{size:18})})]}),y.jsx("div",{className:"flex-1 overflow-y-auto",children:i})]})]})}):null;function Tc(n){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(n)}function Jt(n,e){if(e.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+e.length+" present")}function ut(n){Jt(1,arguments);var e=Object.prototype.toString.call(n);return n instanceof Date||Tc(n)==="object"&&e==="[object Date]"?new Date(n.getTime()):typeof n=="number"||e==="[object Number]"?new Date(n):((typeof n=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}var K2={};function G2(){return K2}function Wm(n){var e=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return e.setUTCFullYear(n.getFullYear()),n.getTime()-e.getTime()}function Xo(n,e){Jt(2,arguments);var r=ut(n),i=ut(e),a=r.getTime()-i.getTime();return a<0?-1:a>0?1:a}function J2(n,e){Jt(2,arguments);var r=ut(n),i=ut(e),a=r.getFullYear()-i.getFullYear(),l=r.getMonth()-i.getMonth();return a*12+l}function Q2(n,e){return Jt(2,arguments),ut(n).getTime()-ut(e).getTime()}var Y2={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},X2="trunc";function Z2(n){return Y2[X2]}function eE(n){Jt(1,arguments);var e=ut(n);return e.setHours(23,59,59,999),e}function tE(n){Jt(1,arguments);var e=ut(n),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function nE(n){Jt(1,arguments);var e=ut(n);return eE(e).getTime()===tE(e).getTime()}function rE(n,e){Jt(2,arguments);var r=ut(n),i=ut(e),a=Xo(r,i),l=Math.abs(J2(r,i)),u;if(l<1)u=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*l);var d=Xo(r,i)===-a;nE(ut(n))&&l===1&&Xo(n,i)===1&&(d=!1),u=a*(l-Number(d))}return u===0?0:u}function sE(n,e,r){Jt(2,arguments);var i=Q2(n,e)/1e3;return Z2()(i)}var iE={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},oE=function(e,r,i){var a,l=iE[e];return typeof l=="string"?a=l:r===1?a=l.one:a=l.other.replace("{{count}}",r.toString()),i!=null&&i.addSuffix?i.comparison&&i.comparison>0?"in "+a:a+" ago":a};function Yu(n){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.width?String(e.width):n.defaultWidth,i=n.formats[r]||n.formats[n.defaultWidth];return i}}var aE={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},lE={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},uE={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cE={date:Yu({formats:aE,defaultWidth:"full"}),time:Yu({formats:lE,defaultWidth:"full"}),dateTime:Yu({formats:uE,defaultWidth:"full"})},dE={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hE=function(e,r,i,a){return dE[e]};function ei(n){return function(e,r){var i=r!=null&&r.context?String(r.context):"standalone",a;if(i==="formatting"&&n.formattingValues){var l=n.defaultFormattingWidth||n.defaultWidth,u=r!=null&&r.width?String(r.width):l;a=n.formattingValues[u]||n.formattingValues[l]}else{var d=n.defaultWidth,h=r!=null&&r.width?String(r.width):n.defaultWidth;a=n.values[h]||n.values[d]}var p=n.argumentCallback?n.argumentCallback(e):e;return a[p]}}var fE={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},pE={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mE={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gE={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},yE={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vE={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},wE=function(e,r){var i=Number(e),a=i%100;if(a>20||a<10)switch(a%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},xE={ordinalNumber:wE,era:ei({values:fE,defaultWidth:"wide"}),quarter:ei({values:pE,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:ei({values:mE,defaultWidth:"wide"}),day:ei({values:gE,defaultWidth:"wide"}),dayPeriod:ei({values:yE,defaultWidth:"wide",formattingValues:vE,defaultFormattingWidth:"wide"})};function ti(n){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.width,a=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],l=e.match(a);if(!l)return null;var u=l[0],d=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],h=Array.isArray(d)?bE(d,function(v){return v.test(u)}):_E(d,function(v){return v.test(u)}),p;p=n.valueCallback?n.valueCallback(h):h,p=r.valueCallback?r.valueCallback(p):p;var g=e.slice(u.length);return{value:p,rest:g}}}function _E(n,e){for(var r in n)if(n.hasOwnProperty(r)&&e(n[r]))return r}function bE(n,e){for(var r=0;r<n.length;r++)if(e(n[r]))return r}function SE(n){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=e.match(n.matchPattern);if(!i)return null;var a=i[0],l=e.match(n.parsePattern);if(!l)return null;var u=n.valueCallback?n.valueCallback(l[0]):l[0];u=r.valueCallback?r.valueCallback(u):u;var d=e.slice(a.length);return{value:u,rest:d}}}var kE=/^(\d+)(th|st|nd|rd)?/i,EE=/\d+/i,jE={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},TE={any:[/^b/i,/^(a|c)/i]},PE={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},CE={any:[/1/i,/2/i,/3/i,/4/i]},OE={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},AE={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},RE={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},NE={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},IE={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},DE={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ME={ordinalNumber:SE({matchPattern:kE,parsePattern:EE,valueCallback:function(e){return parseInt(e,10)}}),era:ti({matchPatterns:jE,defaultMatchWidth:"wide",parsePatterns:TE,defaultParseWidth:"any"}),quarter:ti({matchPatterns:PE,defaultMatchWidth:"wide",parsePatterns:CE,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:ti({matchPatterns:OE,defaultMatchWidth:"wide",parsePatterns:AE,defaultParseWidth:"any"}),day:ti({matchPatterns:RE,defaultMatchWidth:"wide",parsePatterns:NE,defaultParseWidth:"any"}),dayPeriod:ti({matchPatterns:IE,defaultMatchWidth:"any",parsePatterns:DE,defaultParseWidth:"any"})},zE={code:"en-US",formatDistance:oE,formatLong:cE,formatRelative:hE,localize:xE,match:ME,options:{weekStartsOn:0,firstWeekContainsDate:1}};function h0(n,e){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function LE(n){return h0({},n)}var Hm=1440,VE=2520,Xu=43200,$E=86400;function BE(n,e,r){var i,a;Jt(2,arguments);var l=G2(),u=(i=(a=void 0)!==null&&a!==void 0?a:l.locale)!==null&&i!==void 0?i:zE;if(!u.formatDistance)throw new RangeError("locale must contain formatDistance property");var d=Xo(n,e);if(isNaN(d))throw new RangeError("Invalid time value");var h=h0(LE(r),{addSuffix:!1,comparison:d}),p,g;d>0?(p=ut(e),g=ut(n)):(p=ut(n),g=ut(e));var v=sE(g,p),_=(Wm(g)-Wm(p))/1e3,x=Math.round((v-_)/60),S;if(x<2)return x===0?u.formatDistance("lessThanXMinutes",1,h):u.formatDistance("xMinutes",x,h);if(x<45)return u.formatDistance("xMinutes",x,h);if(x<90)return u.formatDistance("aboutXHours",1,h);if(x<Hm){var k=Math.round(x/60);return u.formatDistance("aboutXHours",k,h)}else{if(x<VE)return u.formatDistance("xDays",1,h);if(x<Xu){var j=Math.round(x/Hm);return u.formatDistance("xDays",j,h)}else if(x<$E)return S=Math.round(x/Xu),u.formatDistance("aboutXMonths",S,h)}if(S=rE(g,p),S<12){var I=Math.round(x/Xu);return u.formatDistance("xMonths",I,h)}else{var A=S%12,C=Math.floor(S/12);return A<3?u.formatDistance("aboutXYears",C,h):A<9?u.formatDistance("overXYears",C,h):u.formatDistance("almostXYears",C+1,h)}}function Pa(n,e){return Jt(1,arguments),BE(n,Date.now(),e)}function UE({activeWorkspace:n,actions:e,setUi:r,userProfile:i}){const a=n?.pages.filter(l=>!l.isDeleted&&!l.inInbox)||[];return a.length===0?y.jsx("div",{className:"max-w-2xl mx-auto h-full flex flex-col items-center justify-center p-8",children:y.jsxs(Lt.div,{initial:{scale:.8,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",duration:.8},className:"text-center",children:[y.jsx(Lt.div,{animate:{y:[0,-10,0]},transition:{repeat:1/0,duration:2,ease:"easeInOut"},className:"text-6xl mb-6",children:""}),y.jsx("h2",{className:"text-3xl font-bold mb-3 text-current",children:"Empecemos a crear una pgina"}),y.jsx("p",{className:"text-zinc-500 mb-8 max-w-md",children:"Crea tu primera pgina y comienza a organizar tus ideas, proyectos y notas."}),y.jsxs(Lt.button,{onClick:()=>{const l=e.addPage();e.setActivePageId(l),r(u=>({...u,currentView:"page"}))},whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-zinc-900 text-white px-6 py-3 rounded-lg font-medium hover:bg-black transition-colors flex items-center gap-2 mx-auto shadow-lg",children:[y.jsx(ka,{size:18})," Crear primera pgina"]})]})}):y.jsxs("div",{className:"max-w-6xl mx-auto py-12 px-6",children:[y.jsxs("div",{className:"mb-8",children:[y.jsxs("h1",{className:"text-2xl font-bold mb-2 text-current",children:["Hola, ",i?.name]}),y.jsx("p",{className:"text-zinc-500",children:"Contina donde lo dejaste"})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.slice(0,12).map(l=>y.jsxs(Lt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-4,scale:1.02},onClick:()=>{e.setActivePageId(l.id),r(u=>({...u,currentView:"page"}))},className:"bg-white border border-zinc-200 rounded-lg overflow-hidden cursor-pointer shadow-sm hover:shadow-md transition-all",children:[y.jsx("div",{className:"h-32 relative",style:{background:l.cover?.includes("http")?"transparent":l.cover||"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:l.cover?.includes("http")&&y.jsx("img",{src:l.cover,className:"w-full h-full object-cover"})}),y.jsx("div",{className:"p-4",children:y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx("div",{className:"text-3xl shrink-0",children:l.icon||""}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("h3",{className:"font-semibold text-zinc-900 truncate mb-1",children:l.title||"Sin ttulo"}),y.jsxs("p",{className:"text-xs text-zinc-400",children:["Editado ",Pa(new Date(l.updatedAt))," ago"]})]})]})})]},l.id))})]})}function FE({activeWorkspace:n,actions:e}){const r=n?.pages.filter(i=>i.inInbox&&!i.isDeleted)||[];return y.jsxs("div",{className:"max-w-3xl mx-auto py-12 px-6",children:[y.jsxs("div",{className:"flex items-center justify-between mb-8",children:[y.jsxs("h1",{className:"text-2xl font-bold text-current flex items-center gap-2",children:[y.jsx(hy,{size:24})," Bandeja de Entrada"]}),r.length>0&&y.jsxs("button",{onClick:()=>{confirm("Ests seguro de que quieres borrar todo permanentemente?")&&e.emptyInbox()},className:"text-red-500 hover:bg-red-50 px-3 py-1.5 rounded text-sm font-medium transition-colors flex items-center gap-2",children:[y.jsx(Bn,{size:14})," Borrar todo"]})]}),r.length===0?y.jsxs("div",{className:"text-center py-12 opacity-50",children:[y.jsx("div",{className:"mb-2 text-4xl",children:""}),"No tienes notificaciones."]}):y.jsx("div",{className:"grid gap-4",children:r.map(i=>y.jsxs(q2,{className:"p-4 flex items-center justify-between cursor-pointer",onClick:()=>{e.updatePage(i.id,{inInbox:!1})},children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"text-2xl",children:i.icon}),y.jsxs("div",{children:[y.jsx("div",{className:"font-bold text-zinc-800",children:i.title}),y.jsxs("div",{className:"text-xs text-zinc-500",children:[Pa(new Date(i.updatedAt))," ago"]})]})]}),y.jsx("div",{className:"flex items-center gap-2",children:y.jsx("button",{onClick:a=>{a.stopPropagation(),e.deletePage(i.id)},className:"p-2 hover:bg-zinc-100 rounded-full text-zinc-400 hover:text-zinc-600",title:"Eliminar",children:y.jsx(gy,{size:16})})})]},i.id))})]})}function WE({activeWorkspace:n,actions:e,showNotify:r}){const i=n?.pages.filter(a=>a.isDeleted)||[];return y.jsxs("div",{className:"max-w-3xl mx-auto py-12 px-6",children:[y.jsxs("div",{className:"flex items-center justify-between mb-8",children:[y.jsxs("h1",{className:"text-2xl font-bold text-current flex items-center gap-2",children:[y.jsx(Bn,{size:24})," Papelera"]}),i.length>0&&y.jsxs("button",{onClick:()=>{confirm("Ests seguro de que quieres vaciar la papelera permanentemente?")&&e.emptyTrash()},className:"text-red-500 hover:bg-red-50 px-3 py-1.5 rounded text-sm font-medium transition-colors flex items-center gap-2",children:[y.jsx(Bn,{size:14})," Vaciar papelera"]})]}),y.jsx("p",{className:"text-sm opacity-60 mb-6",children:"Las pginas aqu pueden ser restauradas o eliminadas para siempre."}),i.length===0?y.jsxs("div",{className:"text-center py-12 opacity-50",children:[y.jsx("div",{className:"mb-2 text-4xl",children:""}),"Papelera vaca."]}):y.jsx("div",{className:"grid gap-3",children:i.map(a=>y.jsxs("div",{className:"p-3 border border-zinc-200 rounded-lg flex justify-between items-center bg-white shadow-sm",children:[y.jsxs("div",{className:"flex items-center gap-3 opacity-60",children:[y.jsx("div",{className:"text-lg",children:a.icon||y.jsx(as,{size:16})}),y.jsxs("div",{children:[y.jsx("div",{className:"font-medium text-sm text-zinc-900",children:a.title||"Sin ttulo"}),y.jsxs("div",{className:"text-xs text-zinc-500",children:["Borrado ",Pa(new Date(a.deletedAt||new Date))," ago"]})]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("button",{onClick:()=>{e.restorePage(a.id),r("Pgina restaurada")},className:"flex items-center gap-1 bg-zinc-100 text-zinc-700 text-xs px-3 py-1.5 rounded hover:bg-zinc-200",children:[y.jsx(uS,{size:12})," Restaurar"]}),y.jsx("button",{onClick:()=>{confirm("Borrar definitivamente?")&&e.permanentDeletePage(a.id)},className:"p-1.5 text-red-400 hover:bg-red-50 rounded",children:y.jsx(Bn,{size:14})})]})]},a.id))})]})}function HE({ui:n,setUi:e,userProfile:r,actions:i,themes:a,activeThemeId:l,activeFontId:u,fetchMarketData:d}){const h=L.useRef(null),p=()=>{h.current?.click()},g=async v=>{const _=v.target.files?.[0];_&&console.log("File selected:",_)};return y.jsxs("div",{className:"flex h-full",children:[y.jsxs("div",{className:"w-48 bg-[var(--sidebar-bg)] border-r border-[rgba(0,0,0,0.05)] pt-8 px-2 space-y-1",children:[y.jsx("div",{className:"px-3 py-2 text-xs font-bold opacity-50 uppercase mb-2",children:"Cuenta"}),y.jsx("button",{onClick:()=>e(v=>({...v,settingsSection:"account"})),className:Ue("w-full text-left px-3 py-1.5 rounded-md text-sm transition-colors",n.settingsSection==="account"?"bg-[rgba(0,0,0,0.05)] font-medium":"opacity-70 hover:opacity-100 hover:bg-[rgba(0,0,0,0.02)]"),children:"Mi Perfil"}),y.jsx("button",{onClick:()=>{e(v=>({...v,settingsSection:"themes"})),d()},className:Ue("w-full text-left px-3 py-1.5 rounded-md text-sm transition-colors",n.settingsSection==="themes"?"bg-[rgba(0,0,0,0.05)] font-medium":"opacity-70 hover:opacity-100 hover:bg-[rgba(0,0,0,0.02)]"),children:"Temas & Apariencia"})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto px-12 py-12",children:[n.settingsSection==="account"&&y.jsxs("div",{className:"max-w-2xl animate-in fade-in duration-300",children:[y.jsx("h1",{className:"text-xl font-bold mb-6 pb-2 border-b border-[rgba(0,0,0,0.1)]",children:"Mi Perfil"}),y.jsxs("div",{className:"flex items-start gap-6 mb-8",children:[y.jsxs("div",{onClick:p,className:"w-24 h-24 bg-zinc-100 rounded-full flex items-center justify-center cursor-pointer hover:opacity-80 transition-opacity overflow-hidden border border-zinc-200 shrink-0",children:[r.avatar?y.jsx("img",{src:r.avatar,className:"w-full h-full object-cover"}):y.jsx(Ub,{size:32,className:"text-zinc-300"}),y.jsx("input",{type:"file",ref:h,className:"hidden",onChange:g,accept:"image/*"})]}),y.jsxs("div",{className:"flex-1 space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold opacity-50 uppercase block mb-1",children:"Nombre preferido"}),y.jsx("input",{value:r.name,onChange:v=>i.setUserProfile(_=>({..._,name:v.target.value})),className:"w-full p-2 border border-zinc-200 rounded text-sm outline-none focus:border-zinc-400 bg-transparent transition-colors"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold opacity-50 uppercase block mb-1",children:"Correo electrnico"}),y.jsx("input",{value:r.email,disabled:!0,className:"w-full p-2 border border-zinc-200 rounded text-sm bg-[rgba(0,0,0,0.02)] opacity-60 cursor-not-allowed"})]})]})]}),y.jsxs("button",{onClick:async()=>{vi.saveBackup(r.email),await ci.logout(),vi.clearLocalData(),window.location.reload()},className:"text-red-600 border border-red-200 px-4 py-2 rounded hover:bg-red-50 text-sm font-medium flex items-center gap-2",children:[y.jsx(fy,{size:16})," Cerrar Sesin"]})]}),n.settingsSection==="themes"&&y.jsxs("div",{className:"max-w-2xl animate-in fade-in duration-300",children:[y.jsx("h1",{className:"text-xl font-bold mb-6 pb-2 border-b border-[rgba(0,0,0,0.1)]",children:"Apariencia"}),y.jsxs("div",{className:"mb-8",children:[y.jsx("h2",{className:"text-sm font-bold text-zinc-500 uppercase tracking-wider mb-3",children:"Tipografa"}),y.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{id:"sans",name:"Sans Serif",value:"ui-sans-serif, system-ui, sans-serif",preview:"Aa"},{id:"serif",name:"Serif",value:'ui-serif, Georgia, Cambria, "Times New Roman", Times, serif',preview:"Aa"},{id:"mono",name:"Mono",value:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace",preview:"Aa"}].map(v=>y.jsxs("button",{onClick:()=>i.setActiveFontId(v.id),className:Ue("p-3 border rounded-lg text-left transition-all",u===v.id?"border-zinc-900 ring-1 ring-zinc-900 bg-zinc-50":"border-zinc-200 hover:border-zinc-300 hover:bg-zinc-50"),children:[y.jsx("div",{className:"text-2xl mb-2",style:{fontFamily:v.value},children:v.preview}),y.jsx("div",{className:"text-sm font-medium text-zinc-900",children:v.name})]},v.id))})]}),y.jsx("h2",{className:"text-sm font-bold text-zinc-500 uppercase tracking-wider mb-3",children:"Temas Instalados"}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"p-4 border border-zinc-200 rounded-lg flex justify-between items-center bg-white shadow-sm",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-12 h-12 bg-white border border-zinc-200 rounded-md flex items-center justify-center text-lg font-serif",children:"Aa"}),y.jsxs("div",{children:[y.jsx("div",{className:"font-bold text-sm text-zinc-900",children:"stylessApp (Default)"}),y.jsx("div",{className:"text-xs text-zinc-500",children:"Tema original (Claro)"})]})]}),y.jsx("button",{onClick:()=>i.setActiveThemeId("default"),disabled:l==="default",className:Ue("px-3 py-1.5 rounded text-xs transition-colors",l==="default"?"bg-green-100 text-green-700 cursor-default font-medium":"bg-zinc-900 text-white hover:bg-black"),children:l==="default"?"Activo":"Aplicar"})]}),a.filter(v=>v.id!=="default").map(v=>y.jsxs("div",{className:"p-4 border border-zinc-200 rounded-lg flex justify-between items-center bg-white shadow-sm",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-12 h-12 rounded-md flex items-center justify-center text-lg font-bold text-white shadow-inner",style:{backgroundColor:v.colors?.bg||"#333",color:v.colors?.text||"#fff"},children:"Aa"}),y.jsxs("div",{children:[y.jsx("div",{className:"font-bold text-sm text-zinc-900",children:v.name}),y.jsxs("div",{className:"text-xs text-zinc-500",children:["Por ",v.author]})]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>i.removeTheme(v.id),className:"px-3 py-1.5 rounded text-xs transition-colors bg-red-50 text-red-600 hover:bg-red-100",children:"Desinstalar"}),y.jsx("button",{onClick:()=>i.setActiveThemeId(v.id),disabled:l===v.id,className:Ue("px-3 py-1.5 rounded text-xs transition-colors",l===v.id?"bg-green-100 text-green-700 cursor-default font-medium":"bg-zinc-900 text-white hover:bg-black"),children:l===v.id?"Activo":"Aplicar"})]})]},v.id))]})]})]})]})}const qE=({url:n})=>{const[e,r]=L.useState(!1);if(!n)return null;const i=n.match(/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com|youtu\.be)\/(?:watch\?v=)?(.+)/);if(i){const a=i[1];return y.jsx("div",{className:"my-2 rounded-lg overflow-hidden shadow-sm border border-zinc-200 bg-black",children:y.jsx("iframe",{width:"100%",height:"315",src:`https://www.youtube.com/embed/${a}`,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"aspect-video"})})}return y.jsxs(y.Fragment,{children:[y.jsxs("div",{onClick:()=>r(!0),className:"my-2 p-3 border border-zinc-200 rounded-lg flex items-center gap-3 cursor-pointer hover:bg-zinc-50 transition-colors group",children:[y.jsx("div",{className:"w-10 h-10 bg-zinc-100 rounded flex items-center justify-center text-zinc-400 group-hover:text-zinc-600",children:y.jsx(Gb,{size:20})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("div",{className:"text-sm font-medium text-zinc-900 truncate",children:n}),y.jsx("div",{className:"text-xs text-zinc-500",children:"Haz clic para abrir el enlace"})]})]}),e&&y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/20 backdrop-blur-sm",onClick:a=>{a.stopPropagation(),r(!1)},children:y.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-xl max-w-sm w-full mx-4",onClick:a=>a.stopPropagation(),children:[y.jsx("h3",{className:"text-lg font-bold mb-2",children:"Abrir enlace externo"}),y.jsxs("p",{className:"text-zinc-600 mb-6 text-sm",children:["Ests a punto de salir de ClonApp para visitar:",y.jsx("br",{}),y.jsx("span",{className:"text-indigo-600 font-medium break-all",children:n})]}),y.jsxs("div",{className:"flex justify-end gap-2",children:[y.jsx("button",{onClick:()=>r(!1),className:"px-4 py-2 text-zinc-500 hover:bg-zinc-100 rounded-lg text-sm font-medium",children:"Cancelar"}),y.jsx("button",{onClick:()=>{window.open(n,"_blank"),r(!1)},className:"px-4 py-2 bg-zinc-900 text-white rounded-lg text-sm font-medium hover:bg-black",children:"Ir al sitio"})]})]})})]})},KE=({query:n,onSelect:e,onClose:r})=>{const[i,a]=L.useState("basicos"),l={basicos:{label:"Bsicos",items:[{id:"h1",label:"Encabezado 1",icon:y.jsx(Bu,{size:18}),desc:"Ttulo grande"},{id:"h2",label:"Encabezado 2",icon:y.jsx(Bu,{size:16}),desc:"Ttulo mediano"},{id:"h3",label:"Encabezado 3",icon:y.jsx(Bu,{size:14}),desc:"Ttulo pequeo"},{id:"bullet",label:"Lista",icon:y.jsx(eS,{size:16}),desc:"Lista simple"},{id:"todo",label:"Tareas",icon:y.jsx(Fb,{size:16}),desc:"Tareas pendientes"}]},avanzados:{label:"Avanzados",items:[{id:"quote",label:"Cita",icon:y.jsx(oS,{size:16}),desc:"Captura una cita"},{id:"callout",label:"Destacado",icon:y.jsx(ed,{size:16}),desc:"Resalta informacin"},{id:"divider",label:"Divisor",icon:y.jsx(rS,{size:16}),desc:"Separa visualmente"}]}},u=Object.values(l).flatMap(g=>g.items),d=n?u.filter(g=>g.label.toLowerCase().includes(n.toLowerCase())):l[i].items,[h,p]=L.useState(0);return L.useEffect(()=>{const g=v=>{v.key==="ArrowDown"?(v.preventDefault(),p(_=>(_+1)%d.length)):v.key==="ArrowUp"?(v.preventDefault(),p(_=>(_-1+d.length)%d.length)):v.key==="Enter"?(v.preventDefault(),e(d[h].id)):v.key==="Escape"&&r()};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[d,h,e,r]),d.length===0?null:y.jsxs(Lt.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},className:"absolute top-full left-0 z-50 w-80 bg-white rounded-lg shadow-popover border border-zinc-200 overflow-hidden mt-2 max-h-96",children:[!n&&y.jsx("div",{className:"border-b border-zinc-100 bg-zinc-50/50",children:y.jsx("div",{className:"flex gap-1 px-2 py-1.5",children:Object.entries(l).map(([g,v])=>y.jsx("button",{onClick:()=>a(g),className:Ue("px-3 py-1.5 text-xs font-medium rounded-md transition-all",i===g?"bg-white shadow-sm text-zinc-900 border border-zinc-200":"text-zinc-500 hover:text-zinc-700 hover:bg-zinc-100"),children:v.label},g))})}),y.jsxs("div",{className:"p-1.5 space-y-0.5 max-h-80 overflow-y-auto",children:[n&&y.jsx("div",{className:"text-xs font-bold text-zinc-400 px-2 py-1 uppercase",children:"Resultados"}),d.map((g,v)=>y.jsxs("div",{onClick:()=>e(g.id),className:Ue("flex items-center gap-3 px-2 py-1.5 rounded cursor-pointer transition-colors",v===h?"bg-zinc-100":"hover:bg-zinc-50"),children:[y.jsx("div",{className:"w-10 h-10 rounded border border-zinc-200 bg-white flex items-center justify-center text-zinc-600 shrink-0 shadow-sm",children:g.icon}),y.jsxs("div",{children:[y.jsx("div",{className:"text-sm font-medium text-zinc-800",children:g.label}),y.jsx("div",{className:"text-xs text-zinc-400",children:g.desc})]})]},g.id))]})]})},hn=({tagName:n,html:e,className:r,onChange:i,onKeyDown:a,placeholder:l,disabled:u,autoFocus:d})=>{const h=L.useRef(null);return L.useEffect(()=>{d&&h.current&&h.current.focus()},[d]),L.useLayoutEffect(()=>{h.current&&h.current.innerText!==e&&(h.current.innerText=e)},[e]),y.jsx(n,{ref:h,className:Ue(r,"empty:before:content-[attr(placeholder)] empty:before:text-zinc-300 outline-none"),contentEditable:!u,suppressContentEditableWarning:!0,onInput:p=>i&&i(p.currentTarget.innerText),onKeyDown:a,placeholder:l})},GE=({block:n,index:e,actions:r})=>{const i=p=>{if(p.key==="Enter")p.preventDefault(),["bullet","todo"].includes(n.type)?n.content?r.addBlock(e+1,{type:n.type,level:n.level||0}):(n.level||0)>0?r.updateBlock(n.id,{level:(n.level||0)-1}):r.updateBlock(n.id,{type:"p"}):r.addBlock(e+1);else if(p.key==="Backspace"&&!n.content)p.preventDefault(),(n.level||0)>0?r.updateBlock(n.id,{level:(n.level||0)-1}):["bullet","todo"].includes(n.type)?r.updateBlock(n.id,{type:"p"}):r.deleteBlock(e);else if(p.key==="Tab"){p.preventDefault();const g=n.level||0;r.updateBlock(n.id,{level:p.shiftKey?Math.max(0,g-1):Math.min(3,g+1)})}},a=p=>{if(n.type==="p"){const g={"# ":"h1","## ":"h2","### ":"h3","- ":"bullet","[] ":"todo","> ":"quote","---":"divider"};if(g[p]){r.updateBlock(n.id,{type:g[p],content:""});return}}r.updateBlock(n.id,{content:p})},l=n.type==="p"&&n.content.startsWith("/"),u=l?n.content.substring(1):"",d=n.type==="p"&&n.content.match(/(https?:\/\/[^\s]+)/g),h=d?d[0]:null;return y.jsxs(Lt.div,{id:n.id,layout:!0,initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"group relative flex items-start pl-2 md:pl-6 mb-1 py-0.5",children:[y.jsx("div",{className:"absolute left-0 top-1.5 p-0.5 text-zinc-300 opacity-0 group-hover:opacity-100 cursor-grab active:cursor-grabbing hover:text-zinc-500 transition-opacity touch-none hidden md:block",children:y.jsx(Qb,{size:16})}),y.jsxs("div",{className:"w-full relative",children:[l&&y.jsx(KE,{query:u,onSelect:p=>r.updateBlock(n.id,{type:p,content:""}),onClose:()=>{}}),n.type==="h1"&&y.jsx(hn,{tagName:"h1",html:n.content,className:"text-3xl font-bold text-zinc-800 mb-2 mt-6",placeholder:"Encabezado 1",onKeyDown:i,onChange:a,autoFocus:!0}),n.type==="h2"&&y.jsx(hn,{tagName:"h2",html:n.content,className:"text-2xl font-semibold text-zinc-800 mb-1 mt-4",placeholder:"Encabezado 2",onKeyDown:i,onChange:a,autoFocus:!0}),n.type==="h3"&&y.jsx(hn,{tagName:"h3",html:n.content,className:"text-xl font-semibold text-zinc-800 mb-1 mt-3",placeholder:"Encabezado 3",onKeyDown:i,onChange:a,autoFocus:!0}),n.type==="p"&&y.jsxs(y.Fragment,{children:[y.jsx(hn,{tagName:"p",html:n.content,className:"text-base text-zinc-700 leading-relaxed min-h-[1.5rem]",placeholder:'Escribe "/" para comandos...',onKeyDown:i,onChange:a,autoFocus:!0}),h&&y.jsx(qE,{url:h})]}),n.type==="bullet"&&y.jsxs("div",{className:"flex items-start gap-2",style:{marginLeft:(n.level||0)*1.5+"rem"},children:[y.jsx("div",{className:Ue("mt-2.5 shrink-0 transition-all",(n.level||0)%3===0?"w-1.5 h-1.5 rounded-full bg-zinc-800":(n.level||0)%3===1?"w-1.5 h-1.5 rounded-full border border-zinc-800 bg-transparent":"w-1.5 h-1.5 bg-zinc-800")}),y.jsx(hn,{tagName:"p",html:n.content,className:"flex-1 text-base text-zinc-700 leading-relaxed",placeholder:"Lista",onKeyDown:i,onChange:p=>r.updateBlock(n.id,{content:p}),autoFocus:!0})]}),n.type==="todo"&&y.jsxs("div",{className:"flex items-start gap-3",style:{marginLeft:(n.level||0)*1.5+"rem"},children:[y.jsx("div",{onClick:()=>r.updateBlock(n.id,{checked:!n.checked}),className:Ue("mt-1 w-4 h-4 rounded-[3px] border cursor-pointer flex items-center justify-center transition-colors",n.checked?"bg-[#2EAADC] border-[#2EAADC]":"border-zinc-400 hover:bg-zinc-100"),children:n.checked&&y.jsx(ba,{size:12,className:"text-white"})}),y.jsx(hn,{tagName:"p",html:n.content,className:Ue("flex-1 text-base min-h-[1.5rem] transition-opacity",n.checked?"line-through text-zinc-400 opacity-50":"text-zinc-700"),placeholder:"Tarea por hacer",onKeyDown:i,onChange:p=>r.updateBlock(n.id,{content:p}),autoFocus:!0})]}),n.type==="quote"&&y.jsx("div",{className:"flex items-start gap-3 pl-4 border-l-4 border-zinc-900 my-2",children:y.jsx(hn,{tagName:"p",html:n.content,className:"text-lg italic text-zinc-700",placeholder:"Cita...",onKeyDown:i,onChange:p=>r.updateBlock(n.id,{content:p}),autoFocus:!0})}),n.type==="divider"&&y.jsx("div",{className:"py-4",children:y.jsx("div",{className:"h-px bg-zinc-200 w-full"})}),n.type==="callout"&&y.jsxs("div",{className:"p-4 bg-zinc-50 rounded-lg flex gap-3 border border-zinc-200 my-2",children:[y.jsx(ed,{size:20,className:"text-zinc-500 shrink-0"}),y.jsx(hn,{tagName:"p",html:n.content,className:"text-base text-zinc-800",placeholder:"Destacado...",onKeyDown:i,onChange:p=>r.updateBlock(n.id,{content:p}),autoFocus:!0})]})]})]})};function JE({activePage:n,activePageId:e,ui:r,setUi:i,actions:a}){return n?y.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-12 pb-32",children:[y.jsxs("div",{className:"group relative mb-8",children:[n.cover&&y.jsx("div",{className:"h-48 w-full rounded-xl bg-cover bg-center mb-8 shadow-sm",style:{backgroundImage:n.cover.startsWith("http")?`url(${n.cover})`:n.cover}}),!n.cover&&y.jsx("div",{className:"h-12 opacity-0 group-hover:opacity-100 transition-opacity flex items-center gap-2 text-xs text-zinc-400 mb-4",children:y.jsxs("button",{onClick:()=>i(l=>({...l,modals:{...l.modals,coverGallery:!0}})),className:"hover:bg-zinc-100 px-2 py-1 rounded flex items-center gap-1",children:[y.jsx(Yb,{size:12})," Aadir portada"]})}),y.jsx("div",{className:"text-7xl mb-4 group relative w-fit cursor-pointer",onClick:()=>i(l=>({...l,modals:{...l.modals,iconPickerModal:!0}})),children:n.icon||y.jsx(as,{size:64,className:"text-zinc-200"})}),y.jsx(hn,{tagName:"h1",html:n.title,className:"text-4xl font-bold text-zinc-900 placeholder:text-zinc-300 mb-8 outline-none break-words",placeholder:"Ttulo de la pgina",onChange:l=>a.updatePage(e,{title:l})})]}),y.jsxs("div",{className:"space-y-1",children:[n.blocks.map((l,u)=>y.jsx(GE,{block:l,index:u,actions:a},l.id)),y.jsxs("div",{className:"h-24 group flex items-center text-zinc-300 hover:text-zinc-400 cursor-text",onClick:()=>a.addBlock(n.blocks.length),children:[y.jsx(ka,{size:20,className:"mr-2 opacity-0 group-hover:opacity-100 transition-opacity"}),y.jsx("span",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:"Haz clic para aadir un bloque"})]})]})]}):y.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-zinc-400",children:[y.jsx("div",{className:"w-16 h-16 bg-zinc-100 rounded-full flex items-center justify-center mb-4",children:y.jsx(as,{size:32})}),y.jsx("p",{children:"Selecciona o crea una pgina"})]})}function QE({ui:n,setUi:e,searchQuery:r,setSearchQuery:i,searchFilters:a,setSearchFilters:l,filteredPages:u,actions:d}){return y.jsx(ds,{isOpen:n.modals.search,onClose:()=>e(h=>({...h,modals:{...h.modals,search:!1}})),title:"Buscar",children:y.jsxs("div",{className:"p-4",children:[y.jsxs("div",{className:"relative mb-4",children:[y.jsx(my,{className:"absolute left-3 top-2.5 text-zinc-400",size:18}),y.jsx("input",{type:"text",placeholder:"Buscar pginas...",className:"w-full pl-10 pr-4 py-2 bg-zinc-100 rounded-lg outline-none focus:ring-2 focus:ring-indigo-500/20",value:r,onChange:h=>i(h.target.value),autoFocus:!0})]}),y.jsxs("div",{className:"flex gap-2 mb-4 overflow-x-auto pb-2 no-scrollbar",children:[y.jsxs("button",{onClick:()=>l(h=>({...h,scope:h.scope==="all"?"current":"all"})),className:Ue("px-3 py-1 rounded-full text-xs border flex items-center gap-1 shrink-0",a.scope==="current"?"bg-indigo-50 border-indigo-200 text-indigo-700":"border-zinc-200 text-zinc-500"),children:[a.scope==="all"?y.jsx(Jb,{size:12}):y.jsx(as,{size:12}),a.scope==="all"?"Todo el workspace":"Pgina actual"]}),y.jsxs("button",{onClick:()=>l(h=>({...h,date:h.date==="any"?"week":h.date==="week"?"month":"any"})),className:Ue("px-3 py-1 rounded-full text-xs border flex items-center gap-1 shrink-0",a.date!=="any"?"bg-indigo-50 border-indigo-200 text-indigo-700":"border-zinc-200 text-zinc-500"),children:[y.jsx(Bb,{size:12}),a.date==="any"?"Cualquier fecha":a.date==="today"?"Hoy":a.date==="week"?"ltima semana":"ltimo mes"]}),y.jsxs("select",{value:a.sort,onChange:h=>l(p=>({...p,sort:h.target.value})),className:"px-3 py-1 rounded-full text-xs border border-zinc-200 text-zinc-500 bg-transparent outline-none shrink-0",children:[y.jsx("option",{value:"newest",children:"Ms recientes"}),y.jsx("option",{value:"oldest",children:"Ms antiguos"}),y.jsx("option",{value:"alpha",children:"A-Z"})]})]}),y.jsxs("div",{className:"space-y-1 max-h-[60vh] overflow-y-auto",children:[u.map(h=>y.jsxs("div",{onClick:()=>{d.setActivePageId(h.id),e(p=>({...p,modals:{...p.modals,search:!1}}))},className:"flex items-center gap-3 p-2 hover:bg-zinc-100 rounded-lg cursor-pointer",children:[y.jsx("div",{className:"w-8 h-8 flex items-center justify-center bg-white border border-zinc-200 rounded text-lg",children:h.icon||y.jsx(as,{size:14})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("div",{className:"font-medium truncate",children:h.title||"Sin ttulo"}),y.jsxs("div",{className:"text-xs text-zinc-400 flex items-center gap-2",children:[y.jsx("span",{children:h.workspaceName}),y.jsx("span",{children:""}),y.jsx("span",{children:Pa(new Date(h.updatedAt))})]})]})]},h.id)),u.length===0&&y.jsx("div",{className:"text-center text-zinc-400 py-8",children:"No se encontraron resultados"})]})]})})}function YE({ui:n,setUi:e,aiPrompt:r,setAiPrompt:i,isAiGenerating:a,setIsAiGenerating:l,actions:u,showNotify:d}){return y.jsx(ds,{isOpen:n.modals.ai,onClose:()=>e(h=>({...h,modals:{...h.modals,ai:!1}})),title:"Fixius AI",children:y.jsxs("div",{className:"p-6 text-center",children:[y.jsx("div",{className:"w-12 h-12 bg-indigo-100 text-indigo-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:y.jsx(td,{size:24})}),y.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Generar Pgina con IA"}),y.jsx("p",{className:"text-zinc-500 text-sm mb-6",children:"Describe qu tipo de pgina necesitas y la IA la crear por ti."}),y.jsx("textarea",{value:r,onChange:h=>i(h.target.value),className:"w-full p-3 bg-zinc-50 border border-zinc-200 rounded-lg mb-4 h-32 outline-none focus:border-indigo-500 resize-none",placeholder:"Ej: Plan de marketing para Q4..."}),y.jsxs("button",{onClick:()=>{const h=u.addPage({title:"Generando...",isGenerating:!0,icon:""});e(p=>({...p,modals:{...p.modals,ai:!1}})),l(!0),setTimeout(()=>{const p=[{id:De.generateId(),type:"h1",content:r||"Pgina Generada"},{id:De.generateId(),type:"p",content:"Esta pgina ha sido generada automticamente por Fixius AI basndose en tu descripcin."},{id:De.generateId(),type:"callout",content:`Prompt original: "${r}"`},{id:De.generateId(),type:"h2",content:"Contenido Sugerido"},{id:De.generateId(),type:"todo",content:"Revisar el contenido generado",checked:!1},{id:De.generateId(),type:"todo",content:"Personalizar los bloques",checked:!1},{id:De.generateId(),type:"quote",content:"La creatividad es la inteligencia divirtindose. - Albert Einstein"}];u.updatePage(h,{title:r?r.slice(0,20)+(r.length>20?"...":""):"Pgina Generada",isGenerating:!1,blocks:p,icon:""}),l(!1),d("Pgina generada con xito")},3e3)},disabled:!r.trim()||a,className:"w-full py-2 bg-zinc-900 text-white rounded-lg font-medium hover:bg-zinc-800 disabled:opacity-50 flex items-center justify-center gap-2",children:[a?y.jsx(Sa,{className:"animate-spin",size:18}):y.jsx(cS,{size:18}),a?"Generando...":"Generar Pgina"]})]})})}function XE({ui:n,setUi:e,workspaces:r,userProfile:i,activeWorkspaceId:a,actions:l,onLogout:u}){return n.modals.workspaceMenu?y.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-start",onClick:()=>e(d=>({...d,modals:{...d.modals,workspaceMenu:!1}})),children:y.jsxs("div",{className:"absolute top-14 left-4 w-72 bg-white border border-zinc-200 rounded-lg shadow-xl overflow-hidden",onClick:d=>d.stopPropagation(),children:[y.jsxs("div",{className:"p-2 border-b border-zinc-100",children:[y.jsxs("div",{className:"text-xs font-semibold text-zinc-500 px-2 py-1 mb-1",children:["Workspaces de ",i.email]}),r.filter(d=>d.email===i.email).map(d=>y.jsxs("div",{onClick:()=>{l.setActiveWorkspaceId(d.id),e(h=>({...h,modals:{...h.modals,workspaceMenu:!1}}))},className:"flex items-center justify-between px-2 py-1.5 hover:bg-zinc-100 rounded cursor-pointer group",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:`w-6 h-6 rounded flex items-center justify-center text-white text-xs font-bold ${d.id===a?"ring-2 ring-offset-1 ring-zinc-400":""}`,style:{background:d.color||"#666"},children:d.initial}),y.jsx("span",{className:`text-sm ${d.id===a?"font-medium text-zinc-900":"text-zinc-600"}`,children:d.name})]}),d.id===a&&y.jsx(ba,{size:14,className:"text-zinc-600"}),r.length>1&&d.id!==a&&y.jsx("button",{onClick:h=>{h.stopPropagation(),confirm(`Eliminar workspace "${d.name}"?`)&&l.removeWorkspace(d.id)},className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-red-100 text-red-500 rounded",children:y.jsx(Bn,{size:12})})]},d.id))]}),y.jsxs("div",{className:"p-2",children:[y.jsxs("div",{onClick:()=>e(d=>({...d,modals:{...d.modals,workspaceMenu:!1,createWorkspace:!0}})),className:"flex items-center gap-2 px-2 py-1.5 hover:bg-zinc-100 rounded cursor-pointer text-zinc-600 text-sm",children:[y.jsx(iS,{size:16})," ",y.jsx("span",{children:"Crear nuevo workspace"})]}),y.jsxs("div",{onClick:u,className:"flex items-center gap-2 px-2 py-1.5 hover:bg-zinc-100 rounded cursor-pointer text-zinc-600 text-sm border-t border-zinc-100 mt-1 pt-2",children:[y.jsx(fy,{size:16})," ",y.jsx("span",{children:"Cerrar sesin"})]})]})]})}):null}function ZE({ui:n,setUi:e,loadingMarket:r,marketData:i,themes:a,actions:l,showNotify:u}){return y.jsx(ds,{isOpen:n.modals.marketplace,onClose:()=>e(d=>({...d,modals:{...d.modals,marketplace:!1}})),title:"Marketplace",children:y.jsxs("div",{className:"flex flex-col h-[80vh]",children:[y.jsxs("div",{className:"p-4 border-b border-zinc-100 flex gap-4",children:[y.jsx("button",{onClick:()=>e(d=>({...d,marketTab:"themes"})),className:Ue("px-4 py-2 rounded-lg text-sm font-medium transition-colors",n.marketTab==="themes"?"bg-zinc-900 text-white":"text-zinc-500 hover:bg-zinc-100"),children:"Temas"}),y.jsx("button",{onClick:()=>e(d=>({...d,marketTab:"templates"})),className:Ue("px-4 py-2 rounded-lg text-sm font-medium transition-colors",n.marketTab==="templates"?"bg-zinc-900 text-white":"text-zinc-500 hover:bg-zinc-100"),children:"Plantillas"})]}),y.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:r?y.jsxs("div",{className:"flex items-center justify-center h-full text-zinc-400 gap-2",children:[y.jsx(Sa,{className:"animate-spin"})," Cargando marketplace..."]}):y.jsxs(y.Fragment,{children:[n.marketTab==="themes"&&y.jsx("div",{className:"grid grid-cols-2 gap-4",children:i.styles.map(d=>{const h=a.some(p=>p.id===d.id);return y.jsxs("div",{className:"border border-zinc-200 rounded-lg p-4 hover:shadow-md transition-shadow group",children:[y.jsxs("div",{className:"h-32 rounded-md mb-3 flex items-center justify-center text-4xl font-bold text-white shadow-inner relative overflow-hidden",style:{backgroundColor:d.colors?.bg||"#333",color:d.colors?.text||"#fff"},children:["Aa",h&&y.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center",children:y.jsx(ba,{size:32,className:"text-white"})})]}),y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsx("div",{className:"font-bold text-zinc-900",children:d.name}),y.jsxs("div",{className:"text-xs text-zinc-500",children:["Por ",d.author]})]}),h?y.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded font-medium",children:"Instalado"}):y.jsxs("button",{onClick:()=>{l.addTheme(d),u("Tema descargado")},className:"text-xs bg-zinc-900 text-white px-2 py-1 rounded hover:bg-black flex items-center gap-1",children:[y.jsx(Kb,{size:12})," Descargar"]})]})]},d.id)})}),n.marketTab==="templates"&&y.jsx("div",{className:"grid grid-cols-1 gap-4",children:i.templates?.map(d=>y.jsxs("div",{className:"border border-zinc-200 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer flex items-center gap-4",onClick:()=>{l.addPage({title:d.name,icon:d.icon,blocks:d.blocks}),e(h=>({...h,modals:{...h.modals,marketplace:!1}})),u("Plantilla aplicada")},children:[y.jsx("div",{className:"w-12 h-12 bg-zinc-100 rounded-lg flex items-center justify-center text-2xl",children:d.icon}),y.jsxs("div",{className:"flex-1",children:[y.jsx("div",{className:"font-bold text-zinc-900",children:d.name}),y.jsx("div",{className:"text-sm text-zinc-500",children:d.description})]}),y.jsx("button",{className:"px-3 py-1.5 bg-zinc-900 text-white text-xs rounded hover:bg-black",children:"Usar"})]},d.id))})]})})]})})}function ej({ui:n,setUi:e,newWorkspaceName:r,setNewWorkspaceName:i,actions:a}){return y.jsx(ds,{isOpen:n.modals.createWorkspace,onClose:()=>e(l=>({...l,modals:{...l.modals,createWorkspace:!1}})),title:"Crear Workspace",children:y.jsxs("div",{className:"p-4",children:[y.jsx("input",{autoFocus:!0,value:r,onChange:l=>i(l.target.value),placeholder:"Nombre del espacio de trabajo",className:"w-full p-2 border border-zinc-200 rounded mb-4 outline-none focus:border-black"}),y.jsxs("div",{className:"flex justify-end gap-2",children:[y.jsx("button",{onClick:()=>e(l=>({...l,modals:{...l.modals,createWorkspace:!1}})),className:"px-4 py-2 text-zinc-500 hover:bg-zinc-100 rounded",children:"Cancelar"}),y.jsx("button",{onClick:()=>{r.trim()&&(a.addWorkspace(r),i(""),e(l=>({...l,modals:{...l.modals,createWorkspace:!1}})))},disabled:!r.trim(),className:"px-4 py-2 bg-zinc-900 text-white rounded hover:bg-zinc-800 disabled:opacity-50",children:"Crear"})]})]})})}function tj({ui:n,setUi:e,actions:r,activePageId:i}){return y.jsx(ds,{isOpen:n.modals.iconPickerModal,onClose:()=>e(a=>({...a,modals:{...a.modals,iconPickerModal:!1}})),title:"Elegir Icono",children:y.jsx("div",{className:"p-4",children:y.jsx("div",{className:"grid grid-cols-8 gap-2",children:$2.map(a=>y.jsx("button",{onClick:()=>{r.updatePage(i,{icon:a}),e(l=>({...l,modals:{...l.modals,iconPickerModal:!1}}))},className:"w-8 h-8 flex items-center justify-center hover:bg-zinc-100 rounded text-xl",children:a},a))})})})}function nj({ui:n,setUi:e,actions:r,activePageId:i}){return y.jsx(ds,{isOpen:n.modals.coverGallery,onClose:()=>e(a=>({...a,modals:{...a.modals,coverGallery:!1}})),title:"Galera de Portadas",children:y.jsx("div",{className:"p-4",children:y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[B2.map(a=>y.jsx("div",{onClick:()=>{r.updatePage(i,{cover:a.color}),e(l=>({...l,modals:{...l.modals,coverGallery:!1}}))},className:"h-24 rounded-lg cursor-pointer hover:opacity-90 transition-opacity",style:{background:a.color}},a.id)),U2.map((a,l)=>y.jsx("div",{onClick:()=>{r.updatePage(i,{cover:a}),e(u=>({...u,modals:{...u.modals,coverGallery:!1}}))},className:"h-24 rounded-lg cursor-pointer hover:opacity-90 transition-opacity bg-cover bg-center",style:{backgroundImage:`url(${a})`}},l))]})})})}function rj({ui:n,setUi:e,activePage:r,activePageId:i,activeWorkspace:a,activeWorkspaceId:l,userProfile:u,actions:d,showNotify:h}){return n.modals.pageOptions?y.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-end pr-4 pt-12",onClick:()=>e(p=>({...p,modals:{...p.modals,pageOptions:!1}})),children:y.jsx("div",{className:"bg-white border border-zinc-200 rounded-lg shadow-xl w-64 overflow-hidden text-zinc-700",onClick:p=>p.stopPropagation(),children:n.currentView==="page"&&r?y.jsxs("div",{className:"py-1",children:[y.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-zinc-400 uppercase tracking-wider",children:"Estilo"}),y.jsxs("div",{className:"px-2 pb-2 flex gap-1",children:[y.jsx("button",{className:"flex-1 py-1.5 border border-zinc-200 rounded hover:bg-zinc-50 text-xs font-sans",children:"Default"}),y.jsx("button",{className:"flex-1 py-1.5 border border-zinc-200 rounded hover:bg-zinc-50 text-xs font-serif",children:"Serif"}),y.jsx("button",{className:"flex-1 py-1.5 border border-zinc-200 rounded hover:bg-zinc-50 text-xs font-mono",children:"Mono"})]}),y.jsx("div",{className:"h-px bg-zinc-100 my-1"}),y.jsxs("div",{className:"px-3 py-2 flex items-center justify-between hover:bg-zinc-50 cursor-pointer",children:[y.jsx("span",{className:"text-sm",children:"Texto pequeo"}),y.jsx("div",{className:"w-8 h-4 bg-zinc-200 rounded-full relative",children:y.jsx("div",{className:"w-3 h-3 bg-white rounded-full absolute top-0.5 left-0.5 shadow-sm"})})]}),y.jsxs("div",{className:"px-3 py-2 flex items-center justify-between hover:bg-zinc-50 cursor-pointer",children:[y.jsx("span",{className:"text-sm",children:"Ancho completo"}),y.jsx("div",{className:"w-8 h-4 bg-zinc-200 rounded-full relative",children:y.jsx("div",{className:"w-3 h-3 bg-white rounded-full absolute top-0.5 left-0.5 shadow-sm"})})]}),y.jsx("div",{className:"h-px bg-zinc-100 my-1"}),y.jsxs("button",{onClick:()=>{d.updatePage(i,{isFavorite:!r.isFavorite}),e(p=>({...p,modals:{...p.modals,pageOptions:!1}}))},className:"w-full text-left px-3 py-2 text-sm hover:bg-zinc-50 flex items-center gap-2",children:[y.jsx(lS,{size:16,fill:r.isFavorite?"currentColor":"none",className:r.isFavorite?"text-yellow-400":"text-zinc-400"}),r.isFavorite?"Quitar de favoritos":"Aadir a favoritos"]}),y.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(window.location.href),e(p=>({...p,modals:{...p.modals,pageOptions:!1}})),h("Enlace copiado")},className:"w-full text-left px-3 py-2 text-sm hover:bg-zinc-50 flex items-center gap-2",children:[y.jsx(Zb,{size:16,className:"text-zinc-400"})," Copiar enlace"]}),y.jsx("div",{className:"h-px bg-zinc-100 my-1"}),y.jsxs("button",{onClick:()=>{confirm("Eliminar pgina?")&&(d.deletePage(i),e(p=>({...p,modals:{...p.modals,pageOptions:!1}})))},className:"w-full text-left px-3 py-2 text-sm hover:bg-red-50 text-red-500 flex items-center gap-2",children:[y.jsx(Bn,{size:16})," Eliminar pgina"]})]}):y.jsxs("div",{className:"py-1",children:[y.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-zinc-400 uppercase tracking-wider",children:"Espacio de trabajo"}),y.jsxs("div",{className:"px-3 py-2 text-sm text-zinc-600",children:[y.jsx("div",{className:"font-medium text-zinc-900 mb-1",children:a?.name}),y.jsx("div",{className:"text-xs",children:u.email})]}),y.jsx("div",{className:"h-px bg-zinc-100 my-1"}),y.jsxs("button",{onClick:()=>{confirm("Ests seguro de que quieres eliminar este espacio de trabajo permanentemente?")&&(d.removeWorkspace(l),e(p=>({...p,modals:{...p.modals,pageOptions:!1}})))},className:"w-full text-left px-3 py-2 text-sm hover:bg-red-50 text-red-500 flex items-center gap-2",children:[y.jsx(Bn,{size:16})," Eliminar workspace"]})]})})}):null}function sj({session:n,onLogout:e}){const{workspaces:r,userProfile:i,activeWorkspace:a,activeWorkspaceId:l,activePage:u,activePageId:d,themes:h,activeThemeId:p,activeFontId:g,actions:v}=F2(),[_,x]=L.useState({sidebarOpen:!0,currentView:"home",settingsSection:"account",modals:{search:!1,market:!1,ai:!1,workspaceMenu:!1,iconPicker:!1,iconPickerModal:!1,coverGallery:!1,pageOptions:!1,createWorkspace:!1,googleLogin:!1},marketTab:"gallery",marketSubTab:"store",iconPickerTab:"emoji",notification:{show:!1,message:""},isAuthenticated:!0,favoritesOpen:!0,pagesOpen:!0}),[S,k]=L.useState(!1),[j,I]=L.useState(""),[A,C]=L.useState({scope:"all",sort:"newest",date:"any"}),[z,D]=L.useState(""),[M,$]=L.useState(!1),[W,ee]=L.useState({styles:[],fonts:[],covers:[]}),[je,qe]=L.useState(!1),[xe,ke]=L.useState(""),[fe,Ae]=L.useState({isOpen:!1,pageId:null,x:0,y:0}),[me,ve]=L.useState(window.innerWidth<768);L.useEffect(()=>{const J=()=>{const Y=window.innerWidth<768;ve(Y),Y&&_.sidebarOpen&&x(le=>({...le,sidebarOpen:!1}))};return window.addEventListener("resize",J),()=>window.removeEventListener("resize",J)},[_.sidebarOpen]),L.useEffect(()=>{if(n?.user){const J=n.user.email;if(vi.restoreBackup(J)&&v.internalSetters)try{const le=JSON.parse(localStorage.getItem("notion_v82_ws")),ne=JSON.parse(localStorage.getItem("notion_v82_themes")),he=JSON.parse(localStorage.getItem("notion_v82_fonts")),ye=JSON.parse(localStorage.getItem("notion_v82_active_id")),be=JSON.parse(localStorage.getItem("notion_v82_active_theme"));le&&v.internalSetters.setWorkspaces(le),ne&&v.internalSetters.setThemes(ne),he&&v.internalSetters.setFonts(he),ye&&v.internalSetters.setActiveWorkspaceId(ye),be&&v.internalSetters.setActiveThemeId(be),te("Sesin restaurada correctamente")}catch(le){console.error("Error restoring backup:",le),te("Error al restaurar la copia de seguridad")}}},[n,v.internalSetters]);const q=async()=>{qe(!0);try{await De.delay(800);const J=[{name:"medieval-theme.css",url:"/stylessApp/medieval-theme.css",type:"css"},{name:"gaming-theme.css",url:"/stylessApp/gaming-theme.css",type:"css"},{name:"rock-metal-theme.css",url:"/stylessApp/rock-metal-theme.css",type:"css"}],Y=[{id:"tpl-1",name:"Plan de Marketing",description:"Estrategia completa para Q4",icon:"",blocks:[{type:"h1",content:"Plan de Marketing"},{type:"todo",content:"Definir KPIs"}]},{id:"tpl-2",name:"Roadmap de Producto",description:"Planificacin trimestral",icon:"",blocks:[{type:"h1",content:"Roadmap"},{type:"h2",content:"Q1 Goals"}]},{id:"tpl-3",name:"Diario Personal",description:"Reflexiones y gratitud",icon:"",blocks:[{type:"h1",content:"Diario"},{type:"quote",content:"Querido diario..."}]},{id:"tpl-4",name:"Meeting Notes",description:"Plantilla para reuniones",icon:"",blocks:[{type:"h1",content:"Reunin de Equipo"},{type:"h3",content:"Asistentes"}]}],le=J.map(ne=>{const he=ne.name.replace(".css","");return{id:he,name:he.charAt(0).toUpperCase()+he.slice(1).replace("-theme","").replace("-"," "),author:"Fixius50",type:"css",url:ne.url,colors:he.includes("medieval")?{bg:"#f3e8c8",text:"#1a0f08",sidebar:"#26160c"}:he.includes("gaming")?{bg:"#09090b",text:"#ffffff",sidebar:"#000000"}:he.includes("rock")?{bg:"#1c1c1c",text:"#e0e0e0",sidebar:"#111111"}:{bg:"#ffffff",text:"#000000",sidebar:"#f0f0f0"}}});ee({styles:le,templates:Y,fonts:[],covers:["https://images.unsplash.com/photo-1497436072909-60f360e1d4b0?w=600"]})}catch{ee({styles:[],templates:[],fonts:[],covers:[]})}finally{qe(!1)}},te=J=>{x(Y=>({...Y,notification:{show:!0,message:J}})),setTimeout(()=>x(Y=>({...Y,notification:{show:!1,message:""}})),3e3)},K=()=>x(J=>({...J,sidebarOpen:!J.sidebarOpen})),T=L.useMemo(()=>{let J=[];A.scope==="all"?r.forEach(ne=>ne.pages.forEach(he=>{he.isDeleted||J.push({...he,workspaceName:ne.name,workspaceId:ne.id})})):a&&a.pages.forEach(ne=>{ne.isDeleted||J.push({...ne,workspaceName:a.name,workspaceId:a.id})});let Y=J;j.trim()&&(Y=Y.filter(ne=>ne.title.toLowerCase().includes(j.toLowerCase())));const le=new Date;return A.date==="today"?Y=Y.filter(ne=>new Date(ne.updatedAt)>=new Date(le.setHours(0,0,0,0))):A.date==="week"?Y=Y.filter(ne=>new Date(ne.updatedAt)>=new Date(le.setDate(le.getDate()-7))):A.date==="month"&&(Y=Y.filter(ne=>new Date(ne.updatedAt)>=new Date(le.setMonth(le.getMonth()-1)))),Y.sort((ne,he)=>A.sort==="newest"?new Date(he.updatedAt)-new Date(ne.updatedAt):A.sort==="oldest"?new Date(ne.updatedAt)-new Date(he.updatedAt):ne.title.localeCompare(he.title)),Y},[j,a,r,A]),V=(J,Y)=>{Y.preventDefault(),Ae({isOpen:!0,pageId:J,x:Y.clientX,y:Y.clientY})};return L.useEffect(()=>{const J=()=>Ae({...fe,isOpen:!1});return window.addEventListener("click",J),()=>window.removeEventListener("click",J)},[fe]),y.jsxs("div",{className:"flex h-screen w-full overflow-hidden bg-[var(--bg-color)] text-[var(--text-color)]",style:{fontFamily:"var(--font-main)"},children:[y.jsx(H2,{ui:_,setUi:x,activeWorkspace:a,activeWorkspaceId:l,activePageId:d,actions:v,userProfile:i,workspaces:r,handleContextMenu:V}),y.jsxs("main",{className:"flex-1 h-full relative flex flex-col min-w-0 bg-[var(--bg-color)]",children:[y.jsxs("header",{className:"h-12 shrink-0 flex items-center justify-between px-3 border-b border-zinc-100 bg-[var(--bg-color)]/80 backdrop-blur-sm sticky top-0 z-30",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[!_.sidebarOpen&&y.jsx("button",{onClick:K,className:"p-1 hover:bg-zinc-100 rounded text-zinc-500",children:y.jsx(tS,{size:18})}),y.jsxs("div",{className:"flex items-center gap-1 text-sm text-zinc-600",children:[y.jsx("span",{children:u?.icon}),y.jsx("span",{className:"font-medium truncate max-w-[200px]",children:u?.title||"Sin ttulo"})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>k(!S),className:Ue("p-1 rounded text-zinc-400 hover:text-zinc-600 hover:bg-zinc-100",S&&"text-zinc-600 bg-zinc-100"),children:y.jsx(nS,{size:18})}),y.jsx("button",{onClick:()=>x(J=>({...J,modals:{...J.modals,pageOptions:!0}})),className:"p-1 rounded text-zinc-400 hover:text-zinc-600 hover:bg-zinc-100",children:y.jsx(py,{size:18})})]})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto fancy-scroll relative",children:[_.currentView==="home"&&y.jsx(UE,{activeWorkspace:a,actions:v,setUi:x,userProfile:i}),_.currentView==="inbox"&&y.jsx(FE,{activeWorkspace:a,actions:v}),_.currentView==="trash"&&y.jsx(WE,{activeWorkspace:a,actions:v,showNotify:te}),_.currentView==="settings"&&y.jsx(HE,{ui:_,setUi:x,userProfile:i,actions:v,themes:h,activeThemeId:p,activeFontId:g,fetchMarketData:q}),_.currentView==="page"&&y.jsx(JE,{activePage:u,activePageId:d,ui:_,setUi:x,actions:v})]})]}),y.jsx(Zc,{children:_.notification.show&&y.jsxs(Lt.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-4 right-4 bg-zinc-900 text-white px-4 py-2 rounded-lg shadow-lg text-sm z-[100] flex items-center gap-2",children:[y.jsx(ba,{size:14,className:"text-green-400"}),_.notification.message]})}),fe.isOpen&&y.jsx("div",{className:"fixed z-[100] bg-zinc-800 border border-zinc-700 rounded-lg shadow-xl py-1 w-56 text-zinc-200 overflow-hidden",style:{top:fe.y,left:fe.x}}),fe.isOpen&&y.jsx("div",{className:"fixed z-[100] bg-zinc-800 border border-zinc-700 rounded-lg shadow-xl py-1 w-56 text-zinc-200 overflow-hidden",style:{top:fe.y,left:fe.x}}),y.jsx(QE,{ui:_,setUi:x,searchQuery:j,setSearchQuery:I,searchFilters:A,setSearchFilters:C,filteredPages:T,actions:v}),y.jsx(YE,{ui:_,setUi:x,aiPrompt:z,setAiPrompt:D,isAiGenerating:M,setIsAiGenerating:$,actions:v,showNotify:te}),y.jsx(XE,{ui:_,setUi:x,workspaces:r,userProfile:i,activeWorkspaceId:l,actions:v,onLogout:e}),y.jsx(ZE,{ui:_,setUi:x,loadingMarket:je,marketData:W,themes:h,actions:v,showNotify:te}),y.jsx(ej,{ui:_,setUi:x,newWorkspaceName:xe,setNewWorkspaceName:ke,actions:v}),y.jsx(tj,{ui:_,setUi:x,actions:v,activePageId:d}),y.jsx(nj,{ui:_,setUi:x,actions:v,activePageId:d}),y.jsx(rj,{ui:_,setUi:x,activePage:u,activePageId:d,activeWorkspace:a,activeWorkspaceId:l,userProfile:i,actions:v,showNotify:te})]})}function ij(){const[n,e]=L.useState(null),[r,i]=L.useState(!0);L.useEffect(()=>{(async()=>{if(zt){const{data:{session:d}}=await zt.auth.getSession();e(d);const{data:{subscription:h}}=zt.auth.onAuthStateChange((p,g)=>{e(g)});return i(!1),()=>h.unsubscribe()}else{const d=localStorage.getItem("notion_mock_user");d&&e({user:JSON.parse(d)}),i(!1)}})()},[]);const a=u=>{e({user:u})},l=async()=>{await ci.logout(),e(null)};return r?y.jsx("div",{className:"flex items-center justify-center h-screen",children:y.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-zinc-900"})}):n?y.jsx(sj,{session:n,onLogout:l}):y.jsx(W2,{onLoginSuccess:a})}class oj extends ha.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,r){this.setState({error:e,errorInfo:r}),console.error("Uncaught error:",e,r)}render(){return this.state.hasError?y.jsxs("div",{style:{padding:"20px",color:"red",fontFamily:"monospace"},children:[y.jsx("h1",{children:"Something went wrong."}),y.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),y.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}):this.props.children}}xw.createRoot(document.getElementById("root")).render(y.jsx(ha.StrictMode,{children:y.jsx(oj,{children:y.jsx(ij,{})})}));
