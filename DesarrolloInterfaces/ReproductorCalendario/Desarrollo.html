<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Proyecto de Reproductor Local Multimedia con Calendario - por Roberto Monedero Alonso" />
  <title>Reproductor Local Multimedia con Calendario</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- ================== HEADER ================== -->
  <header>
    <div class="container">
      <h1>üéß Reproductor Local Multimedia con Calendario</h1>
      <br>
      <p class="author">Autor: Roberto Monedero Alonso</p>
    </div>
  </header>

  <!-- ================== NAVIGATION ================== -->
  <nav>
    <ul>
      <li><a href="#introduccion">Introducci√≥n</a></li>
      <li><a href="#tecnologias">Tecnolog√≠as</a></li>
      <li><a href="#proceso">Proceso de desarrollo</a></li>
    </ul>
  </nav>

  <!-- ================== INTRODUCCI√ìN ================== -->
  <section id="introduccion" class="section">
    <div class="container">
      <h2>Introducci√≥n</h2>
      <p>
        Este proyecto consiste en el desarrollo de un <strong>reproductor multimedia local</strong> que permita gestionar y reproducir m√∫sica desde el propio navegador, 
        acompa√±ado de un <strong>calendario interactivo</strong> para organizar eventos musicales o recordatorios personales.
      </p>
      <p>
        El objetivo de esta web es documentar cada paso del desarrollo, desde la idea inicial hasta la implementaci√≥n final, 
        explicando qu√© tecnolog√≠as se han utilizado y por qu√©.
      </p>
    </div>
  </section>

  <!-- ================== TECNOLOG√çAS ================== -->
  <section id="tecnologias" class="section dark">
    <div class="container">
      <h2>Tecnolog√≠as utilizadas</h2>
      <div class="tech-grid">
        <div class="tech-card">
          <h3>HTML5</h3>
          <p>Estructura sem√°ntica de la p√°gina, incluyendo el uso de <code>&lt;svg&gt;</code> para gr√°ficos din√°micos.</p>
        </div>
        <div class="tech-card">
          <h3>CSS3</h3>
          <p>Dise√±o moderno y adaptable (responsive) usando Flexbox, Grid, variables CSS (Custom Properties) para temas, y animaciones <code>transition</code> y <code>transform</code>.</p>
        </div>
        <div class="tech-card">
          <h3>JavaScript (ES6+)</h3>
          <p>Toda la l√≥gica de la aplicaci√≥n, manipulaci√≥n del DOM, gesti√≥n de eventos y estado, y renderizado de componentes sin frameworks.</p>
        </div>
      </div>
    </div>
    <br>
    <div class="container">
        <div class="tech-grid">
            <div class="tech-card">
                <h3>IndexedDB</h3>
                <p>Utilizado como base de datos del navegador para almacenar de forma persistente la biblioteca de sonidos, tareas, ajustes y estad√≠sticas de escucha.</p>
            </div>
            <div class="tech-card">
                <h3>Howler.js</h3>
                <p>Librer√≠a de audio para una reproducci√≥n de sonido fiable, gesti√≥n de la pausa, reproducci√≥n, bucles y control de volumen.</p>
            </div>
            <div class="tech-card">
                <h3>Day.js</h3>
                <p>Librer√≠a ligera para la manipulaci√≥n y el formato de fechas, usada para construir el calendario y el selector de meses.</p>
            </div>
        </div>
    </div>
    <br>
    <div class="container">
      <div class="tech-grid">
        <div class="tech-card">
          <h3>Google Gemini PRO</h3>
          <p>Dise√±o y previsualizaci√≥n del contendio y desarrollo de previos prototipos.</p>
        </div>
        <div class="tech-card">
          <h3>Perplexity AI PRO</h3>
          <p>Retoques y detallado para la resoluci√≥n y finalizaci√≥n del trabajo.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- ================== PROCESO ================== -->
  <section id="proceso" class="section">
    <div class="container" id="contenido">
      <h2>Proceso de desarrollo</h2>

      <!-- Contenido de documentaci√≥n redise√±ado -->
      <ol class="step-list">

        <li class="step">
          <div class="step-text">
            <h3>Paso 1: Navegaci√≥n por Men√∫ Desplegable</h3>
            <p>Se implement√≥ la navegaci√≥n principal como una Aplicaci√≥n de P√°gina √önica (SPA). Se a√±adi√≥ un bot√≥n "hamburguesa" (<code>#menu-toggle-btn</code>) fijo en la esquina superior izquierda. Al hacer clic, este bot√≥n utiliza JavaScript para mostrar u ocultar el panel de navegaci√≥n (<code>#sidebar-nav</code>) y un fondo superpuesto (<code>#menu-overlay</code>). El panel de navegaci√≥n aparece desde debajo del bot√≥n con una animaci√≥n de fundido y traslaci√≥n.</p>
          </div>
          <div class="step-image">
            <p>[IMAGEN AQU√ç: C√≥digo CSS de #sidebar-nav, .open, y el HTML del #menu-toggle-btn]</p>
          </div>
        </li>

        <li class="step">
          <div class="step-text">
            <h3>Paso 2: Almacenamiento Persistente con IndexedDB</h3>
            <p>Para guardar los datos del usuario (m√∫sica, tareas, ajustes) de forma permanente en el navegador, se utiliz√≥ IndexedDB. La funci√≥n <code>initDB</code> se encarga de crear la base de datos y los "almacenes" (object stores) necesarios: <code>sounds</code>, <code>tasks</code>, <code>settings</code> y <code>listeningLog</code>.</p>
          </div>
          <div class="step-image">
            <p>[IMAGEN AQU√ç: C√≥digo de la funci√≥n initDB() mostrando la creaci√≥n de los object stores]</p>
          </div>
        </li>
        
        <li class="step">
          <div class="step-text">
            <h3>Paso 3: Biblioteca de Sonidos y Placeholders</h3>
            <p>Se desarroll√≥ la pesta√±a "M√∫sica". La funci√≥n <code>handleFileSelection</code> permite subir audios, que se guardan en IndexedDB usando <code>saveSoundToDB</code>. Al crear el sonido, los campos <code>artist</code> y <code>genre</code> se guardan como <code>''</code> (cadenas vac√≠as). Luego, <code>renderLibraryModalContent</code> usa el atributo <code>placeholder</code> de HTML para mostrar "Artista" y "G√©nero" como "letras fantasma" en los campos vac√≠os.</p>
          </div>
          <div class="step-image">
            <p>[IMAGEN AQU√ç: C√≥digo de saveSoundToDB() y renderLibraryModalContent() mostrando los placeholders]</p>
          </div>
        </li>

        <li class="step">
          <div class="step-text">
            <h3>Paso 4: Calendario Avanzado y Tareas</h3>
            <p>El calendario se hizo interactivo. Al hacer clic en el t√≠tulo del mes (<code>#month-year-display</code>), <code>toggleCalendarView</code> cambia a la vista <code>renderMonthSelector</code>. Al hacer clic en un d√≠a, <code>openDayModal</code> permite a√±adir tareas. Las nuevas tareas se a√±aden din√°micamente al DOM sin recargar el modal. Cada tarea existente (<code>.task-item</code>) tiene su propio bot√≥n de adjuntar (<code>.attach-task-btn</code>) que asigna un sonido a esa tarea espec√≠fica.</p>
          </div>
          <div class="step-image">
            <p>[IMAGEN AQU√ç: C√≥digo de openDayModal() mostrando la creaci√≥n din√°mica de tareas y el bot√≥n .attach-task-btn]</p>
          </div>
        </li>

        <li class="step">
          <div class="step-text">
            <h3>Paso 5: Filtro de Tareas (Todas / Por D√≠a)</h3>
            <p>La pesta√±a "Tareas" se hizo din√°mica. Por defecto (<code>state.tasks.filterDate === null</code>), muestra todas las tareas (pasadas, presentes y futuras) agrupadas por d√≠a. Se a√±adieron controles (un <code>&lt;input type="date"&gt;</code> y un bot√≥n "Ver Todas") que permiten al usuario filtrar la vista para mostrar solo las tareas de un d√≠a espec√≠fico. La funci√≥n <code>renderTasks</code> comprueba este estado para decidir qu√© conjunto de tareas mostrar.</p>
          </div>
          <div class="step-image">
            <p>[IMAGEN AQU√ç: C√≥digo de la funci√≥n renderTasks() mostrando la l√≥gica de if (state.tasks.filterDate)]</p>
          </div>
        </li>

        <li class="step">
          <div class="step-text">
            <h3>Paso 6: Gr√°fica de Estad√≠sticas Din√°mica (Vanilla SVG)</h3>
            <p>Se cre√≥ una gr√°fica de curvas usando solo JavaScript y SVG, sin librer√≠as. La funci√≥n <code>renderStatsPage</code>:
            <br>1. Filtra los datos para mostrar solo d√≠as con tiempo de escucha (<code>seconds > 0</code>).
            <br>2. A√±ade din√°micamente el tiempo de la sesi√≥n actual (<code>state.sessionStartTime</code>) a los datos de "hoy".
            <br>3. Dibuja un <code>&lt;svg&gt;</code> con <code>&lt;polyline&gt;</code> (la curva) y <code>&lt;path&gt;</code> (el √°rea).
            <br>4. Dibuja un segmento de l√≠nea y √°rea separado, usando el color <code>--danger-color</code>, para resaltar la actividad del d√≠a de hoy.</p>
          </div>
          <div class="step-image">
            <p>[IMAGEN AQU√ç: C√≥digo de renderStatsPage() mostrando el filtro y la creaci√≥n del segmento de "hoy" (todaySegmentString)]</p>
          </div>
        </li>

        <li class="step">
          <div class="step-text">
            <h3>Paso 7: Personalizaci√≥n de Tema con Previsualizaci√≥n y Advertencia</h3>
            <p>El modal de "Ajustes" permite una previsualizaci√≥n din√°mica. Al cambiar el color o el modo, <code>applyThemePreview()</code> aplica los cambios visualmente sin guardar. Si el usuario intenta cerrar (<code>closeModal()</code>) tras hacer cambios (<code>state.modal.themeChangesMade === true</code>), se activa <code>openConfirmModal()</code>. Si descarta, <code>forceCloseModal()</code> revierte los cambios visuales volviendo a aplicar el tema guardado en <code>initialThemeSettings</code>.</p>
          </div>
          <div class="step-image">
            <p>[IMAGEN AQU√ç: C√≥digo de las funciones closeModal(), forceCloseModal() y applyThemePreview()]</p>
          </div>
        </li>
        
      </ol>
      <!-- FIN DEL CONTENIDO -->

    </div>
  </section>

  <!-- ================== FOOTER ================== -->
  <footer>
    <p>¬© 2025 Roberto Monedero Alonso ‚Äî Proyecto acad√©mico / personal</p>
  </footer>

  <script src="script.js"></script>
</body>
</html>