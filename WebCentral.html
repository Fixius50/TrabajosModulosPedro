<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roberto Monedero | La Gran Aventura</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Three.js for 3D D20 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=MedievalSharp&family=Lato:ital,wght@0,300;0,400;1,300&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --bg-parchment: #f0e6d2;
            --text-ink: #2b1d0e;
            --accent-gold: #c5a059;
            --accent-crimson: #630f0f;
            --leather: #4a3b2a;
        }

        body {
            font-family: 'MedievalSharp', cursive;
            background-color: #050505;
            color: var(--text-ink);
            overflow-x: hidden;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0;
            padding: 0;
        }

        /* Canvas Background */
        #bits-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
        }

        /* Fire Columns */
        .fire-column {
            position: fixed;
            top: 0;
            height: 100%;
            width: 80px;
            z-index: 5;
            background: linear-gradient(0deg,
                    rgba(255, 0, 0, 0.8) 0%,
                    rgba(255, 100, 0, 0.5) 40%,
                    rgba(255, 200, 0, 0.2) 70%,
                    transparent 100%);
            filter: blur(20px);
            opacity: 0.8;
            animation: fireFlicker 2s infinite alternate ease-in-out;
            pointer-events: none;
        }

        .fire-left {
            left: 0;
        }

        .fire-right {
            right: 0;
        }

        @keyframes fireFlicker {
            0% {
                transform: scaleX(1) scaleY(1);
                opacity: 0.7;
            }

            25% {
                transform: scaleX(1.1) scaleY(1.05);
                opacity: 0.8;
            }

            50% {
                transform: scaleX(0.9) scaleY(1.02);
                opacity: 0.6;
            }

            75% {
                transform: scaleX(1.15) scaleY(1.08);
                opacity: 0.9;
            }

            100% {
                transform: scaleX(1) scaleY(1);
                opacity: 0.7;
            }
        }

        /* Fuents */
        .font-header {
            font-family: 'Cinzel', serif;
        }

        .font-body {
            font-family: 'Lato', sans-serif;
        }

        .font-medieval {
            font-family: 'MedievalSharp', cursive;
        }

        /* Parchment Container */
        .parchment {
            background-color: var(--bg-parchment);
            background-image: url('https://www.transparenttextures.com/patterns/aged-paper.png');
            box-shadow: 0 0 50px rgba(0, 0, 0, 0.8), inset 0 0 100px rgba(74, 59, 42, 0.3);
            border-radius: 5px;
            position: relative;
            max-width: 1200px;
            width: 90%;
            margin: 2rem auto;
            border: 8px solid var(--leather);
            outline: 2px solid var(--accent-gold);
            outline-offset: -12px;
            z-index: 10;
            /* Above fire and bits */
        }

        .parchment::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            box-shadow: inset 0 0 60px rgba(0, 0, 0, 0.2);
            pointer-events: none;
            z-index: 1;
        }

        /* Navigation */
        .nav-ribbon {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            position: relative;
            z-index: 10;
        }

        .nav-btn {
            background: var(--accent-crimson);
            color: #f0e6d2;
            border: 2px solid var(--accent-gold);
            padding: 0.8rem 2rem;
            font-family: 'Cinzel', serif;
            font-weight: 700;
            text-transform: uppercase;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.5);
            transition: all 0.3s ease;
            position: relative;
            clip-path: polygon(10% 0, 100% 0, 90% 100%, 0% 100%);
        }

        .nav-btn:hover,
        .nav-btn.active {
            transform: translateY(-3px);
            background: #801515;
            box-shadow: 0 0 15px var(--accent-gold);
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        }

        /* Sections */
        .section-content {
            display: none;
            padding: 2rem;
            animation: fadeIn 0.5s ease-in-out;
        }

        .section-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Project Cards (Wanted Posters) */
        .quest-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
        }

        .wanted-poster {
            background: #e3dac1;
            padding: 1.5rem;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            text-align: center;
            border: 1px solid #cbb;
            transition: transform 0.3s;
            position: relative;
            overflow: hidden;
        }

        .wanted-poster::after {
            content: "MISI√ìN";
            position: absolute;
            top: 1rem;
            left: 50%;
            transform: translateX(-50%);
            font-family: 'Cinzel', serif;
            font-size: 2rem;
            font-weight: 900;
            color: #5a4a3a;
            opacity: 0.15;
            z-index: 0;
            letter-spacing: 0.5rem;
        }

        .wanted-poster:hover {
            transform: scale(1.02) rotate(1deg);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.4);
            z-index: 5;
        }

        .poster-img-container {
            width: 100%;
            height: 180px;
            background: #2b1d0e;
            margin-bottom: 1rem;
            border: 2px solid #5a4a3a;
            position: relative;
            z-index: 1;
        }

        .poster-img-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: sepia(0.6) contrast(1.2);
            transition: filter 0.3s;
        }

        .wanted-poster:hover img {
            filter: sepia(0) contrast(1);
        }

        .poster-title {
            font-family: 'Cinzel', serif;
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--accent-crimson);
            margin-bottom: 0.5rem;
            position: relative;
            z-index: 1;
        }

        .poster-desc {
            font-family: 'Lato', sans-serif;
            font-size: 0.95rem;
            color: #4a3b2a;
            margin-bottom: 1.5rem;
            line-height: 1.4;
            position: relative;
            z-index: 1;
        }

        .reward-btn {
            display: inline-block;
            padding: 0.5rem 1.5rem;
            border: 2px dashed var(--accent-crimson);
            color: var(--accent-crimson);
            font-weight: bold;
            text-decoration: none;
            font-family: 'Cinzel', serif;
            transition: all 0.3s;
            position: relative;
            z-index: 1;
        }

        .reward-btn:hover {
            background: var(--accent-crimson);
            color: #f0e6d2;
            border-style: solid;
        }

        /* Inventory (Skills) */
        .inventory-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 1rem;
        }

        .inventory-slot {
            background: rgba(0, 0, 0, 0.1);
            border: 2px inset rgba(0, 0, 0, 0.3);
            border-radius: 4px;
            padding: 1rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            cursor: help;
        }

        .inventory-slot:hover {
            background: rgba(197, 160, 89, 0.2);
            border-color: var(--accent-gold);
            transform: scale(1.05);
        }

        .skill-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        /* Character Sheet (Bio) */
        .char-sheet-grid {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 2rem;
        }

        @media (max-width: 768px) {
            .char-sheet-grid {
                grid-template-columns: 1fr;
            }
        }

        .stat-block {
            border: 2px solid var(--leather);
            padding: 1rem;
            border-radius: 5px;
            background: rgba(255, 255, 255, 0.3);
        }

        .stat-row {
            display: flex;
            justify-content: space-between;
            border-bottom: 1px dotted var(--leather);
            padding: 0.5rem 0;
            font-family: 'Cinzel', serif;
        }

        /* Fancy Header */
        header {
            text-align: center;
            padding: 3rem 1rem 1rem;
            position: relative;
        }

        h1 {
            font-size: 4rem;
            color: var(--accent-crimson);
            text-shadow: 2px 2px 0px var(--accent-gold);
            margin-bottom: 0.5rem;
        }

        .subtitle {
            font-size: 1.5rem;
            color: var(--leather);
            font-style: italic;
        }

        /* D20 Styles - Three.js Canvas */
        #d20-canvas {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            cursor: grab;
        }

        #d20-canvas:active {
            cursor: grabbing;
        }
    </style>
</head>

<body>

    <!-- Visual Effects -->
    <canvas id="bits-canvas"></canvas>
    <div class="fire-column fire-left"></div>
    <div class="fire-column fire-right"></div>

    <div class="parchment">
        <header>
            <h1 class="font-header">Roberto Monedero</h1>
            <p class="subtitle font-medieval">Art√≠fice Full Stack de Nivel 20</p>
            <div class="w-24 h-1 bg-yellow-600 mx-auto mt-4 rounded-full"></div>
        </header>

        <!-- Navigation Tabs -->
        <nav class="nav-ribbon">
            <button class="nav-btn active" onclick="switchTab('character')">Hoja de Personaje</button>
            <button class="nav-btn" onclick="switchTab('quests')">Tabl√≥n de Misiones</button>
            <button class="nav-btn" onclick="switchTab('inventory')">Inventario</button>
            <button class="nav-btn" onclick="switchTab('contact')">Enviar Cuervo</button>
        </nav>

        <!-- MAIN CONTENT AREA -->
        <main style="position: relative; z-index: 2;">

            <!-- SECTION: CHARACTER SHEET (BIO) -->
            <section id="character" class="section-content active">
                <div class="char-sheet-grid">
                    <div class="flex flex-col items-center">
                        <!-- D20 AVATAR - Three.js 3D -->
                        <div class="w-48 h-48 mb-6 flex items-center justify-center">
                            <canvas id="d20-canvas"></canvas>
                        </div>
                        <div class="stat-block w-full">
                            <div class="text-center font-bold font-header text-xl mb-2 text-red-900">Puntuaci√≥n de
                                Habilidad</div>
                            <div class="stat-row"><span>Logica (INT)</span> <span>18 (+4)</span></div>
                            <div class="stat-row"><span>Creatividad (CAR)</span> <span>17 (+3)</span></div>
                            <div class="stat-row"><span>Resistencia (CON)</span> <span>16 (+3)</span></div>
                            <div class="stat-row"><span>Velocidad (DES)</span> <span>14 (+2)</span></div>
                        </div>
                    </div>
                    <div>
                        <h2 class="text-4xl font-header mb-4 text-amber-900 border-b-2 border-amber-900 pb-2">Biograf√≠a
                        </h2>
                        <p class="mb-4 font-body text-lg leading-relaxed">
                            Saludos, viajero. Soy Roberto, un desarrollador forjando reinos digitales en la vasta
                            expansi√≥n de internet.
                            Mi viaje comenz√≥ en el humilde m√≥dulo de Desarrollo de Interfaces, donde aprend√≠ a tejer
                            c√≥digo en tapices visuales.
                        </p>
                        <p class="mb-4 font-body text-lg leading-relaxed">
                            Me especializo en crear experiencias inmersivas (como esta), luchando contra bugs en las
                            profundas mazmorras del backend,
                            y asegurando que cada p√≠xel sea colocado con la precisi√≥n de un arquero elfo.
                        </p>

                        <h3 class="text-2xl font-header mt-6 mb-2 text-amber-900">Rasgos de Clase</h3>
                        <ul class="list-disc pl-6 font-body space-y-2">
                            <li><strong>Tejido de C√≥digo Arcano:</strong> Competencia en hechizos HTML, CSS y JS.</li>
                            <li><strong>Multi-Clase:</strong> Adaptable a misiones de frontend, backend o full-stack.
                            </li>
                            <li><strong>Visi√≥n en la Oscuridad:</strong> Capaz de depurar en modo oscuro durante largas
                                horas.</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- SECTION: QUEST BOARD (PROJECTS) -->
            <section id="quests" class="section-content">
                <div class="text-center mb-8">
                    <h2 class="text-4xl font-header text-amber-900">Misiones Disponibles</h2>
                    <p class="font-medieval text-xl opacity-75">"Contratos completados y artefactos legendarios"</p>
                </div>

                <div class="quest-grid" id="project-container">
                    <!-- Projects injected via JS -->
                </div>
            </section>

            <!-- SECTION: INVENTORY (SKILLS & TECH) -->
            <section id="inventory" class="section-content">
                <div class="text-center mb-8">
                    <h2 class="text-4xl font-header text-amber-900">Grimorio del Art√≠fice</h2>
                    <p class="font-medieval text-xl opacity-75">"Compendio de tecnolog√≠as y arquitecturas dominadas"</p>
                </div>

                <div class="space-y-8">
                    <!-- CORE SPELLS (Languages) -->
                    <div>
                        <h3 class="font-header text-2xl border-b border-amber-900/30 mb-4 pb-1 text-red-900">Lenguas
                            Arcanas (Core)</h3>
                        <div class="inventory-grid">
                            <div class="inventory-slot" title="JavaScript (ES6+)">
                                <span class="skill-icon">‚ö°</span>
                                <span class="font-bold">JavaScript</span>
                                <span class="text-xs text-amber-800">El flujo de energ√≠a principal.</span>
                            </div>
                            <div class="inventory-slot" title="TypeScript">
                                <span class="skill-icon">üõ°Ô∏è</span>
                                <span class="font-bold">TypeScript</span>
                                <span class="text-xs text-amber-800">Armadura de tipado estricto.</span>
                            </div>
                            <div class="inventory-slot" title="HTML5 Semantic">
                                <span class="skill-icon">üìú</span>
                                <span class="font-bold">HTML5</span>
                                <span class="text-xs text-amber-800">La estructura de la realidad.</span>
                            </div>
                            <div class="inventory-slot" title="CSS3 Moderno">
                                <span class="skill-icon">üé®</span>
                                <span class="font-bold">CSS3</span>
                                <span class="text-xs text-amber-800">Ilusiones visuales avanzadas.</span>
                            </div>
                        </div>
                    </div>

                    <!-- ARTIFACTS (Frameworks & Libraries) -->
                    <div>
                        <h3 class="font-header text-2xl border-b border-amber-900/30 mb-4 pb-1 text-red-900">Artefactos
                            de Poder (Frontend)</h3>
                        <div class="inventory-grid">
                            <div class="inventory-slot" title="React 18/19">
                                <span class="skill-icon">‚öõÔ∏è</span>
                                <span class="font-bold">React</span>
                                <span class="text-xs text-amber-800">Motor de realidades reactivas.</span>
                            </div>
                            <div class="inventory-slot" title="Vite">
                                <span class="skill-icon">‚ö°</span>
                                <span class="font-bold">Vite</span>
                                <span class="text-xs text-amber-800">Conjuraci√≥n instant√°nea.</span>
                            </div>
                            <div class="inventory-slot" title="Tailwind CSS">
                                <span class="skill-icon">üçÉ</span>
                                <span class="font-bold">Tailwind</span>
                                <span class="text-xs text-amber-800">Estilizado de viento veloz.</span>
                            </div>
                            <div class="inventory-slot" title="Framer Motion">
                                <span class="skill-icon">‚ú®</span>
                                <span class="font-bold">Framer</span>
                                <span class="text-xs text-amber-800">Animaciones cin√©ticas.</span>
                            </div>
                            <div class="inventory-slot" title="PixiJS">
                                <span class="skill-icon">üßö</span>
                                <span class="font-bold">PixiJS</span>
                                <span class="text-xs text-amber-800">Renderizado de alto rendimiento.</span>
                            </div>
                            <div class="inventory-slot" title="Shadcn/UI & Radix">
                                <span class="skill-icon">üèóÔ∏è</span>
                                <span class="font-bold">Shadcn</span>
                                <span class="text-xs text-amber-800">Componentes forjados.</span>
                            </div>
                        </div>
                    </div>

                    <!-- BACKEND & DATA (Database) -->
                    <div>
                        <h3 class="font-header text-2xl border-b border-amber-900/30 mb-4 pb-1 text-red-900">B√≥vedas de
                            Conocimiento (Backend)</h3>
                        <div class="inventory-grid">
                            <div class="inventory-slot" title="Node.js">
                                <span class="skill-icon">üü¢</span>
                                <span class="font-bold">Node.js</span>
                                <span class="text-xs text-amber-800">Servidor r√∫nico.</span>
                            </div>
                            <div class="inventory-slot" title="Supabase">
                                <span class="skill-icon">üî•</span>
                                <span class="font-bold">Supabase</span>
                                <span class="text-xs text-amber-800">Base de datos en la nube.</span>
                            </div>
                            <div class="inventory-slot" title="Zustand">
                                <span class="skill-icon">ÔøΩ</span>
                                <span class="font-bold">Zustand</span>
                                <span class="text-xs text-amber-800">Gesti√≥n de estado mental.</span>
                            </div>
                            <div class="inventory-slot" title="TanStack Query">
                                <span class="skill-icon">üì°</span>
                                <span class="font-bold">Query</span>
                                <span class="text-xs text-amber-800">Sincronizaci√≥n remota.</span>
                            </div>
                        </div>
                    </div>

                    <!-- TOOLS (Utils) -->
                    <div>
                        <h3 class="font-header text-2xl border-b border-amber-900/30 mb-4 pb-1 text-red-900">
                            Herramientas de Gremio</h3>
                        <div class="inventory-grid">
                            <div class="inventory-slot" title="Eslint">
                                <span class="skill-icon">üîç</span>
                                <span class="font-bold">Eslint</span>
                            </div>
                            <div class="inventory-slot" title="PostCSS">
                                <span class="skill-icon">‚öóÔ∏è</span>
                                <span class="font-bold">PostCSS</span>
                            </div>
                            <div class="inventory-slot" title="Howler.js">
                                <span class="skill-icon">ÔøΩ</span>
                                <span class="font-bold">Howler</span>
                            </div>
                            <div class="inventory-slot" title="Day.js">
                                <span class="skill-icon">üìÖ</span>
                                <span class="font-bold">Day.js</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SECTION: CONTACT (SEND RAVEN) -->
            <section id="contact" class="section-content">
                <div class="max-w-xl mx-auto text-center">
                    <h2 class="text-4xl font-header text-amber-900 mb-2">Enviar un Cuervo</h2>
                    <p class="font-medieval text-xl mb-8">"Espero tu misiva en la pajarera."</p>

                    <form onsubmit="event.preventDefault(); alert('¬°Cuervo enviado! (Simulaci√≥n)');"
                        class="text-left space-y-4 bg-white/30 p-8 rounded border border-amber-900/20">
                        <div>
                            <label class="block font-header font-bold mb-1">Tu Nombre</label>
                            <input type="text"
                                class="w-full bg-[#f0ebdc] border border-[#8b7355] p-2 font-body focus:outline-none focus:border-red-800"
                                placeholder="Sir/Lady...">
                        </div>
                        <div>
                            <label class="block font-header font-bold mb-1">Asunto</label>
                            <input type="text"
                                class="w-full bg-[#f0ebdc] border border-[#8b7355] p-2 font-body focus:outline-none focus:border-red-800"
                                placeholder="Oferta de Misi√≥n...">
                        </div>
                        <div>
                            <label class="block font-header font-bold mb-1">Mensaje</label>
                            <textarea rows="4"
                                class="w-full bg-[#f0ebdc] border border-[#8b7355] p-2 font-body focus:outline-none focus:border-red-800"
                                placeholder="Escribe tu pergamino aqu√≠..."></textarea>
                        </div>
                        <button type="submit" class="w-full nav-btn mt-4">Despachar Cuervo</button>
                    </form>

                    <div class="mt-8 flex justify-center space-x-6 text-3xl text-amber-900">
                        <a href="#" class="hover:text-red-800 transition transform hover:scale-110">üìß</a>
                        <a href="#" class="hover:text-red-800 transition transform hover:scale-110">üíº</a>
                        <!-- LinkedIn icon placeholder -->
                        <a href="#" class="hover:text-red-800 transition transform hover:scale-110">üêô</a>
                        <!-- Github icon placeholder -->
                    </div>
                </div>
            </section>

            <footer class="text-center mt-12 pt-8 border-t border-amber-900/30 opacity-60 font-medieval">
                <p>&copy; 2024 Roberto Monedero. Forjado con magia y caf√©.</p>
            </footer>

        </main>
    </div>

    <script>
        // --- TRANSLATED PROJECT DATA ---
        const projects = [
            {
                name: "Cuenta Personas",
                type: "Herramienta",
                desc: "Un artefacto m√°gico para contar la poblaci√≥n del reino.",
                link: "./DesarrolloInterfaces/CuentaPersonas/index.html",
                img: "https://placehold.co/400x300/2b1d0e/c5a059?text=Contador"
            },
            {
                name: "Reloj Pomodoro",
                type: "Cronomancia",
                desc: "Un reloj de arena encantado para gestionar periodos de concentraci√≥n.",
                link: "./DesarrolloInterfaces/Pomodoro/index.html",
                img: "https://placehold.co/400x300/2b1d0e/c5a059?text=Tiempo"
            },
            {
                name: "Media y Calendario",
                type: "Utilidad",
                desc: "Un dispositivo dual para m√∫sica y seguimiento temporal.",
                link: "./DesarrolloInterfaces/ReproductorCalendario/App/index.html",
                img: "https://placehold.co/400x300/2b1d0e/c5a059?text=Media"
            },
            {
                name: "Gu√≠a del Pueblo",
                type: "Cartograf√≠a",
                desc: "Un tomo completo detallando el asentamiento local.",
                link: "./DesarrolloInterfaces/GuiaPueblo/App/index.html",
                img: "https://placehold.co/400x300/2b1d0e/c5a059?text=Guia"
            },
            {
                name: "Clon de App",
                type: "Doppelganger",
                desc: "Una r√©plica perfecta de un constructo digital existente.",
                link: "./DesarrolloInterfaces/ClonApp/App/index.html",
                img: "https://placehold.co/400x300/2b1d0e/c5a059?text=Clon"
            },
            {
                name: "Multi-Docs",
                type: "Archivo",
                desc: "Una interfaz de biblioteca para organizar pergaminos y conocimiento.",
                link: "./DesarrolloInterfaces/MultiDocumentacion/App/index.html",
                img: "https://placehold.co/400x300/2b1d0e/c5a059?text=Libreria"
            },
            {
                name: "Novela Gr√°fica",
                type: "Literatura",
                desc: "Un libro de historias visual e interactivo para bardos.",
                link: "./DesarrolloInterfaces/NovelaGraficaApp/index.html",
                img: "https://placehold.co/400x300/2b1d0e/c5a059?text=Novela"
            },
        ];

        // RENDER PROJECTS
        const projectContainer = document.getElementById('project-container');

        projects.forEach(p => {
            const card = document.createElement('div');
            card.className = 'wanted-poster';
            card.innerHTML = `
                <div class="poster-img-container">
                    <img src="${p.img}" alt="${p.name}">
                </div>
                <h3 class="poster-title">${p.name}</h3>
                <div class="text-xs font-bold font-header text-amber-700 uppercase mb-2 tracking-widest">${p.type}</div>
                <p class="poster-desc">${p.desc}</p>
                <a href="${p.link}" class="reward-btn" target="_blank">INSPECCIONAR</a>
            `;
            projectContainer.appendChild(card);
        });

        // NAVIGATION LOGIC
        function switchTab(tabId) {
            document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));

            const clickedBtn = Array.from(document.querySelectorAll('.nav-btn')).find(b => b.getAttribute('onclick').includes(tabId));
            if (clickedBtn) clickedBtn.classList.add('active');

            document.querySelectorAll('.section-content').forEach(el => el.classList.remove('active'));

            const target = document.getElementById(tabId);
            if (target) target.classList.add('active');
        }

        // --- THREE.JS D20 ---
        (function initD20() {
            const canvas = document.getElementById('d20-canvas');
            if (!canvas) return;

            // Scene setup
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(50, 1, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ canvas: canvas, alpha: true, antialias: true });
            renderer.setSize(180, 180);
            renderer.setPixelRatio(window.devicePixelRatio);

            // Function to create a canvas texture with a number
            function createFaceTexture(number) {
                const size = 256;
                const faceCanvas = document.createElement('canvas');
                faceCanvas.width = size;
                faceCanvas.height = size;
                const ctx = faceCanvas.getContext('2d');

                // Background gradient (dark red)
                const gradient = ctx.createLinearGradient(0, 0, size, size);
                gradient.addColorStop(0, '#a00020');
                gradient.addColorStop(1, '#600010');
                ctx.fillStyle = gradient;
                ctx.fillRect(0, 0, size, size);

                // Gold number
                ctx.fillStyle = '#FFD700';
                ctx.font = 'bold 120px Cinzel, serif';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.shadowColor = 'black';
                ctx.shadowBlur = 8;
                ctx.shadowOffsetX = 3;
                ctx.shadowOffsetY = 3;
                ctx.fillText(number.toString(), size / 2, size / 2);

                const texture = new THREE.CanvasTexture(faceCanvas);
                texture.needsUpdate = true;
                return texture;
            }

            // Create materials for each face (1-20)
            const faceMaterials = [];
            for (let i = 1; i <= 20; i++) {
                faceMaterials.push(new THREE.MeshStandardMaterial({
                    map: createFaceTexture(i),
                    roughness: 0.5,
                    metalness: 0.3,
                    flatShading: true
                }));
            }

            // Icosahedron geometry (D20)
            const geometry = new THREE.IcosahedronGeometry(1.5, 0);

            // Assign materials to faces
            // Each face is a triangle with 3 vertices in the index buffer
            // We need to use groups to assign different materials
            geometry.clearGroups();
            for (let i = 0; i < 20; i++) {
                geometry.addGroup(i * 3, 3, i);
            }

            // Create mesh with multiple materials
            const d20Mesh = new THREE.Mesh(geometry, faceMaterials);
            scene.add(d20Mesh);

            // Gold edge lines (wireframe)
            const edgesGeometry = new THREE.EdgesGeometry(geometry);
            const lineMaterial = new THREE.LineBasicMaterial({ color: 0xffd700, linewidth: 2 });
            const wireframe = new THREE.LineSegments(edgesGeometry, lineMaterial);
            d20Mesh.add(wireframe);

            // Lighting
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
            scene.add(ambientLight);

            const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
            directionalLight.position.set(5, 10, 7.5);
            scene.add(directionalLight);

            const pointLight = new THREE.PointLight(0xffd700, 0.4, 100);
            pointLight.position.set(-5, -5, 5);
            scene.add(pointLight);

            // Position camera
            camera.position.z = 4;

            // Rotation state
            let targetRotationX = 0;
            let targetRotationY = 0;

            // RANDOM ROLL FUNCTION
            function rollD20() {
                // Random rotation target (simulate roll)
                targetRotationX = Math.random() * Math.PI * 4 - Math.PI * 2;
                targetRotationY = Math.random() * Math.PI * 4 - Math.PI * 2;
            }

            // Roll every 4 seconds
            setInterval(rollD20, 4000);
            setTimeout(rollD20, 500);

            // Animation loop
            function animate() {
                requestAnimationFrame(animate);

                // Smooth rotation towards target
                d20Mesh.rotation.x += (targetRotationX - d20Mesh.rotation.x) * 0.05;
                d20Mesh.rotation.y += (targetRotationY - d20Mesh.rotation.y) * 0.05;

                // Constant slow spin
                targetRotationY += 0.002;

                renderer.render(scene, camera);
            }

            animate();
        })();

        // --- BITS ANIMATION (CANVAS) ---
        const canvas = document.getElementById('bits-canvas');
        const ctx = canvas.getContext('2d');

        let width, height;
        let bits = [];

        // Colors from palette
        const bitColors = ['#c5a059', '#630f0f', '#4a3b2a', '#2b1d0e'];

        function resize() {
            width = window.innerWidth;
            height = window.innerHeight;
            canvas.width = width;
            canvas.height = height;
        }

        class Bit {
            constructor() {
                this.x = Math.random() * width;
                this.y = Math.random() * height - height;
                this.size = Math.random() * 5 + 2; // 2px to 7px squares
                this.speedY = Math.random() * 2 + 0.5;
                this.color = bitColors[Math.floor(Math.random() * bitColors.length)];
                this.opacity = Math.random() * 0.5 + 0.1;
                this.rot = 0;
                this.rotSpeed = (Math.random() - 0.5) * 0.1;
            }

            update() {
                this.y += this.speedY;
                this.rot += this.rotSpeed;

                // Reset if falls off screen
                if (this.y > height) {
                    this.y = -20;
                    this.x = Math.random() * width;
                }
            }

            draw() {
                ctx.save();
                ctx.globalAlpha = this.opacity;
                ctx.fillStyle = this.color;
                ctx.translate(this.x, this.y);
                ctx.rotate(this.rot);
                ctx.fillRect(-this.size / 2, -this.size / 2, this.size, this.size);
                ctx.restore();
            }
        }

        function initBits() {
            bits = [];
            for (let i = 0; i < 150; i++) {
                bits.push(new Bit());
            }
        }

        function animate() {
            ctx.clearRect(0, 0, width, height);
            bits.forEach(bit => {
                bit.update();
                bit.draw();
            });
            requestAnimationFrame(animate);
        }

        window.addEventListener('resize', () => {
            resize();
            initBits();
        });

        // Init
        resize();
        initBits();
        animate();

    </script>
</body>

</html>